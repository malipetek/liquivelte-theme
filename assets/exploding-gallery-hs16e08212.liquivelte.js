import{SvelteComponent as e,init as t,safe_not_equal as l,element as i,space as s,text as n,claim_element as a,children as o,detach as r,claim_space as c,claim_text as g,attr as d,set_style as h,insert_hydration as m,append_hydration as u,noop as v,destroy_each as p,getContext as f,component_subscribe as _,onMount as x,src_url_equal as b,add_render_callback as $,add_resize_listener as y,tweened as k,binding_callbacks as T,identity as w}from'./liquivelte-svelte-hs27c0c7ec.liquivelte.js';import{cachedLiquid as E}from'./liquivelte-liquid-hs16e0894c.liquivelte.js';function get_each_context(e,t,l){const i=e.slice();i[31]=t[l],i[34]=l;const s={first:0===i[34],index:i[34]+1,index0:i[34],last:i[34]===i[4].blocks.length-1,rindex:i[4].blocks.length-i[34],rindex0:i[4].blocks.length-i[34]-1,length:i[4].blocks.length};return i[32]=s,i}function create_each_block(e){let t;let l;let n;let g;let v;let p;let f;let _;let x;let k;let T;let w;let E;function div_elementresize_handler(){e[19].call(t,e[32])}return{c(){t=i("div"),l=i("picture"),n=i("source"),v=s(),p=i("source"),_=s(),x=i("img"),w=s(),this.h()},l(e){t=a(e,"DIV",{class:!0,style:!0});var i=o(t);l=a(i,"PICTURE",{class:!0});var s=o(l);n=a(s,"SOURCE",{media:!0,srcset:!0}),v=c(s),p=a(s,"SOURCE",{media:!0,srcset:!0}),_=c(s),x=a(s,"IMG",{class:!0,src:!0,alt:!0,style:!0}),s.forEach(r),w=c(i),i.forEach(r),this.h()},h(){d(n,"media","(min-width:650px)"),d(n,"srcset",g=e[9].img_url(e[31].settings.image,'x800')),d(p,"media","(min-width:1200px)"),d(p,"srcset",f=e[9].img_url(e[31].settings.image,'x800')),d(x,"class"," svelte-12dbek"),b(x.src,k=e[9].img_url(e[31].settings.image,'x800'))||d(x,"src",k),d(x,"alt",T=e[31].settings.image.alt),h(x,"width","auto"),d(l,"class"," svelte-12dbek"),d(t,"class","image-container a svelte-12dbek"),h(t,"--image-aspect-ratio",e[31].settings.image.aspect_ratio),$((()=>div_elementresize_handler.call(t)))},m(e,i){m(e,t,i),u(t,l),u(l,n),u(l,v),u(l,p),u(l,_),u(l,x),u(t,w),E=y(t,div_elementresize_handler.bind(t))},p(l,i){e=l,16&i[0]&&g!==(g=e[9].img_url(e[31].settings.image,'x800'))&&d(n,"srcset",g),16&i[0]&&f!==(f=e[9].img_url(e[31].settings.image,'x800'))&&d(p,"srcset",f),16&i[0]&&!b(x.src,k=e[9].img_url(e[31].settings.image,'x800'))&&d(x,"src",k),16&i[0]&&T!==(T=e[31].settings.image.alt)&&d(x,"alt",T),16&i[0]&&h(t,"--image-aspect-ratio",e[31].settings.image.aspect_ratio)},d(e){e&&r(t),E()}}}function create_fragment(e){let t;let l;let f;let _;let x;let b;let $;let y=e[4].blocks;let k=[];for(let t=0;t<y.length;t+=1)k[t]=create_each_block(get_each_context(e,y,t));return{c(){t=i("div"),l=i("div"),f=i("div");for(let e=0;e<k.length;e+=1)k[e].c();_=s(),x=i("div"),b=n(" "),this.h()},l(e){t=a(e,"DIV",{class:!0,style:!0});var i=o(t);l=a(i,"DIV",{class:!0});var s=o(l);f=a(s,"DIV",{class:!0});var n=o(f);for(let e=0;e<k.length;e+=1)k[e].l(n);n.forEach(r),s.forEach(r),_=c(i),x=a(i,"DIV",{class:!0,style:!0});var d=o(x);b=g(d," "),d.forEach(r),i.forEach(r),this.h()},h(){d(f,"class","exp-gallery-stage svelte-12dbek"),d(l,"class","stage-container svelte-12dbek"),d(x,"class","exp-gallery-placeholder"),h(x,"height",e[5]+z+"px"),d(t,"class","exp-gallery-container svelte-12dbek"),d(t,"style",$="--explode-gap: 1em; --explode-size-imbalance: 0%; --image-oversize: 1; "+e[6].join(';')+"; "+e[8].join(';')+"; "+e[7].join(';'))},m(i,s){m(i,t,s),u(t,l),u(l,f);for(let e=0;e<k.length;e+=1)k[e].m(f,null);e[20](f),u(t,_),u(t,x),u(x,b),e[21](t)},p(e,l){if(540&l[0]){let t;for(y=e[4].blocks,t=0;t<y.length;t+=1){const i=get_each_context(e,y,t);k[t]?k[t].p(i,l):(k[t]=create_each_block(i),k[t].c(),k[t].m(f,null))}for(;t<k.length;t+=1)k[t].d(1);k.length=y.length}32&l[0]&&h(x,"height",e[5]+z+"px"),448&l[0]&&$!==($="--explode-gap: 1em; --explode-size-imbalance: 0%; --image-oversize: 1; "+e[6].join(';')+"; "+e[8].join(';')+"; "+e[7].join(';'))&&d(t,"style",$)},i:v,o:v,d(l){l&&r(t),p(k,l),e[20](null),e[21](null)}}}let z=900;function instance(e,t,l){let i;let s;let n;let a=f('svelteProps')||{};let o=f('lec')||{};const r=E(o);let c,g;let d=0;const h={};h.settings=a['sectionƒƒsettings'],h.blocks=a['sectionƒƒblocks'],a.imbalance;const m=[];const u=[];let v=0;let p=0;let b=0;let $=0;let y=0;let z=0;let H;let j=[{from:52,to:77,valueFrom:1,valueTo:10,variable:'--explode-gap',unit:'em'},{from:33,to:66,valueFrom:0,valueTo:20,variable:'--explode-size-imbalance',unit:'%'},{from:66,to:100,valueFrom:1,valueTo:2,variable:'--image-oversize'}];const q=k(0,{duration:100,easing:w});_(e,q,(e=>l(18,n=e)));let F=[1];function div_elementresize_handler(e){m[e.index]=this.clientWidth,u[e.index]=this.clientHeight,l(2,m),l(3,u)}function div0_binding(e){T[e?'unshift':'push']((()=>{g=e,l(1,g)}))}function div3_binding(e){T[e?'unshift':'push']((()=>{c=e,l(0,c)}))}return x((()=>{document.querySelector('.page-content').addEventListener('scroll',(e=>{l(11,d=e.target.scrollTop)}))})),e.$$.update=()=>{131072&e.$$.dirty[0]&&(H||l(17,H=[...document.querySelectorAll('.image-container')][4].children[0])),124931&e.$$.dirty[0]&&c&&g&&(c.offsetTop,l(12,v=c.clientHeight),c.offsetTop,window.innerHeight,c.offsetTop,window.innerHeight,l(13,p=c.offsetTop-d<0),l(14,b=p?b:c.clientHeight),l(15,$=Math.abs(c.offsetTop-d)),c.offsetTop,l(16,y=(d+window.innerHeight-c.offsetTop)/(c.clientHeight+window.innerHeight)*100),l(16,y=y>0?y:0),q.set(y),l(5,z=g.clientHeight)),262144&e.$$.dirty[0]&&l(6,F=j.map((e=>{let t=(n-e.from)/(e.to-e.from);let l=e.valueFrom+(e.valueTo-e.valueFrom)*t;return l=l<e.valueFrom?e.valueFrom:l>e.valueTo?e.valueTo:Math.round(1e6*l)/1e6,`${e.variable}:${l}${e.unit||''}`}))),4&e.$$.dirty[0]&&l(8,i=m.map(((e,t)=>`--item-${t}-width: ${e}px`))),8&e.$$.dirty[0]&&l(7,s=u.map(((e,t)=>`--item-${t}-height: ${e}px`)))},[c,g,m,u,h,z,F,s,i,r,q,d,v,p,b,$,y,H,n,div_elementresize_handler,div0_binding,div3_binding]}class Exploding_gallery extends e{constructor(e){super(),t(this,e,instance,create_fragment,l,{},null,[-1,-1])}}export{Exploding_gallery as default};
