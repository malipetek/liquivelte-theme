import{$ as e,methods as t,getWindow as a,getDocument as r}from'./framework7-liquivelte-get-params-hs24a457de.liquivelte.js';import{htm as n}from'./htm.js-hs16e08288.liquivelte.js';Object.keys(t).forEach((a=>{'$'!==a&&(e.fn[a]=t[a])}));var o=e;let s=0;function uniqueNumber(){return s+=1,s}function id(e,t){void 0===e&&(e='xxxxxxxxxx'),void 0===t&&(t='0123456789abcdef');const a=t.length;return e.replace(/x/g,(()=>t[Math.floor(Math.random()*a)]))}const i="\n  <span class=\"preloader-inner\">\n    <svg viewBox=\"0 0 36 36\">\n      <circle cx=\"18\" cy=\"18\" r=\"16\"></circle>\n    </svg>\n  </span>\n".trim();const l=`\n  <span class="preloader-inner">\n    ${[0,1,2,3,4,5,6,7].map((()=>'<span class="preloader-inner-line"></span>')).join('')}\n  </span>\n`.trim();const c="\n  <span class=\"preloader-inner\">\n    <span class=\"preloader-inner-circle\"></span>\n  </span>\n";function eventNameToColonCase(e){let t;return e.split('').map(((e,a)=>e.match(/[A-Z]/)&&0!==a&&!t?(t=!0,`:${e.toLowerCase()}`):e.toLowerCase())).join('')}function deleteProps(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}function requestAnimationFrame(e){const t=a();return t.requestAnimationFrame(e)}function cancelAnimationFrame(e){const t=a();return t.cancelAnimationFrame(e)}function nextTick(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function nextFrame$1(e){return requestAnimationFrame((()=>{requestAnimationFrame(e)}))}function now(){return Date.now()}function parseUrlQuery(e){const t=a();const r={};let n=e||t.location.href;let o;let s;let i;let l;if('string'==typeof n&&n.length)for(n=n.indexOf('?')>-1?n.replace(/\S*\?/,''):'',s=n.split('&').filter((e=>''!==e)),l=s.length,o=0;o<l;o+=1)i=s[o].replace(/#\S+/g,'').split('='),r[decodeURIComponent(i[0])]=void 0===i[1]?void 0:decodeURIComponent(i.slice(1).join('='))||'';return r}function getTranslate(e,t){void 0===t&&(t='x');const r=a();let n;let o;let s;const i=r.getComputedStyle(e,null);return r.WebKitCSSMatrix?(o=i.transform||i.webkitTransform,o.split(',').length>6&&(o=o.split(', ').map((e=>e.replace(',','.'))).join(', ')),s=new r.WebKitCSSMatrix('none'===o?'':o)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue('transform').replace('translate(','matrix(1, 0, 0, 1,'),n=s.toString().split(',')),'x'===t&&(o=r.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),'y'===t&&(o=r.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),o||0}function serializeObject(e,t){if(void 0===t&&(t=[]),'string'==typeof e)return e;const a=[];const r='&';let n;function varName(e){if(t.length>0){let a='';for(let e=0;e<t.length;e+=1)a+=0===e?t[e]:`[${encodeURIComponent(t[e])}]`;return`${a}[${encodeURIComponent(e)}]`}return encodeURIComponent(e)}function varValue(e){return encodeURIComponent(e)}return Object.keys(e).forEach((o=>{let s;if(Array.isArray(e[o])){s=[];for(let a=0;a<e[o].length;a+=1)Array.isArray(e[o][a])||'object'!=typeof e[o][a]?s.push(`${varName(o)}[]=${varValue(e[o][a])}`):(n=t.slice(),n.push(o),n.push(String(a)),s.push(serializeObject(e[o][a],n)));s.length>0&&a.push(s.join(r))}else null===e[o]||''===e[o]?a.push(`${varName(o)}=`):'object'==typeof e[o]?(n=t.slice(),n.push(o),s=serializeObject(e[o],n),''!==s&&a.push(s)):void 0!==e[o]&&''!==e[o]?a.push(`${varName(o)}=${varValue(e[o])}`):''===e[o]&&a.push(varName(o))})),a.join(r)}function isObject(e){return'object'==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function merge(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const r=t[0];t.splice(0,1);const n=t;for(let e=0;e<n.length;e+=1){const a=t[e];if(null!=a){const e=Object.keys(Object(a));for(let t=0,n=e.length;t<n;t+=1){const n=e[t];const o=Object.getOwnPropertyDescriptor(a,n);void 0!==o&&o.enumerable&&(r[n]=a[n])}}}return r}function extend(){let e=!0;let t;let a;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];'boolean'==typeof n[0]?(e=n[0],t=n[1],n.splice(0,2),a=n):(t=n[0],n.splice(0,1),a=n);for(let r=0;r<a.length;r+=1){const a=n[r];if(null!=a){const r=Object.keys(Object(a));for(let n=0,o=r.length;n<o;n+=1){const o=r[n];const s=Object.getOwnPropertyDescriptor(a,o);void 0!==s&&s.enumerable&&(e?isObject(t[o])&&isObject(a[o])?extend(t[o],a[o]):!isObject(t[o])&&isObject(a[o])?(t[o]={},extend(t[o],a[o])):t[o]=a[o]:t[o]=a[o])}}}return t}function colorHexToRgb(e){const t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,a,r)=>t+t+a+a+r+r));const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return a?a.slice(1).map((e=>parseInt(e,16))):null}function colorRgbToHex(e,t,a){const r=[e,t,a].map((e=>{const t=e.toString(16);return 1===t.length?`0${t}`:t})).join('');return`#${r}`}function colorRgbToHsl(e,t,a){e/=255,t/=255,a/=255;const r=Math.max(e,t,a);const n=Math.min(e,t,a);const o=r-n;let s;0===o?s=0:r===e?s=(t-a)/o%6:r===t?s=(a-e)/o+2:r===a&&(s=(e-t)/o+4);const i=(n+r)/2;const l=0===o?0:o/(1-Math.abs(2*i-1));return s<0&&(s=6+s),[60*s,l,i]}function colorHslToRgb(e,t,a){const r=(1-Math.abs(2*a-1))*t;const n=e/60;const o=r*(1-Math.abs(n%2-1));let s;Number.isNaN(e)||void 0===e?s=[0,0,0]:n<=1?s=[r,o,0]:n<=2?s=[o,r,0]:n<=3?s=[0,r,o]:n<=4?s=[0,o,r]:n<=5?s=[o,0,r]:n<=6&&(s=[r,0,o]);const i=a-r/2;return s.map((e=>Math.max(0,Math.min(255,Math.round(255*(e+i))))))}function colorHsbToHsl(e,t,a){const r={h:e,s:0,l:0};const n=e,o=t,s=a;return r.l=(2-o)*s/2,r.s=r.l&&r.l<1?o*s/(r.l<.5?2*r.l:2-2*r.l):r.s,[r.h,r.s,r.l]}function colorHslToHsb(e,t,a){const r={h:e,s:0,b:0};const n=e,o=t,s=a;const i=o*(s<.5?s:1-s);return r.b=s+i,r.s=s>0?2*i/r.b:r.s,[r.h,r.s,r.b]}function colorThemeCSSProperties(){let e;let t;for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];if(1===r.length?(e=r[0],t=colorHexToRgb(e)):3===r.length&&(t=r,e=colorRgbToHex(...t)),!t)return{};const o=colorRgbToHsl(...t);const s=[o[0],o[1],Math.max(0,o[2]-.08)];const i=[o[0],o[1],Math.max(0,o[2]+.08)];const l=colorRgbToHex(...colorHslToRgb(...s));const c=colorRgbToHex(...colorHslToRgb(...i));return{'--f7-theme-color':e,'--f7-theme-color-rgb':t.join(', '),'--f7-theme-color-shade':l,'--f7-theme-color-tint':c}}function bindMethods(e,t){Object.keys(t).forEach((a=>{isObject(t[a])&&Object.keys(t[a]).forEach((r=>{'function'==typeof t[a][r]&&(t[a][r]=t[a][r].bind(e))})),e[a]=t[a]}))}function flattenArray(){const e=[];for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return a.forEach((t=>{Array.isArray(t)?e.push(...flattenArray(...t)):e.push(t)})),e}var p=Object.freeze({__proto__:null,uniqueNumber:uniqueNumber,id:id,mdPreloaderContent:i,iosPreloaderContent:l,auroraPreloaderContent:c,eventNameToColonCase:eventNameToColonCase,deleteProps:deleteProps,requestAnimationFrame:requestAnimationFrame,cancelAnimationFrame:cancelAnimationFrame,nextTick:nextTick,nextFrame:nextFrame$1,now:now,parseUrlQuery:parseUrlQuery,getTranslate:getTranslate,serializeObject:serializeObject,isObject:isObject,merge:merge,extend:extend,colorHexToRgb:colorHexToRgb,colorRgbToHex:colorRgbToHex,colorRgbToHsl:colorRgbToHsl,colorHslToRgb:colorHslToRgb,colorHsbToHsl:colorHsbToHsl,colorHslToHsb:colorHslToHsb,colorThemeCSSProperties:colorThemeCSSProperties,bindMethods:bindMethods,flattenArray:flattenArray});let d;function calcSupport(){const e=a();const t=r();return{touch:!!('ontouchstart'in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&'maxTouchPoints'in e.navigator&&e.navigator.maxTouchPoints>=0,passiveListener:function checkPassiveListener(){let t=!1;try{const a=Object.defineProperty({},'passive',{get(){t=!0}});e.addEventListener('testPassiveListener',null,a)}catch(e){}return t}(),intersectionObserver:function checkObserver(){return'IntersectionObserver'in e}()}}function getSupport(){return d||(d=calcSupport()),d}let u;function calcDevice(e){let{userAgent:t}=void 0===e?{}:e;const r=getSupport();const n=a();const o=n.navigator.platform;const s=t||n.navigator.userAgent;const i={ios:!1,android:!1,androidChrome:!1,desktop:!1,iphone:!1,ipod:!1,ipad:!1,edge:!1,ie:!1,firefox:!1,macos:!1,windows:!1,cordova:!!n.cordova,electron:!1,capacitor:!!n.Capacitor,nwjs:!1};const l=n.screen.width;const c=n.screen.height;const p=s.match(/(Android);?[\s\/]+([\d.]+)?/);let d=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/);const m=!d&&s.match(/(iPhone\sOS|iOS|iPhone;\sCPU\sOS)\s([\d_]+)/);const v=s.indexOf('MSIE ')>=0||s.indexOf('Trident/')>=0;const f=s.indexOf('Edge/')>=0;const g=s.indexOf('Gecko/')>=0&&s.indexOf('Firefox/')>=0;const b='Win32'===o;const y=s.toLowerCase().indexOf('electron')>=0;const C='undefined'!=typeof nw&&'undefined'!=typeof process&&void 0!==process.versions&&void 0!==process.versions.nw;let w='MacIntel'===o;const k=['1024x1366','1366x1024','834x1194','1194x834','834x1112','1112x834','768x1024','1024x768','820x1180','1180x820','810x1080','1080x810'];!d&&w&&r.touch&&k.indexOf(`${l}x${c}`)>=0&&(d=s.match(/(Version)\/([\d.]+)/),d||(d=[0,1,'13_0_0']),w=!1),i.ie=v,i.edge=f,i.firefox=g,p&&(i.os='android',i.osVersion=p[2],i.android=!0,i.androidChrome=s.toLowerCase().indexOf('chrome')>=0),(d||m||u)&&(i.os='ios',i.ios=!0),m&&!u&&(i.osVersion=m[2].replace(/_/g,'.'),i.iphone=!0),d&&(i.osVersion=d[2].replace(/_/g,'.'),i.ipad=!0),u&&(i.osVersion=u[3]?u[3].replace(/_/g,'.'):null,i.ipod=!0),i.ios&&i.osVersion&&s.indexOf('Version/')>=0&&'10'===i.osVersion.split('.')[0]&&(i.osVersion=s.toLowerCase().split('version/')[1].split(' ')[0]),i.webView=!(!(m||d||u)||!s.match(/.*AppleWebKit(?!.*Safari)/i)&&!n.navigator.standalone)||n.matchMedia&&n.matchMedia('(display-mode: standalone)').matches,i.webview=i.webView,i.standalone=i.webView,i.desktop=!(i.ios||i.android)||y||C,i.desktop&&(i.electron=y,i.nwjs=C,i.macos=w,i.windows=b,i.macos&&(i.os='macos'),i.windows&&(i.os='windows')),i.pixelRatio=n.devicePixelRatio||1;const x='(prefers-color-scheme: dark)';const $='(prefers-color-scheme: light)';return i.prefersColorScheme=function prefersColorTheme(){let e;return n.matchMedia&&n.matchMedia($).matches&&(e='light'),n.matchMedia&&n.matchMedia(x).matches&&(e='dark'),e},i}function getDevice(e,t){return void 0===e&&(e={}),u&&!t||(u=calcDevice(e)),u}class EventsClass{constructor(e){void 0===e&&(e=[]);const t=this;t.eventsParents=e,t.eventsListeners={}}on(e,t,a){const r=this;if('function'!=typeof t)return r;const n=a?'unshift':'push';return e.split(' ').forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][n](t)})),r}once(e,t,a){const r=this;if('function'!=typeof t)return r;function onceHandler(){r.off(e,onceHandler),onceHandler.f7proxy&&delete onceHandler.f7proxy;for(var a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];t.apply(r,n)}return onceHandler.f7proxy=t,r.on(e,onceHandler,a)}off(e,t){const a=this;return a.eventsListeners?(e.split(' ').forEach((e=>{void 0===t?a.eventsListeners[e]=[]:a.eventsListeners[e]&&a.eventsListeners[e].forEach(((r,n)=>{(r===t||r.f7proxy&&r.f7proxy===t)&&a.eventsListeners[e].splice(n,1)}))})),a):a}emit(){const e=this;if(!e.eventsListeners)return e;let t;let a;let r;let n;for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];'string'==typeof s[0]||Array.isArray(s[0])?(t=s[0],a=s.slice(1,s.length),r=e,n=e.eventsParents):(t=s[0].events,a=s[0].data,r=s[0].context||e,n=s[0].local?[]:s[0].parents||e.eventsParents);const l=Array.isArray(t)?t:t.split(' ');const c=l.map((e=>e.replace('local::','')));const p=l.filter((e=>e.indexOf('local::')<0));return c.forEach((t=>{if(e.eventsListeners&&e.eventsListeners[t]){const n=[];e.eventsListeners[t].forEach((e=>{n.push(e)})),n.forEach((e=>{e.apply(r,a)}))}})),n&&n.length>0&&n.forEach((e=>{e.emit(p,...a)})),e}}var m=EventsClass;class Framework7Class extends m{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),super(t);const a=this;a.params=e,a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])}))}useModuleParams(e,t){if(e.params){const a={};Object.keys(e.params).forEach((e=>{void 0!==t[e]&&(a[e]=extend({},t[e]))})),extend(t,e.params),Object.keys(a).forEach((e=>{extend(t[e],a[e])}))}}useModulesParams(e){const t=this;t.modules&&Object.keys(t.modules).forEach((a=>{const r=t.modules[a];r.params&&extend(e,r.params)}))}useModule(e,t){void 0===e&&(e=''),void 0===t&&(t={});const a=this;if(!a.modules)return;const r='string'==typeof e?a.modules[e]:e;r&&(r.instance&&Object.keys(r.instance).forEach((e=>{const t=r.instance[e];a[e]='function'==typeof t?t.bind(a):t})),r.on&&a.on&&Object.keys(r.on).forEach((e=>{a.on(e,r.on[e])})),r.vnode&&(a.vnodeHooks||(a.vnodeHooks={}),Object.keys(r.vnode).forEach((e=>{Object.keys(r.vnode[e]).forEach((t=>{const n=r.vnode[e][t];a.vnodeHooks[t]||(a.vnodeHooks[t]={}),a.vnodeHooks[t][e]||(a.vnodeHooks[t][e]=[]),a.vnodeHooks[t][e].push(n.bind(a))}))}))),r.create&&r.create.bind(a)(t))}useModules(e){void 0===e&&(e={});const t=this;t.modules&&Object.keys(t.modules).forEach((a=>{const r=e[a]||{};t.useModule(a,r)}))}static set components(e){const t=this;t.use&&t.use(e)}static installModule(e){const t=this;t.prototype.modules||(t.prototype.modules={});const a=e.name||`${Object.keys(t.prototype.modules).length}_${now()}`;if(t.prototype.modules[a]=e,e.proto&&Object.keys(e.proto).forEach((a=>{t.prototype[a]=e.proto[a]})),e.static&&Object.keys(e.static).forEach((a=>{t[a]=e.static[a]})),e.install){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e.install.apply(t,n)}return t}static use(e){const t=this;if(Array.isArray(e))return e.forEach((e=>t.installModule(e))),t;for(var a=arguments.length,r=new Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return t.installModule(e,...r)}}var v=Framework7Class;function ConstructorMethods(e){void 0===e&&(e={});const{defaultSelector:t,constructor:a,domProp:r,app:n,addMethods:s}=e;const i={create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n?new a(n,...t):new a(...t)},get(e){if(void 0===e&&(e=t),e instanceof a)return e;const n=o(e);return 0!==n.length?n[0][r]:void 0},destroy(e){const t=i.get(e);if(t&&t.destroy)return t.destroy()}};return s&&Array.isArray(s)&&s.forEach((e=>{i[e]=function(a){void 0===a&&(a=t);const r=i.get(a);for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];if(r&&r[e])return r[e](...o)}})),i}function ModalMethods(e){void 0===e&&(e={});const{defaultSelector:t,constructor:a,app:r}=e;const n=extend(ConstructorMethods({defaultSelector:t,constructor:a,app:r,domProp:'f7Modal'}),{open(e,t,n){let s=o(e);if(s.length>1&&n){const e=o(n).parents('.page');e.length&&s.each((t=>{const a=o(t);a.parents(e)[0]===e[0]&&(s=a)}))}if(s.length>1&&(s=s.eq(s.length-1)),!s.length)return;let i=s[0].f7Modal;if(!i){const e=s.dataset();i=new a(r,{el:s,...e})}return i.open(t)},close(e,n,s){void 0===e&&(e=t);let i=o(e);if(!i.length)return;if(i.length>1){let e;if(s){const t=o(s);t.length&&(e=t.parents(i))}i=e&&e.length>0?e:i.eq(i.length-1)}let l=i[0].f7Modal;if(!l){const e=i.dataset();l=new a(r,{el:i,...e})}return l.close(n)}});return n}const f=[];function loadModule(e){const t=this;const n=a();const s=r();return new Promise(((a,r)=>{const i=t.instance;let l;let c;let p;if(e){if('string'==typeof e){const t=e.match(/([a-z0-9-]*)/i);if(e.indexOf('.')<0&&t&&t[0].length===e.length){if(!i||i&&!i.params.lazyModulesPath)return void r(new Error('Framework7: "lazyModulesPath" app parameter must be specified to fetch module by name'));l=`${i.params.lazyModulesPath}/${e}/${e}.lazy.js`}else l=e}else'function'==typeof e?p=e:c=e;if(p){const e=p(t,!1);if(!e)return void r(new Error("Framework7: Can't find Framework7 component in specified component function"));if(t.prototype.modules&&t.prototype.modules[e.name])return void a();install(e),a()}if(c){const e=c;if(!e)return void r(new Error("Framework7: Can't find Framework7 component in specified component"));if(t.prototype.modules&&t.prototype.modules[e.name])return void a();install(e),a()}if(l){if(f.indexOf(l)>=0)return void a();f.push(l);const e=new Promise(((e,a)=>{t.request.get(l,(r=>{const i=id();const c=`f7_component_loader_callback_${i}`;const p=s.createElement('script');p.innerHTML=`window.${c} = function (Framework7, Framework7AutoInstallComponent) {return ${r.trim()}}`,o('head').append(p);const d=n[c];delete n[c],o(p).remove();const u=d(t,!1);u?(t.prototype.modules&&t.prototype.modules[u.name]||install(u),e()):a(new Error(`Framework7: Can't find Framework7 component in ${l} file`))}),((e,t)=>{a(e,t)}))}));const c=new Promise((e=>{t.request.get(l.replace('.lazy.js',i.rtl?'.rtl.css':'.css').replace('.js',i.rtl?'.rtl.css':'.css'),(t=>{const a=s.createElement('style');a.innerHTML=t,o('head').append(a),e()}),(()=>{e()}))}));Promise.all([e,c]).then((()=>{a()})).catch((e=>{r(e)}))}}else r(new Error('Framework7: Lazy module must be specified'));function install(e){t.use(e),i&&(i.useModuleParams(e,i.params),i.useModule(e))}}))}function jsx(e,t){const a=t||{};for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];const s=n||[];const i=Object.keys(a).map((e=>'_'===e[0]?a[e]?e.replace('_',''):'':`${e}="${a[e]}"`)).filter((e=>!!e)).join(' ');if(['path','img','circle','polygon','line','input'].indexOf(e)>=0)return`<${e} ${i} />`.trim();const l=s.filter((e=>!!e)).map((e=>Array.isArray(e)?e.join(''):e)).join('');return`<${e} ${i}>${l}</${e}>`.trim()}class Framework7 extends v{constructor(e){if(void 0===e&&(e={}),super(e),Framework7.instance&&'undefined'!=typeof window)throw new Error("Framework7 is already initialized and can't be initialized more than once");const t=getDevice({userAgent:e.userAgent||void 0});const n=getSupport();const s=extend({},e);const i=this;i.device=t,i.support=n;const l=a();const c=r();Framework7.instance=i;const p={version:'1.0.0',id:'io.framework7.myapp',el:'body',theme:'auto',language:l.navigator.language,routes:[],name:'Framework7',lazyModulesPath:null,initOnDeviceReady:!0,init:!0,autoDarkMode:!1,iosTranslucentBars:!0,iosTranslucentModals:!0,component:void 0,componentUrl:void 0,userAgent:null,url:null};return i.useModulesParams(p),i.params=extend(p,e),extend(i,{id:i.params.id,name:i.params.name,version:i.params.version,routes:i.params.routes,language:i.params.language,theme:function getTheme(){return'auto'===i.params.theme?t.ios?'ios':t.desktop&&t.electron?'aurora':'md':i.params.theme}(),passedParams:s,online:l.navigator.onLine}),e.store&&(i.params.store=e.store),i.$el&&i.$el[0]&&(i.$el[0].f7=i),i.useModules(),i.initStore(),i.params.init&&(t.cordova&&i.params.initOnDeviceReady?o(c).on('deviceready',(()=>{i.init()})):i.init()),i}mount(e){const t=this;const n=a();const s=r();const i=o(e||t.params.el).eq(0);t.$el=i,t.$el&&t.$el[0]&&(t.el=t.$el[0],t.el.f7=t,t.rtl='rtl'===i.css('direction'));const l='(prefers-color-scheme: dark)';const c='(prefers-color-scheme: light)';t.mq={},n.matchMedia&&(t.mq.dark=n.matchMedia(l),t.mq.light=n.matchMedia(c)),t.colorSchemeListener=function colorSchemeListener(e){let{matches:a,media:r}=e;if(!a)return;const n=s.querySelector('html');r===l?(n.classList.add('dark'),t.darkMode=!0,t.emit('darkModeChange',!0)):r===c&&(n.classList.remove('dark'),t.darkMode=!1,t.emit('darkModeChange',!1))},t.emit('mount')}initStore(){const e=this;void 0!==e.params.store&&e.params.store.__store?e.store=e.params.store:e.store=e.createStore(e.params.store)}enableAutoDarkMode(){const e=a();const t=r();if(!e.matchMedia)return;const n=this;const o=t.querySelector('html');n.mq.dark&&n.mq.light&&(n.mq.dark.addListener(n.colorSchemeListener),n.mq.light.addListener(n.colorSchemeListener)),n.mq.dark&&n.mq.dark.matches?(o.classList.add('dark'),n.darkMode=!0,n.emit('darkModeChange',!0)):n.mq.light&&n.mq.light.matches&&(o.classList.remove('dark'),n.darkMode=!1,n.emit('darkModeChange',!1))}disableAutoDarkMode(){const e=a();if(!e.matchMedia)return;const t=this;t.mq.dark&&t.mq.dark.removeListener(t.colorSchemeListener),t.mq.light&&t.mq.light.removeListener(t.colorSchemeListener)}initAppComponent(e){const t=this;t.router.componentLoader(t.params.component,t.params.componentUrl,{componentOptions:{el:t.$el[0]}},(a=>{t.$el=o(a),t.$el[0].f7=t,t.$elComponent=a.f7Component,t.el=t.$el[0],e&&e()}),(()=>{}))}init(e){const t=this;t.mount(e);const init=()=>{if(t.initialized)return;t.$el.addClass('framework7-initializing'),t.rtl&&o('html').attr('dir','rtl'),t.params.autoDarkMode&&t.enableAutoDarkMode();const e=a();e.addEventListener('offline',(()=>{t.online=!1,t.emit('offline'),t.emit('connection',!1)})),e.addEventListener('online',(()=>{t.online=!0,t.emit('online'),t.emit('connection',!0)})),t.$el.addClass('framework7-root'),o('html').removeClass('ios md aurora').addClass(t.theme);const r=t.device;t.params.iosTranslucentBars&&'ios'===t.theme&&r.ios&&o('html').addClass('ios-translucent-bars'),t.params.iosTranslucentModals&&'ios'===t.theme&&r.ios&&o('html').addClass('ios-translucent-modals'),nextFrame$1((()=>{t.$el.removeClass('framework7-initializing')})),t.initialized=!0,t.emit('init')};return t.params.component||t.params.componentUrl?t.initAppComponent((()=>{init()})):init(),t}loadModule(){return Framework7.loadModule(...arguments)}loadModules(){return Framework7.loadModules(...arguments)}getVnodeHooks(e,t){const a=this;return a.vnodeHooks&&a.vnodeHooks[e]&&a.vnodeHooks[e][t]||[]}get $(){return o}static get Dom7(){return o}static get $(){return o}static get device(){return getDevice()}static get support(){return getSupport()}static get Class(){return v}static get Events(){return m}}Framework7.$jsx=jsx,Framework7.ModalMethods=ModalMethods,Framework7.ConstructorMethods=ConstructorMethods,Framework7.loadModule=loadModule,Framework7.loadModules=function loadModules(e){return Promise.all(e.map((e=>Framework7.loadModule(e))))};var g=Framework7;const b={};let y=0;class RequestResponse{constructor(e){Object.assign(this,e)}}class RequestError extends Error{constructor(e){super(),Object.assign(this,e)}}const request=e=>new Promise(((t,n)=>{const o=a();const s=r();const i=extend({},b);'beforeCreate beforeOpen beforeSend error complete success statusCode'.split(' ').forEach((e=>{delete i[e]}));const l=extend({url:o.location.toString(),method:'GET',data:!1,async:!0,cache:!0,user:'',password:'',headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:'text',contentType:'application/x-www-form-urlencoded',timeout:0},i);let c;const p=extend({},l,e);if(e.abortController&&(p.abortController=e.abortController),p.abortController&&p.abortController.canceled)return void n(new RequestError({options:p,status:'canceled',message:'canceled'}));function fireCallback(e){let t;let a;for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return b[e]&&(t=b[e](...n)),p[e]&&(a=p[e](...n)),'boolean'!=typeof t&&(t=!0),'boolean'!=typeof a&&(a=!0),(!p.abortController||!p.abortController.canceled||'beforeCreate'!==e&&'beforeOpen'!==e&&'beforeSend'!==e)&&(t&&a)}if(c=fireCallback('beforeCreate',p),!1===c)return void n(new RequestError({options:p,status:'canceled',message:'canceled'}));p.type&&(p.method=p.type);let d=p.url.indexOf('?')>=0?'&':'?';const u=p.method.toUpperCase();if(('GET'===u||'HEAD'===u||'OPTIONS'===u||'DELETE'===u)&&p.data){let e;e='string'==typeof p.data?p.data.indexOf('?')>=0?p.data.split('?')[1]:p.data:serializeObject(p.data),e.length&&(p.url+=d+e,'?'===d&&(d='&'))}if('json'===p.dataType&&p.url.indexOf('callback=')>=0){const e=`f7jsonp_${Date.now()+(y+=1)}`;let a;const r=p.url.split('callback=');let i=`${r[0]}callback=${e}`;if(r[1].indexOf('&')>=0){const e=r[1].split('&').filter((e=>e.indexOf('=')>0)).join('&');e.length>0&&(i+=`&${e}`)}let l=s.createElement('script');return l.type='text/javascript',l.onerror=function onerror(){clearTimeout(a),fireCallback('error',null,'scripterror','scripterror'),n(new RequestError({options:p,status:'scripterror',message:'scripterror'})),fireCallback('complete',null,'scripterror')},l.src=i,o[e]=function jsonpCallback(r){clearTimeout(a),fireCallback('success',r),l.parentNode.removeChild(l),l=null,delete o[e],t(new RequestResponse({options:p,data:r}))},s.querySelector('head').appendChild(l),void(p.timeout>0&&(a=setTimeout((()=>{l.parentNode.removeChild(l),l=null,fireCallback('error',null,'timeout','timeout'),n(new RequestError({options:p,status:'timeout',message:'timeout'}))}),p.timeout)))}'GET'!==u&&'HEAD'!==u&&'OPTIONS'!==u&&'DELETE'!==u||!1===p.cache&&(p.url+=`${d}_nocache${Date.now()}`);const m=new XMLHttpRequest;if(p.abortController){let e=!1;p.abortController.onAbort=()=>{e||(e=!0,m.abort(),n(new RequestError({options:p,xhr:m,status:'canceled',message:'canceled'})))}}if(m.requestUrl=p.url,m.requestParameters=p,c=fireCallback('beforeOpen',m,p),!1===c)return void n(new RequestError({options:p,xhr:m,status:'canceled',message:'canceled'}));m.open(u,p.url,p.async,p.user,p.password);let v=null;if(('POST'===u||'PUT'===u||'PATCH'===u)&&p.data)if(p.processData){const e=[ArrayBuffer,Blob,Document,FormData];if(e.indexOf(p.data.constructor)>=0)v=p.data;else{const e=`---------------------------${Date.now().toString(16)}`;'multipart/form-data'===p.contentType?m.setRequestHeader('Content-Type',`multipart/form-data; boundary=${e}`):m.setRequestHeader('Content-Type',p.contentType),v='';let t=serializeObject(p.data);if('multipart/form-data'===p.contentType){t=t.split('&');const a=[];for(let e=0;e<t.length;e+=1)a.push(`Content-Disposition: form-data; name="${t[e].split('=')[0]}"\r\n\r\n${t[e].split('=')[1]}\r\n`);v=`--${e}\r\n${a.join(`--${e}\r\n`)}--${e}--\r\n`}else v='application/json'===p.contentType?JSON.stringify(p.data):t}}else v=p.data,m.setRequestHeader('Content-Type',p.contentType);'json'!==p.dataType||p.headers&&p.headers.Accept||m.setRequestHeader('Accept','application/json'),p.headers&&Object.keys(p.headers).forEach((e=>{void 0!==p.headers[e]&&m.setRequestHeader(e,p.headers[e])})),void 0===p.crossDomain&&(p.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(p.url)&&RegExp.$2!==o.location.host),p.crossDomain||m.setRequestHeader('X-Requested-With','XMLHttpRequest'),p.xhrFields&&extend(m,p.xhrFields),m.onload=function onload(){if(m.status>=200&&m.status<300||0===m.status){let e;if('json'===p.dataType){let a;try{e=JSON.parse(m.responseText)}catch(e){a=!0}a?(fireCallback('error',m,'parseerror','parseerror'),n(new RequestError({options:p,xhr:m,status:'parseerror',message:'parseerror'}))):(fireCallback('success',e,m.status,m),t(new RequestResponse({options:p,data:e,status:m.status,xhr:m})))}else e='text'===m.responseType||''===m.responseType?m.responseText:m.response,fireCallback('success',e,m.status,m),t(new RequestResponse({options:p,data:e,status:m.status,xhr:m}))}else fireCallback('error',m,m.status,m.statusText),n(new RequestError({options:p,xhr:m,status:m.status,message:m.statusText}));p.statusCode&&(b.statusCode&&b.statusCode[m.status]&&b.statusCode[m.status](m),p.statusCode[m.status]&&p.statusCode[m.status](m)),fireCallback('complete',m,m.status)},m.onerror=function onerror(){fireCallback('error',m,m.status,m.status),n(new RequestError({options:p,xhr:m,status:m.status,message:m.statusText})),fireCallback('complete',m,'error')},p.timeout>0&&(m.timeout=p.timeout,m.ontimeout=()=>{fireCallback('error',m,'timeout','timeout'),n(new RequestError({options:p,xhr:m,status:'timeout',message:'timeout'})),fireCallback('complete',m,'timeout')}),c=fireCallback('beforeSend',m,p),!1!==c?m.send(v):n(new RequestError({options:p,xhr:m,status:'canceled',message:'canceled'}))}));function requestShortcut(e){let[t,a,r,n,o]=[];for(var s=arguments.length,i=new Array(s>1?s-1:0),l=1;l<s;l++)i[l-1]=arguments[l];'function'==typeof i[1]?[t,r,n,o]=i:[t,a,r,n,o]=i,[r,n].forEach((e=>{'string'==typeof e&&(o=e,e===r?r=void 0:n=void 0)})),o=o||('json'===e||'postJSON'===e?'json':void 0);const c={url:t,method:'post'===e||'postJSON'===e?'POST':'GET',data:a,success:r,error:n,dataType:o};return'postJSON'===e&&extend(c,{contentType:'application/json',processData:!1,crossDomain:!0,data:'string'==typeof a?a:JSON.stringify(a)}),request(c)}Object.assign(request,{get:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return requestShortcut('get',...t)},post:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return requestShortcut('post',...t)},json:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return requestShortcut('json',...t)},getJSON:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return requestShortcut('json',...t)},postJSON:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return requestShortcut('postJSON',...t)}}),request.abortController=()=>{const e={canceled:!1,onAbort:null,abort(){e.canceled=!0,e.onAbort&&e.onAbort()}};return e},request.setup=function setup(e){e.type&&!e.method&&extend(e,{method:e.type}),extend(b,e)};var C=request;var w={name:'device',static:{getDevice:getDevice},on:{init(){const e=r();const t=getDevice();const a=[];const n=e.querySelector('html');const o=e.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');n&&(t.standalone&&t.ios&&o&&'black-translucent'===o.content&&a.push('device-full-viewport'),a.push(`device-pixel-ratio-${Math.floor(t.pixelRatio)}`),t.os&&!t.desktop?a.push(`device-${t.os}`):t.desktop&&(a.push('device-desktop'),t.os&&a.push(`device-${t.os}`)),t.cordova&&a.push('device-cordova'),t.capacitor&&a.push('device-capacitor'),a.forEach((e=>{n.classList.add(e)})))}}};var k={name:'support',static:{getSupport:getSupport}};var x={name:'utils',proto:{utils:p},static:{utils:p}};var $={name:'resize',create(){const e=this;e.getSize=()=>{if(!e.el)return{width:0,height:0,left:0,top:0};const t=e.$el.offset();const[a,r,n,o]=[e.el.offsetWidth,e.el.offsetHeight,t.left,t.top];return e.width=a,e.height=r,e.left=n,e.top=o,{width:a,height:r,left:n,top:o}}},on:{init(){const e=this;const t=a();e.getSize(),t.addEventListener('resize',(()=>{e.emit('resize')}),!1),t.addEventListener('orientationchange',(()=>{e.emit('orientationchange')}))},orientationchange(){const e=r();const t=getDevice();t.ipad&&(e.body.scrollLeft=0,setTimeout((()=>{e.body.scrollLeft=0}),0))},resize(){const e=this;e.getSize()}}};var E={name:'request',proto:{request:C},static:{request:C}};function initTouch(){const e=this;const t=getDevice();const n=getSupport();const s=a();const i=r();const l=e.params.touch;const c=l[`${e.theme}TouchRipple`];let p;let d;let u;let m;let v;let f;let g;let b;let y;let C;let w;let k;function findActivableElement(e){const t=o(e);const a=t.parents(l.activeStateElements);if(t.closest('.no-active-state').length)return null;let r;if(t.is(l.activeStateElements)&&(r=t),a.length>0&&(r=r?r.add(a):a),r&&r.length>1){const e=[];let t;for(let a=0;a<r.length;a+=1)t||(e.push(r[a]),(r.eq(a).hasClass('prevent-active-state-propagation')||r.eq(a).hasClass('no-active-state-propagation'))&&(t=!0));r=o(e)}return r||t}function isInsideScrollableView(e){const t=e.parents('.page-content');return t.length>0}function addActive(){b&&b.addClass('active-state')}function removeActive(){b&&(b.removeClass('active-state'),b=null)}function findRippleElement(e){const t=l.touchRippleElements;const a=o(e);if(a.is(t))return!a.hasClass('no-ripple')&&a;if(a.parents(t).length>0){const e=a.parents(t).eq(0);return!e.hasClass('no-ripple')&&e}return!1}function createRipple(t,a,r){t&&(C=e.touchRipple.create(e,t,a,r))}function removeRipple(){C&&(C.remove(),C=void 0,w=void 0)}function rippleTouchStart(e){if(w=findRippleElement(e),!w||0===w.length)return void(w=void 0);const t=isInsideScrollableView(w);t?(clearTimeout(k),k=setTimeout((()=>{removeRipple(),createRipple(w,p,d)}),80)):(removeRipple(),createRipple(w,p,d))}function rippleTouchMove(){clearTimeout(k),removeRipple()}function rippleTouchEnd(){C||!w||m?removeRipple():(clearTimeout(k),createRipple(w,p,d),setTimeout(removeRipple,0))}function handleMouseDown(e){const t=findActivableElement(e.target);t&&(t.addClass('active-state'),'which'in e&&3===e.which&&setTimeout((()=>{o('.active-state').removeClass('active-state')}),0)),c&&(p=e.pageX,d=e.pageY,rippleTouchStart(e.target,e.pageX,e.pageY))}function handleMouseMove(){l.activeStateOnMouseMove||o('.active-state').removeClass('active-state'),c&&rippleTouchMove()}function handleMouseUp(){o('.active-state').removeClass('active-state'),c&&rippleTouchEnd()}function handleTouchCancel(){u=null,clearTimeout(y),clearTimeout(f),l.activeState&&removeActive(),c&&rippleTouchEnd()}let x;t.ios&&t.webView&&s.addEventListener('touchstart',(()=>{}));let $=!1;let E=null;const T='.dialog-button, .actions-button';let S=!1;let P=null;function handleTouchStart(t){return m=!1,v=!1,g=!1,x=void 0,t.targetTouches.length>1?(b&&removeActive(),!0):(t.touches.length>1&&b&&removeActive(),l.tapHold&&(f&&clearTimeout(f),f=setTimeout((()=>{t&&t.touches&&t.touches.length>1||(v=!0,t.preventDefault(),g=!0,o(t.target).trigger('taphold',t),e.emit('taphold',t))}),l.tapHoldDelay)),u=t.target,p=t.targetTouches[0].pageX,d=t.targetTouches[0].pageY,$=t.target.closest('.segmented-strong .button-active, .segmented-strong .tab-link-active'),S='ios'===e.theme&&t.target.closest(T),$&&(E=$.closest('.segmented-strong')),l.activeState&&(b=findActivableElement(u),b&&!isInsideScrollableView(b)?addActive():b&&(y=setTimeout(addActive,80))),c&&rippleTouchStart(u),!0)}function handleTouchMove(e){let t;let a;let r=!0;'touchmove'===e.type&&(t=e.targetTouches[0],a=l.touchClicksDistanceThreshold);const n=e.targetTouches[0].pageX;const s=e.targetTouches[0].pageY;if(void 0===x&&(x=!!(x||Math.abs(s-d)>Math.abs(n-p))),(S||!x&&$&&E)&&e.cancelable&&e.preventDefault(),!x&&$&&E){const t=i.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY);const a=t.closest('.segmented-strong .button:not(.button-active):not(.tab-link-active)');a&&E.contains(a)&&(o(a).trigger('click','f7Segmented'),u=a)}if(a&&t){const e=t.pageX;const r=t.pageY;(Math.abs(e-p)>a||Math.abs(r-d)>a)&&(m=!0)}else m=!0;if(m){if(g=!0,S){const t=i.elementFromPoint(e.targetTouches[0].clientX,e.targetTouches[0].clientY);P=t.closest(T),P&&b&&b[0]===P?r=!1:P&&setTimeout((()=>{b=findActivableElement(P),addActive()}))}l.tapHold&&clearTimeout(f),l.activeState&&r&&(clearTimeout(y),removeActive()),c&&rippleTouchMove()}}function handleTouchEnd(e){return x=void 0,$=!1,E=null,S=!1,clearTimeout(y),clearTimeout(f),P&&(o(P).trigger('click','f7TouchMoveActivable'),P=null),i.activeElement===e.target?(l.activeState&&removeActive(),c&&rippleTouchEnd(),!0):(l.activeState&&(addActive(),setTimeout(removeActive,0)),c&&rippleTouchEnd(),!(l.tapHoldPreventClicks&&v||g)||(e.cancelable&&e.preventDefault(),g=!0,!1))}function handleClick(e){const a=e&&e.detail&&'f7Overswipe'===e.detail;const r=e&&e.detail&&'f7Segmented'===e.detail;const n=e&&e.detail&&'f7TouchMoveActivable'===e.detail;let o=g;return u&&e.target!==u?o=!(a||r||n):n&&(o=!1),l.tapHold&&l.tapHoldPreventClicks&&v&&(o=!0),o&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()),l.tapHold&&(f=setTimeout((()=>{v=!1}),t.ios||t.androidChrome?100:400)),g=!1,u=null,!o}function emitAppTouchEvent(t,a){e.emit({events:t,data:[a]})}function appClick(e){emitAppTouchEvent('click',e)}function appTouchStartActive(e){emitAppTouchEvent('touchstart touchstart:active',e)}function appTouchMoveActive(e){emitAppTouchEvent('touchmove touchmove:active',e)}function appTouchEndActive(e){emitAppTouchEvent('touchend touchend:active',e)}function appTouchStartPassive(e){emitAppTouchEvent('touchstart:passive',e)}function appTouchMovePassive(e){emitAppTouchEvent('touchmove:passive',e)}function appTouchEndPassive(e){emitAppTouchEvent('touchend:passive',e)}const R=!!n.passiveListener&&{passive:!0};const O=!n.passiveListener||{passive:!0,capture:!0};const M=!!n.passiveListener&&{passive:!1};const A=!n.passiveListener||{passive:!1,capture:!0};i.addEventListener('click',appClick,!0),n.passiveListener?(i.addEventListener(e.touchEvents.start,appTouchStartActive,A),i.addEventListener(e.touchEvents.move,appTouchMoveActive,M),i.addEventListener(e.touchEvents.end,appTouchEndActive,M),i.addEventListener(e.touchEvents.start,appTouchStartPassive,O),i.addEventListener(e.touchEvents.move,appTouchMovePassive,R),i.addEventListener(e.touchEvents.end,appTouchEndPassive,R)):(i.addEventListener(e.touchEvents.start,(e=>{appTouchStartActive(e),appTouchStartPassive(e)}),!0),i.addEventListener(e.touchEvents.move,(e=>{appTouchMoveActive(e),appTouchMovePassive(e)}),!1),i.addEventListener(e.touchEvents.end,(e=>{appTouchEndActive(e),appTouchEndPassive(e)}),!1)),n.touch?(e.on('click',handleClick),e.on('touchstart',handleTouchStart),e.on('touchmove',handleTouchMove),e.on('touchend',handleTouchEnd),i.addEventListener('touchcancel',handleTouchCancel,{passive:!0})):l.activeState&&(e.on('touchstart',handleMouseDown),e.on('touchmove',handleMouseMove),e.on('touchend',handleMouseUp),i.addEventListener('pointercancel',handleMouseUp,{passive:!0})),i.addEventListener('contextmenu',(e=>{l.disableContextMenu&&(t.ios||t.android||t.cordova||s.Capacitor&&s.Capacitor.isNative)&&e.preventDefault(),c&&(b&&removeActive(),rippleTouchEnd())}))}var T={name:'touch',params:{touch:{touchClicksDistanceThreshold:5,disableContextMenu:!1,tapHold:!1,tapHoldDelay:750,tapHoldPreventClicks:!0,activeState:!0,activeStateElements:'a, button, label, span, .actions-button, .stepper-button, .stepper-button-plus, .stepper-button-minus, .card-expandable, .menu-item, .link, .item-link, .accordion-item-toggle',activeStateOnMouseMove:!1,mdTouchRipple:!0,iosTouchRipple:!1,auroraTouchRipple:!1,touchRippleElements:'.ripple, .link, .item-link, .list-button, .links-list a, .button, button, .input-clear-button, .dialog-button, .tab-link, .item-radio, .item-checkbox, .actions-button, .searchbar-disable-button, .fab a, .checkbox, .radio, .data-table .sortable-cell:not(.input-cell), .notification-close-button, .stepper-button, .stepper-button-minus, .stepper-button-plus, .menu-item-content, .list.accordion-list .accordion-item-toggle',touchRippleInsetElements:'.ripple-inset, .icon-only, .searchbar-disable-button, .input-clear-button, .notification-close-button, .md .navbar .link.back'}},create(){const e=this;const t=getSupport();extend(e,{touchEvents:{start:t.touch?'touchstart':t.pointerEvents?'pointerdown':'mousedown',move:t.touch?'touchmove':t.pointerEvents?'pointermove':'mousemove',end:t.touch?'touchend':t.pointerEvents?'pointerup':'mouseup'}})},on:{init:initTouch}};function lexer(e){var t=[];var a=0;for(;a<e.length;){var r=e[a];if("*"!==r&&"+"!==r&&"?"!==r)if("\\"!==r)if("{"!==r)if("}"!==r)if(":"!==r)if("("!==r)t.push({type:"CHAR",index:a,value:e[a++]});else{var n=1;var o="";var s=a+1;if("?"===e[s])throw new TypeError("Pattern cannot start with \"?\" at ".concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(n--,0===n){s++;break}}else if("("===e[s]&&(n++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));o+=e[s++]}else o+=e[s++]+e[s++];if(n)throw new TypeError("Unbalanced pattern at ".concat(a));if(!o)throw new TypeError("Missing pattern at ".concat(a));t.push({type:"PATTERN",index:a,value:o}),a=s}else{var i="";var s=a+1;for(;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;i+=e[s++]}if(!i)throw new TypeError("Missing parameter name at ".concat(a));t.push({type:"NAME",index:a,value:i}),a=s}else t.push({type:"CLOSE",index:a,value:e[a++]});else t.push({type:"OPEN",index:a,value:e[a++]});else t.push({type:"ESCAPED_CHAR",index:a++,value:e[a++]});else t.push({type:"MODIFIER",index:a,value:e[a++]})}return t.push({type:"END",index:a,value:""}),t}function parse(e,t){void 0===t&&(t={});var a=lexer(e);var r=t.prefixes,n=void 0===r?"./":r;var o="[^".concat(escapeString(t.delimiter||"/#?"),"]+?");var s=[];var i=0;var l=0;var c="";var tryConsume=function(e){if(l<a.length&&a[l].type===e)return a[l++].value};var mustConsume=function(e){var t=tryConsume(e);if(void 0!==t)return t;var r=a[l],n=r.type,o=r.index;throw new TypeError("Unexpected ".concat(n," at ").concat(o,", expected ").concat(e))};var consumeText=function(){var e="";var t;for(;t=tryConsume("CHAR")||tryConsume("ESCAPED_CHAR");)e+=t;return e};for(;l<a.length;){var p=tryConsume("CHAR");var d=tryConsume("NAME");var u=tryConsume("PATTERN");if(d||u){var m=p||"";-1===n.indexOf(m)&&(c+=m,m=""),c&&(s.push(c),c=""),s.push({name:d||i++,prefix:m,suffix:"",pattern:u||o,modifier:tryConsume("MODIFIER")||""})}else{var v=p||tryConsume("ESCAPED_CHAR");if(v)c+=v;else{c&&(s.push(c),c="");var f=tryConsume("OPEN");if(f){var m=consumeText();var g=tryConsume("NAME")||"";var b=tryConsume("PATTERN")||"";var y=consumeText();mustConsume("CLOSE"),s.push({name:g||(b?i++:""),pattern:g&&!b?o:b,prefix:m,suffix:y,modifier:tryConsume("MODIFIER")||""})}else mustConsume("END")}}}return s}function compile(e,t){return tokensToFunction(parse(e,t),t)}function tokensToFunction(e,t){void 0===t&&(t={});var a=flags(t);var r=t.encode,n=void 0===r?function(e){return e}:r,o=t.validate,s=void 0===o||o;var i=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),a)}));return function(t){var a="";for(var r=0;r<e.length;r++){var o=e[r];if("string"!=typeof o){var l=t?t[o.name]:void 0;var c="?"===o.modifier||"*"===o.modifier;var p="*"===o.modifier||"+"===o.modifier;if(Array.isArray(l)){if(!p)throw new TypeError("Expected \"".concat(o.name,"\" to not repeat, but got an array"));if(0===l.length){if(c)continue;throw new TypeError("Expected \"".concat(o.name,"\" to not be empty"))}for(var d=0;d<l.length;d++){var u=n(l[d],o);if(s&&!i[r].test(u))throw new TypeError("Expected all \"".concat(o.name,"\" to match \"").concat(o.pattern,"\", but got \"").concat(u,"\""));a+=o.prefix+u+o.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var m=p?"an array":"a string";throw new TypeError("Expected \"".concat(o.name,"\" to be ").concat(m))}}else{var u=n(String(l),o);if(s&&!i[r].test(u))throw new TypeError("Expected \"".concat(o.name,"\" to match \"").concat(o.pattern,"\", but got \"").concat(u,"\""));a+=o.prefix+u+o.suffix}}else a+=o}return a}}function escapeString(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function flags(e){return e&&e.sensitive?"":"i"}function regexpToRegexp(e,t){if(!t)return e;var a=/\((?:\?<(.*?)>)?(?!\?)/g;var r=0;var n=a.exec(e.source);for(;n;)t.push({name:n[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),n=a.exec(e.source);return e}function arrayToRegexp(e,t,a){var r=e.map((function(e){return pathToRegexp(e,t,a).source}));return new RegExp("(?:".concat(r.join("|"),")"),flags(a))}function stringToRegexp(e,t,a){return tokensToRegexp(parse(e,a),t,a)}function tokensToRegexp(e,t,a){void 0===a&&(a={});var r=a.strict,n=void 0!==r&&r,o=a.start,s=void 0===o||o,i=a.end,l=void 0===i||i,c=a.encode,p=void 0===c?function(e){return e}:c,d=a.delimiter,u=void 0===d?"/#?":d,m=a.endsWith,v=void 0===m?"":m;var f="[".concat(escapeString(v),"]|$");var g="[".concat(escapeString(u),"]");var b=s?"^":"";for(var y=0,C=e;y<C.length;y++){var w=C[y];if("string"==typeof w)b+=escapeString(p(w));else{var k=escapeString(p(w.prefix));var x=escapeString(p(w.suffix));if(w.pattern)if(t&&t.push(w),k||x)if("+"===w.modifier||"*"===w.modifier){var $="*"===w.modifier?"?":"";b+="(?:".concat(k,"((?:").concat(w.pattern,")(?:").concat(x).concat(k,"(?:").concat(w.pattern,"))*)").concat(x,")").concat($)}else b+="(?:".concat(k,"(").concat(w.pattern,")").concat(x,")").concat(w.modifier);else"+"===w.modifier||"*"===w.modifier?b+="((?:".concat(w.pattern,")").concat(w.modifier,")"):b+="(".concat(w.pattern,")").concat(w.modifier);else b+="(?:".concat(k).concat(x,")").concat(w.modifier)}}if(l)n||(b+="".concat(g,"?")),b+=a.endsWith?"(?=".concat(f,")"):"$";else{var E=e[e.length-1];var T="string"==typeof E?g.indexOf(E[E.length-1])>-1:void 0===E;n||(b+="(?:".concat(g,"(?=").concat(f,"))?")),T||(b+="(?=".concat(g,"|").concat(f,")"))}return new RegExp(b,flags(a))}function pathToRegexp(e,t,a){return e instanceof RegExp?regexpToRegexp(e,t):Array.isArray(e)?arrayToRegexp(e,t,a):stringToRegexp(e,t,a)}const S={queue:[],clearQueue(){if(0===S.queue.length)return;const e=S.queue.shift();e()},routerQueue:[],clearRouterQueue(){if(0===S.routerQueue.length)return;const e=S.routerQueue.pop();const{router:t,stateUrl:a,action:r}=e;let n=t.params.animate;!1===t.params.browserHistoryAnimate&&(n=!1),'back'===r&&t.back({animate:n,browserHistory:!1}),'load'===r&&t.navigate(a,{animate:n,browserHistory:!1})},handle(e){if(S.blockPopstate)return;const t=this;let a=e.state;S.previousState=S.state,S.state=a,S.allowChange=!0,S.clearQueue(),a=S.state,a||(a={}),t.views.forEach((e=>{const t=e.router;let r=a[e.id];if(!r&&e.params.browserHistory&&(r={url:e.router.history[0]}),!r)return;const n=r.url||void 0;let o=t.params.animate;!1===t.params.browserHistoryAnimate&&(o=!1),n!==t.url&&(t.history.indexOf(n)>=0?t.allowPageChange?t.back({animate:o,browserHistory:!1}):S.routerQueue.push({action:'back',router:t}):t.allowPageChange?t.navigate(n,{animate:o,browserHistory:!1}):S.routerQueue.unshift({action:'load',stateUrl:n,router:t}))}))},initViewState(e,t){const r=a();const n=extend({},S.state||{},{[e]:t});S.state=n,r.history.replaceState(n,'')},push(e,t,n){const o=a();const s=r();if('#!/'===n.substr(-3)&&(n=n.replace('#!/',''),''===n&&(n=s.location.href,n.includes('#!/')&&(n=s.location.href.split('#!/')[0]))),!S.allowChange)return void S.queue.push((()=>{S.push(e,t,n)}));S.previousState=S.state;const i=extend({},S.previousState||{},{[e]:t});S.state=i,o.history.pushState(i,'',n)},replace(e,t,r){const n=a();if('#!/'===r.substr(-3)&&(r=r.replace('#!/','')),!S.allowChange)return void S.queue.push((()=>{S.replace(e,t,r)}));S.previousState=S.state;const o=extend({},S.previousState||{},{[e]:t});S.state=o,n.history.replaceState(o,'',r)},go(e){const t=a();S.allowChange=!1,t.history.go(e)},back(){const e=a();S.allowChange=!1,e.history.back()},allowChange:!0,previousState:{},state:{},blockPopstate:!0,init(e){const t=a();const n=r();S.state=t.history.state,o(t).on('load',(()=>{setTimeout((()=>{S.blockPopstate=!1}),0)})),n.readyState&&'complete'===n.readyState&&(S.blockPopstate=!1),o(t).on('popstate',S.handle.bind(e))}};var P=S;function SwipeBack(e){const t=e;const{$el:a,$navbarsEl:r,app:n,params:s}=t;const i=getSupport();const l=getDevice();let c=!1;let p=!1;const d={};let u;let m=[];let v=[];let f;let g;let b=!0;let y;let C=[];let w=[];let k;let x;let $;let E;const T=s[`${n.theme}SwipeBackAnimateShadow`];const S=s[`${n.theme}SwipeBackAnimateOpacity`];const R=s[`${n.theme}SwipeBackActiveArea`];const O=s[`${n.theme}SwipeBackThreshold`];const M=n.rtl?'right center':'left center';const A=n.rtl?'calc(100% - var(--f7-navbar-large-title-padding-left) - var(--f7-safe-area-left)) center':'calc(var(--f7-navbar-large-title-padding-left) + var(--f7-safe-area-left)) center';function animatableNavElements(){const e=[];const t=n.rtl?-1:1;const a=C.hasClass('navbar-transparent')&&!C.hasClass('navbar-large')&&!C.hasClass('navbar-transparent-visible');const r=C.hasClass('navbar-large');const i=C.hasClass('navbar-large-collapsed');const c=C.hasClass('navbar-large-transparent')||C.hasClass('navbar-large')&&C.hasClass('navbar-transparent');const p=w.hasClass('navbar-transparent')&&!w.hasClass('navbar-large')&&!w.hasClass('navbar-transparent-visible');const d=w.hasClass('navbar-large');const u=w.hasClass('navbar-large-collapsed');const m=w.hasClass('navbar-large-transparent')||w.hasClass('navbar-large')&&w.hasClass('navbar-transparent');const v=r&&!i;const f=d&&!u;const g=C.find('.left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg');const b=w.find('.left, .title, .right, .subnavbar, .fading, .title-large, .navbar-bg');let y;let k;return s.iosAnimateNavbarBackIcon&&(y=C.hasClass('sliding')||C.find('.navbar-inner.sliding').length?C.find('.left').find('.back .icon + span').eq(0):C.find('.left.sliding').find('.back .icon + span').eq(0),k=w.hasClass('sliding')||w.find('.navbar-inner.sliding').length?w.find('.left').find('.back .icon + span').eq(0):w.find('.left.sliding').find('.back .icon + span').eq(0),y.length&&b.each((e=>{o(e).hasClass('title')&&(e.f7NavbarLeftOffset+=y.prev('.icon')[0].offsetWidth)}))),g.each((n=>{const p=o(n);const d=p.hasClass('subnavbar');const u=p.hasClass('left');const m=p.hasClass('title');const g=p.hasClass('navbar-bg');if((m||g)&&a)return;if(!v&&p.hasClass('.title-large'))return;const b={el:n};if(v){if(m)return;if(p.hasClass('title-large'))return e.indexOf(b)<0&&e.push(b),b.overflow='visible',void p.find('.title-large-text').each((a=>{e.push({el:a,transform:e=>`translateX(${100*e*t}%)`})}))}if(f&&(v||p.hasClass('title-large')&&(e.indexOf(b)<0&&e.push(b),b.opacity=0),u))return e.indexOf(b)<0&&e.push(b),b.opacity=e=>1-e**.33,void p.find('.back span').each((t=>{e.push({el:t,'transform-origin':M,transform:e=>`translateX(calc(${e} * (var(--f7-navbarTitleLargeOffset) - var(--f7-navbarLeftTextOffset)))) translateY(calc(${e} * (var(--f7-navbar-large-title-height) - var(--f7-navbar-large-title-padding-vertical) / 2))) scale(${1+1*e})`})}));if(g)return e.indexOf(b)<0&&e.push(b),v||f||(i?(c&&(b.className='ios-swipeback-navbar-bg-large'),b.transform=e=>`translateX(${100*e*t}%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))`):b.transform=e=>`translateX(${100*e*t}%)`),!v&&f&&(b.className='ios-swipeback-navbar-bg-large',b.transform=e=>`translateX(${100*e*t}%) translateY(calc(-1 * ${1-e} * var(--f7-navbar-large-title-height)))`),v&&f&&(b.transform=e=>`translateX(${100*e*t}%)`),void(v&&!f&&(b.transform=e=>`translateX(${100*e*t}%) translateY(calc(-${e} * var(--f7-navbar-large-title-height)))`));if(p.hasClass('title-large'))return;const C=p.hasClass('sliding')||p.parents('.navbar-inner.sliding').length;if(e.indexOf(b)<0&&e.push(b),(!d||d&&!C)&&(b.opacity=e=>1-e**.33),C){let t=b;if(u&&y.length&&s.iosAnimateNavbarBackIcon){const a={el:y[0]};t=a,e.push(a)}t.transform=e=>{let a=e*t.el.f7NavbarRightOffset;return 1===l.pixelRatio&&(a=Math.round(a)),d&&r?`translate3d(${a}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`:`translate3d(${a}px,0,0)`}}})),b.each((a=>{const r=o(a);const n=r.hasClass('subnavbar');const i=r.hasClass('left');const c=r.hasClass('title');const g=r.hasClass('navbar-bg');if((c||g)&&p)return;const b={el:a};if(f){if(c)return;if(e.indexOf(b)<0&&e.push(b),r.hasClass('title-large'))return b.opacity=1,b.overflow='visible',void r.find('.title-large-text').each((t=>{e.push({el:t,'transform-origin':A,opacity:e=>e**3,transform:e=>`translateX(calc(${1-e} * (var(--f7-navbarLeftTextOffset) - var(--f7-navbarTitleLargeOffset)))) translateY(calc(${e-1} * var(--f7-navbar-large-title-height) + ${1-e} * var(--f7-navbar-large-title-padding-vertical))) scale(${.5+.5*e})`})}))}if(g)return e.indexOf(b)<0&&e.push(b),v||f||(u?(m&&(b.className='ios-swipeback-navbar-bg-large'),b.transform=e=>`translateX(${(100*e-100)*t}%) translateY(calc(-1 * var(--f7-navbar-large-title-height)))`):b.transform=e=>`translateX(${(100*e-100)*t}%)`),!v&&f&&(b.transform=e=>`translateX(${(100*e-100)*t}%) translateY(calc(-1 * ${1-e} * var(--f7-navbar-large-title-height)))`),v&&!f&&(b.className='ios-swipeback-navbar-bg-large',b.transform=e=>`translateX(${(100*e-100)*t}%) translateY(calc(-${e} * var(--f7-navbar-large-title-height)))`),void(v&&f&&(b.transform=e=>`translateX(${(100*e-100)*t}%)`));if(r.hasClass('title-large'))return;const y=r.hasClass('sliding')||w.children('.navbar-inner.sliding').length;if(e.indexOf(b)<0&&e.push(b),(!n||n&&!y)&&(b.opacity=e=>e**3),y){let t=b;if(i&&k.length&&s.iosAnimateNavbarBackIcon){const a={el:k[0]};t=a,e.push(a)}t.transform=e=>{let a=t.el.f7NavbarLeftOffset*(1-e);return 1===l.pixelRatio&&(a=Math.round(a)),n&&d?`translate3d(${a}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`:`translate3d(${a}px,0,0)`}}})),e}function setAnimatableNavElements(e){let{progress:t,reset:a,transition:r,reflow:n}=void 0===e?{}:e;const o=['overflow','transform','transform-origin','opacity'];if(!0===r||!1===r)for(let e=0;e<E.length;e+=1){const t=E[e];t&&t.el&&(!0===r&&t.el.classList.add('navbar-page-transitioning'),!1===r&&t.el.classList.remove('navbar-page-transitioning'))}n&&E.length&&E[0]&&E[0].el&&(E[0].el._clientLeft=E[0].el.clientLeft);for(let e=0;e<E.length;e+=1){const r=E[e];if(r&&r.el){!r.className||r.classNameSet||a||(r.el.classList.add(r.className),r.classNameSet=!0),r.className&&a&&r.el.classList.remove(r.className);for(let e=0;e<o.length;e+=1){const n=o[e];r[n]&&(a?r.el.style[n]='':'function'==typeof r[n]?r.el.style[n]=r[n](t):r.el.style[n]=r[n])}}}}function handleTouchStart(e){const a=s[`${n.theme}SwipeBack`];!b||!a||c||n.swipeout&&n.swipeout.el||!t.allowPageChange||o(e.target).closest('.range-slider, .calendar-months').length>0||o(e.target).closest('.page-master, .page-master-detail').length>0&&s.masterDetailBreakpoint>0&&n.width>=s.masterDetailBreakpoint||(p=!1,c=!0,u=void 0,d.x='touchstart'===e.type?e.targetTouches[0].pageX:e.pageX,d.y='touchstart'===e.type?e.targetTouches[0].pageY:e.pageY,y=now(),k=t.dynamicNavbar)}function handleTouchMove(e){if(!c)return;const s='touchmove'===e.type?e.targetTouches[0].pageX:e.pageX;const i='touchmove'===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===u&&(u=!!(u||Math.abs(i-d.y)>Math.abs(s-d.x))||s<d.x&&!n.rtl||s>d.x&&n.rtl),u||e.f7PreventSwipeBack||n.preventSwipeBack)return void(c=!1);if(!p){let t=!1;const s=o(e.target);const i=s.closest('.swipeout');i.length>0&&(!n.rtl&&i.find('.swipeout-actions-left').length>0&&(t=!0),n.rtl&&i.find('.swipeout-actions-right').length>0&&(t=!0)),m=s.closest('.page'),(m.hasClass('no-swipeback')||s.closest('.no-swipeback, .card-opened').length>0)&&(t=!0),v=a.find('.page-previous:not(.stacked)'),v.length>1&&(v=v.eq(v.length-1));let l=d.x-a.offset().left>R;if(f=a.width(),l=n.rtl?d.x<a.offset().left-a[0].scrollLeft+(f-R):d.x-a.offset().left>R,l&&(t=!0),0!==v.length&&0!==m.length||(t=!0),t)return void(c=!1);T&&(x=m.find('.page-shadow-effect'),0===x.length&&(x=o('<div class="page-shadow-effect"></div>'),m.append(x))),S&&($=v.find('.page-opacity-effect'),0===$.length&&($=o('<div class="page-opacity-effect"></div>'),v.append($))),k&&(C=r.find('.navbar-current:not(.stacked)'),w=r.find('.navbar-previous:not(.stacked)'),w.length>1&&(w=w.eq(w.length-1)),E=animatableNavElements()),o('.sheet.modal-in').length>0&&n.sheet&&n.sheet.close(o('.sheet.modal-in'))}e.f7PreventSwipePanel=!0,p=!0,n.preventSwipePanelBySwipeBack=!0,e.preventDefault();const b=n.rtl?-1:1;g=(s-d.x-O)*b,g<0&&(g=0);const y=Math.min(Math.max(g/f,0),1);const P={percentage:y,progress:y,currentPageEl:m[0],previousPageEl:v[0],currentNavbarEl:C[0],previousNavbarEl:w[0]};a.trigger('swipeback:move',P),t.emit('swipebackMove',P);let M=g*b;let A=(g/5-f/5)*b;n.rtl?(M=Math.max(M,-f),A=Math.max(A,0)):(M=Math.min(M,f),A=Math.min(A,0)),1===l.pixelRatio&&(M=Math.round(M),A=Math.round(A)),t.swipeBackActive=!0,o([m[0],v[0]]).addClass('page-swipeback-active'),m.transform(`translate3d(${M}px,0,0)`),T&&(x[0].style.opacity=1-1*y),'ios'===n.theme&&v.transform(`translate3d(${A}px,0,0)`),S&&($[0].style.opacity=1-1*y),k&&setAnimatableNavElements({progress:y})}function handleTouchEnd(){if(n.preventSwipePanelBySwipeBack=!1,!c||!p)return c=!1,void(p=!1);c=!1,p=!1,t.swipeBackActive=!1;const e=o([m[0],v[0]]);if(e.removeClass('page-swipeback-active'),0===g)return e.transform(''),x&&x.length>0&&x.remove(),$&&$.length>0&&$.remove(),void(k&&setAnimatableNavElements({reset:!0}));const r=now()-y;let i=!1;(r<300&&g>10||r>=300&&g>f/2)&&(m.removeClass('page-current').addClass("page-next"+('ios'!==n.theme?' page-next-on-right':'')),v.removeClass('page-previous').addClass('page-current').removeAttr('aria-hidden'),x&&(x[0].style.opacity=''),$&&($[0].style.opacity=''),k&&(t.setNavbarPosition(C,'next'),t.setNavbarPosition(w,'current',!1)),i=!0),e.addClass('page-transitioning page-transitioning-swipeback'),l.ios&&(m[0]._clientLeft=m[0].clientLeft),e.transform(''),k&&setAnimatableNavElements({progress:i?1:0,transition:!0,reflow:!!l.ios}),b=!1,t.allowPageChange=!1;const d={currentPageEl:m[0],previousPageEl:v[0],currentNavbarEl:C[0],previousNavbarEl:w[0]};i?(t.currentRoute=v[0].f7Page.route,t.currentPage=v[0],t.pageCallback('beforeOut',m,C,'current','next',{route:m[0].f7Page.route,swipeBack:!0}),t.pageCallback('beforeIn',v,w,'previous','current',{route:v[0].f7Page.route,swipeBack:!0},m[0]),a.trigger('swipeback:beforechange',d),t.emit('swipebackBeforeChange',d)):(a.trigger('swipeback:beforereset',d),t.emit('swipebackBeforeReset',d)),m.transitionEnd((()=>{e.removeClass('page-transitioning page-transitioning-swipeback'),k&&setAnimatableNavElements({reset:!0,transition:!1}),b=!0,t.allowPageChange=!0,i?(1===t.history.length&&t.history.unshift(t.url),t.history.pop(),t.saveHistory(),s.browserHistory&&P.back(),t.pageCallback('afterOut',m,C,'current','next',{route:m[0].f7Page.route,swipeBack:!0}),t.pageCallback('afterIn',v,w,'previous','current',{route:v[0].f7Page.route,swipeBack:!0}),s.stackPages&&t.initialPages.indexOf(m[0])>=0?(m.addClass('stacked'),k&&C.addClass('stacked')):(t.pageCallback('beforeRemove',m,C,'next',{swipeBack:!0}),t.removePage(m),k&&t.removeNavbar(C)),a.trigger('swipeback:afterchange',d),t.emit('swipebackAfterChange',d),t.emit('routeChanged',t.currentRoute,t.previousRoute,t),s.preloadPreviousPage&&t.back(t.history[t.history.length-2],{preload:!0})):(a.trigger('swipeback:afterreset',d),t.emit('swipebackAfterReset',d)),x&&x.length>0&&x.remove(),$&&$.length>0&&$.remove()}))}function attachEvents(){const e=!('touchstart'!==n.touchEvents.start||!i.passiveListener)&&{passive:!0,capture:!1};a.on(n.touchEvents.start,handleTouchStart,e),n.on('touchmove:active',handleTouchMove),n.on('touchend:passive',handleTouchEnd)}function detachEvents(){const e=!('touchstart'!==n.touchEvents.start||!i.passiveListener)&&{passive:!0,capture:!1};a.off(n.touchEvents.start,handleTouchStart,e),n.off('touchmove:active',handleTouchMove),n.off('touchend:passive',handleTouchEnd)}attachEvents(),t.on('routerDestroy',detachEvents)}function redirect(e,t,a){const r=this;const n=t.route.redirect;const o='forward'===e?'navigate':'back';function redirectResolve(e,t){void 0===t&&(t={}),r.allowPageChange=!0,r[o](e,extend({},a,t))}function redirectReject(){r.allowPageChange=!0}if(a.initial&&r.params.browserHistory&&(a.replaceState=!0,a.history=!0),'function'==typeof n){r.allowPageChange=!1;const s=n.call(r,{router:r,to:t,resolve:redirectResolve,reject:redirectReject,direction:e,app:r.app});return s&&'string'==typeof s?(r.allowPageChange=!0,r[o](s,a)):r}return r[o](n,a)}function processQueue(e,t,a,r,n,o,s,i){const l=[];function next(){if(0===l.length)return void o();const t=l.shift();t.call(e,{router:e,to:r,from:n,resolve(){next()},reject(){s()},direction:i,app:e.app})}Array.isArray(a)?l.push(...a):a&&'function'==typeof a&&l.push(a),t&&(Array.isArray(t)?l.push(...t):l.push(t)),next()}function processRouteQueue(e,t,a,r,n){const o=this;function enterNextRoute(){e&&e.route&&(o.params.routesBeforeEnter||e.route.beforeEnter)?(o.allowPageChange=!1,processQueue(o,o.params.routesBeforeEnter,e.route.beforeEnter,e,t,(()=>{o.allowPageChange=!0,a()}),(()=>{r()}),n)):a()}function leaveCurrentRoute(){t&&t.route&&(o.params.routesBeforeLeave||t.route.beforeLeave)?(o.allowPageChange=!1,processQueue(o,o.params.routesBeforeLeave,t.route.beforeLeave,e,t,(()=>{o.allowPageChange=!0,enterNextRoute()}),(()=>{r()}),n)):enterNextRoute()}leaveCurrentRoute()}function appRouterCheck(e,t){if(!e.view)throw new Error(`Framework7: it is not allowed to use router methods on global app router. Use router methods only on related View, e.g. app.views.main.router.${t}(...)`)}function asyncComponent(e,t,a,r){function resolvePromise(e){e.then((e=>{a({component:e.default||e._default||e})})).catch((e=>{throw r(),new Error(e)}))}if(t instanceof Promise)return void resolvePromise(t);const n=t.call(e);n instanceof Promise?resolvePromise(n):a({component:n})}function refreshPage(){const e=this;return appRouterCheck(e,'refreshPage'),e.navigate(e.currentRoute.url,{ignoreCache:!0,reloadCurrent:!0})}function forward(e,t,a){void 0===a&&(a={});const n=r();const s=o(t);const i=e.app;const l=e.view;const c=extend(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1,history:!0,reloadCurrent:e.params.reloadPages,reloadPrevious:!1,reloadAll:!1,clearPreviousHistory:!1,reloadDetail:e.params.reloadDetail,on:{}},a);const p=e.params.masterDetailBreakpoint>0;const d=p&&c.route&&c.route.route&&(!0===c.route.route.master||'function'==typeof c.route.route.master&&c.route.route.master(i,e));let u;let m;let v=0;let f=e.currentRoute.modal;let g;if(f||'popup popover sheet loginScreen actions customModal panel'.split(' ').forEach((t=>{e.currentRoute&&e.currentRoute.route&&e.currentRoute.route[t]&&(f=!0,g=t)})),f){const t=e.currentRoute.modal||e.currentRoute.route.modalInstance||i[g].get();const a=e.history[e.history.length-2];let r=e.findMatchingRoute(a);!r&&a&&(r={url:a,path:a.split('?')[0],query:parseUrlQuery(a),route:{path:a.split('?')[0],url:a}}),e.modalRemove(t)}const b=e.dynamicNavbar;const y=e.$el;const C=s;const w=c.reloadPrevious||c.reloadCurrent||c.reloadAll;let k;let x;let $;let E;if(e.allowPageChange=!1,0===C.length)return e.allowPageChange=!0,e;C.length&&e.removeThemeElements(C),b&&($=C.children('.navbar'),x=e.$navbarsEl,0===$.length&&C[0]&&C[0].f7Page&&($=C[0].f7Page.$navbarEl)),c.route&&c.route.route&&c.route.route.keepAlive&&!c.route.route.keepAliveData&&(c.route.route.keepAliveData={pageEl:s[0]});const T=y.children('.page:not(.stacked)').filter((e=>e!==C[0]));let S;if(b&&(S=x.children('.navbar:not(.stacked)').filter((e=>e!==$[0]))),c.reloadPrevious&&T.length<2)return e.allowPageChange=!0,e;let R;let O;let M;if(p&&!c.reloadAll){for(let e=0;e<T.length;e+=1)u||!T[e].classList.contains('page-master')||(u=T[e]);if(R=!d&&u,R&&u)for(let e=0;e<T.length;e+=1)T[e].classList.contains('page-master-detail')&&(m=T[e]);O=R&&c.reloadDetail&&i.width>=e.params.masterDetailBreakpoint&&u}R&&(M=!m||O||c.reloadAll||c.reloadCurrent);let A='next';if(c.reloadCurrent||c.reloadAll||O?A='current':c.reloadPrevious&&(A='previous'),C.removeClass('page-previous page-current page-next').addClass(`page-${A}${d?' page-master':''}${R?' page-master-detail':''}${M?' page-master-detail-root':''}`).removeClass('stacked').trigger('page:unstack').trigger('page:position',{position:A}),e.emit('pageUnstack',C[0]),e.emit('pagePosition',C[0],A),(d||R)&&(C.trigger('page:role',{role:d?'master':'detail',root:!!M}),e.emit('pageRole',C[0],{role:d?'master':'detail',detailRoot:!!M})),b&&$.length&&($.removeClass('navbar-previous navbar-current navbar-next').addClass(`navbar-${A}${d?' navbar-master':''}${R?' navbar-master-detail':''}${M?' navbar-master-detail-root':''}`).removeClass('stacked'),$.trigger('navbar:position',{position:A}),e.emit('navbarPosition',$[0],A),(d||R)&&e.emit('navbarRole',$[0],{role:d?'master':'detail',detailRoot:!!M})),c.reloadCurrent||O)O?(k=T.filter((e=>!e.classList.contains('page-master'))),b&&(E=o(k.map((e=>i.navbar.getElByPage(e))))),k.length>1&&u&&(v=k.length-1,o(u).removeClass('page-master-stacked').trigger('page:masterunstack'),e.emit('pageMasterUnstack',u),b&&(o(i.navbar.getElByPage(u)).removeClass('navbar-master-stacked'),e.emit('navbarMasterUnstack',i.navbar.getElByPage(u))))):(k=T.eq(T.length-1),b&&(E=o(i.navbar.getElByPage(k))));else if(c.reloadPrevious)k=T.eq(T.length-2),b&&(E=o(i.navbar.getElByPage(k)));else if(c.reloadAll)k=T.filter((e=>e!==C[0])),b&&(E=S.filter((e=>e!==$[0])));else{let t=[];let a=[];if(T.length>1){let r=0;for(r=0;r<T.length-1;r+=1){if(u&&T[r]===u){T.eq(r).addClass('page-master-stacked'),T.eq(r).trigger('page:masterstack'),e.emit('pageMasterStack',T[r]),b&&(o(i.navbar.getElByPage(u)).addClass('navbar-master-stacked'),e.emit('navbarMasterStack',i.navbar.getElByPage(u)));continue}const n=i.navbar.getElByPage(T.eq(r));e.params.stackPages?(T.eq(r).addClass('stacked'),T.eq(r).trigger('page:stack'),e.emit('pageStack',T[r]),b&&o(n).addClass('stacked')):(t.push(T[r]),e.pageCallback('beforeRemove',T[r],S&&S[r],'previous',void 0,c),e.removePage(T[r]),b&&n&&(a.push(n),e.removeNavbar(n)))}}k=y.children('.page:not(.stacked)').filter((e=>e!==C[0]&&t.indexOf(e)<0)),b&&(E=x.children('.navbar:not(.stacked)').filter((e=>e!==$[0]&&a.indexOf(a)<0))),t=[],a=[]}if(R&&!c.reloadAll&&((k.length>1||O)&&(k=k.filter((e=>!e.classList.contains('page-master')))),E&&(E.length>1||O)&&(E=E.filter((e=>!e.classList.contains('navbar-master'))))),e.params.browserHistory&&(c.browserHistory||c.replaceState)&&!c.reloadPrevious){const t=e.params.browserHistoryRoot||'';P[c.reloadCurrent||O&&m||c.reloadAll||c.replaceState?'replace':'push'](l.id,{url:c.route.url},t+e.params.browserHistorySeparator+c.route.url)}c.reloadPrevious||(e.currentPageEl=C[0],b&&$.length?e.currentNavbarEl=$[0]:delete e.currentNavbarEl,e.currentRoute=c.route);const B=c.route.url;c.history&&(((c.reloadCurrent||O&&m)&&e.history.length)>0||c.replaceState?(O&&v>0&&(e.history=e.history.slice(0,e.history.length-v)),e.history[e.history.length-(c.reloadPrevious?2:1)]=B):c.reloadPrevious?e.history[e.history.length-2]=B:c.reloadAll?e.history=[B]:e.history.push(B)),e.saveHistory();const N=C.parents(n).length>0;const L=C[0].f7Component;if(c.reloadPrevious?(L&&!N?L.mount((e=>{o(e).insertBefore(k)})):C.insertBefore(k),b&&$.length&&($.find('.title-large').length&&$.addClass('navbar-large'),E.length?$.insertBefore(E):(e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),x.append($)))):(k.next('.page')[0]!==C[0]&&(L&&!N?L.mount((e=>{y.append(e)})):y.append(C[0])),b&&$.length&&($.find('.title-large').length&&$.addClass('navbar-large'),e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),x.append($[0]))),N?c.route&&c.route.route&&c.route.route.keepAlive&&!C[0].f7PageMounted&&(C[0].f7PageMounted=!0,e.pageCallback('mounted',C,$,A,w?A:'current',c,k)):e.pageCallback('mounted',C,$,A,w?A:'current',c,k),(c.reloadCurrent||O)&&k.length>0?e.params.stackPages&&e.initialPages.indexOf(k[0])>=0?(k.addClass('stacked'),k.trigger('page:stack'),e.emit('pageStack',k[0]),b&&E.addClass('stacked')):(e.pageCallback('beforeOut',k,E,'current',void 0,c),e.pageCallback('afterOut',k,E,'current',void 0,c),e.pageCallback('beforeRemove',k,E,'current',void 0,c),e.removePage(k),b&&E&&E.length&&e.removeNavbar(E)):c.reloadAll?k.each(((t,a)=>{const r=o(t);const n=o(i.navbar.getElByPage(r));e.params.stackPages&&e.initialPages.indexOf(r[0])>=0?(r.addClass('stacked'),r.trigger('page:stack'),e.emit('pageStack',r[0]),b&&n.addClass('stacked')):(r.hasClass('page-current')&&(e.pageCallback('beforeOut',k,E,'current',void 0,c),e.pageCallback('afterOut',k,E,'current',void 0,c)),e.pageCallback('beforeRemove',r,E&&E.eq(a),'previous',void 0,c),e.removePage(r),b&&n.length&&e.removeNavbar(n))})):c.reloadPrevious&&(e.params.stackPages&&e.initialPages.indexOf(k[0])>=0?(k.addClass('stacked'),k.trigger('page:stack'),e.emit('pageStack',k[0]),b&&E.addClass('stacked')):(e.pageCallback('beforeRemove',k,E,'previous',void 0,c),e.removePage(k),b&&E&&E.length&&e.removeNavbar(E))),c.route.route.tab&&e.tabLoad(c.route.route.tab,extend({},c,{history:!1,browserHistory:!1})),p&&l.checkMasterDetailBreakpoint(),e.pageCallback('init',C,$,A,w?A:'current',c,k),c.reloadCurrent||c.reloadAll||O)return e.allowPageChange=!0,e.pageCallback('beforeIn',C,$,A,'current',c),C.removeAttr('aria-hidden'),b&&$&&$.removeAttr('aria-hidden'),e.pageCallback('afterIn',C,$,A,'current',c),c.reloadCurrent&&c.clearPreviousHistory&&e.clearPreviousHistory(),O&&(e.setPagePosition(o(u),'previous'),u.f7Page&&u.f7Page.navbarEl&&e.setNavbarPosition(o(u.f7Page.navbarEl),'previous')),e;if(c.reloadPrevious)return e.allowPageChange=!0,e;function afterAnimation(){e.setPagePosition(C,'current',!1),e.setPagePosition(k,'previous',!k.hasClass('page-master')),b&&(e.setNavbarPosition($,'current',!1),e.setNavbarPosition(E,'previous',!E.hasClass('navbar-master'))),e.allowPageChange=!0,e.pageCallback('afterOut',k,E,'current','previous',c),e.pageCallback('afterIn',C,$,'next','current',c);let t=(e.params.preloadPreviousPage||e.params[`${i.theme}SwipeBack`])&&!d;t||(C.hasClass('smart-select-page')||C.hasClass('photo-browser-page')||C.hasClass('autocomplete-page')||C.hasClass('color-picker-page'))&&(t=!0),t||(e.params.stackPages?(k.addClass('stacked'),k.trigger('page:stack'),e.emit('pageStack',k[0]),b&&E.addClass('stacked')):C.attr('data-name')&&'smart-select-page'===C.attr('data-name')||(e.pageCallback('beforeRemove',k,E,'previous',void 0,c),e.removePage(k),b&&E.length&&e.removeNavbar(E))),c.clearPreviousHistory&&e.clearPreviousHistory(),e.emit('routeChanged',e.currentRoute,e.previousRoute,e),e.params.browserHistory&&P.clearRouterQueue()}function setPositionClasses(){e.setPagePosition(k,'current',!1),e.setPagePosition(C,'next',!1),b&&(e.setNavbarPosition(E,'current',!1),e.setNavbarPosition($,'next',!1))}if(e.pageCallback('beforeOut',k,E,'current','previous',c),e.pageCallback('beforeIn',C,$,'next','current',c),!c.animate||d&&i.width>=e.params.masterDetailBreakpoint)afterAnimation();else{const t=e.params[`${e.app.theme}PageLoadDelay`];let a=e.params.transition;c.transition&&(a=c.transition),!a&&e.currentRoute&&e.currentRoute.route&&(a=e.currentRoute.route.transition),!a&&e.currentRoute&&e.currentRoute.route.options&&(a=e.currentRoute.route.options.transition),a&&(C[0].f7PageTransition=a),t?setTimeout((()=>{setPositionClasses(),e.animate(k,C,E,$,'forward',a,(()=>{afterAnimation()}))}),t):(setPositionClasses(),e.animate(k,C,E,$,'forward',a,(()=>{afterAnimation()})))}return e}function load(e,t,a,r){if(void 0===t&&(t={}),void 0===a&&(a={}),!e.allowPageChange&&!r)return e;const n=t;const o=a;const{url:s,content:i,el:l,pageName:c,component:p,componentUrl:d}=n;if(!o.reloadCurrent&&o.route&&o.route.route&&o.route.route.parentPath&&e.currentRoute.route&&e.currentRoute.route.parentPath===o.route.route.parentPath){if(o.route.url===e.url)return e.allowPageChange=!0,!1;let t=Object.keys(o.route.params).length===Object.keys(e.currentRoute.params).length;if(t&&Object.keys(o.route.params).forEach((a=>{a in e.currentRoute.params&&e.currentRoute.params[a]===o.route.params[a]||(t=!1)})),t)return!!o.route.route.tab&&e.tabLoad(o.route.route.tab,o);if(!t&&o.route.route.tab&&e.currentRoute.route.tab&&e.currentRoute.parentPath===o.route.parentPath)return e.tabLoad(o.route.route.tab,o)}if(o.route&&o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return e.allowPageChange=!0,!1;function resolve(t,a){return forward(e,t,extend(o,a))}function reject(){return e.allowPageChange=!0,e}if(!o.route&&s&&(o.route=e.parseRouteUrl(s),extend(o.route,{route:{url:s,path:s}})),(s||d||p)&&(e.allowPageChange=!1),i)forward(e,e.getPageEl(i),o);else if(l)forward(e,e.getPageEl(l),o);else if(c)forward(e,e.$el.children(`.page[data-name="${c}"]`).eq(0),o);else if(p||d)try{e.pageComponentLoader({routerEl:e.el,component:p,componentUrl:d,options:o,resolve:resolve,reject:reject})}catch(t){throw e.allowPageChange=!0,t}else s&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(s,o).then((t=>{forward(e,e.getPageEl(t),o)})).catch((()=>{e.allowPageChange=!0})));return e}function navigate(e,t){void 0===t&&(t={});const a=this;if(a.swipeBackActive)return a;let r;let n;let o;let s;let i;let l;let c;if('string'==typeof e?r=e:(r=e.url,n=e.route,o=e.name,s=e.path,i=e.query,l=e.params),o||s)return r=a.generateUrl({path:s,name:o,params:l,query:i}),r?a.navigate(r,t):a;const p=a.app;if(appRouterCheck(a,'navigate'),'#'===r||''===r)return a;let d=r.replace('./','');if('/'!==d[0]&&0!==d.indexOf('#')){const e=a.currentRoute.parentPath||a.currentRoute.path;d=((e?`${e}/`:'/')+d).replace('///','/').replace('//','/')}if(c=n?extend(a.parseRouteUrl(d),{route:extend({},n)}):a.findMatchingRoute(d),!c)return a;if(c.route&&c.route.viewName){const r=c.route.viewName;const n=p.views[r];if(!n)throw new Error(`Framework7: There is no View with "${r}" name that was specified in this route`);if(n!==a.view)return n.router.navigate(e,t)}if(c.route.redirect)return redirect.call(a,'forward',c,t);const u={};if(c.route.options?extend(u,c.route.options,t):extend(u,t),u.openIn&&(!a.params.ignoreOpenIn||a.params.ignoreOpenIn&&a.history.length>0))return a.openIn(a,d,u);function resolve(){let e=!1;function asyncResolve(e,t){a.allowPageChange=!1;let r=!1;'popup popover sheet loginScreen actions customModal panel'.split(' ').forEach((n=>{if(e[n]){r=!0;const o=extend({},c,{route:e});a.allowPageChange=!0,a.modalLoad(n,o,extend(u,t),'forward')}})),r||load(a,e,extend(u,t),!0)}function asyncReject(){a.allowPageChange=!0}'popup popover sheet loginScreen actions customModal panel'.split(' ').forEach((t=>{c.route[t]&&!e&&(e=!0,a.modalLoad(t,c,u,'forward'))})),c.route.keepAlive&&c.route.keepAliveData&&(load(a,{el:c.route.keepAliveData.pageEl},u,!1),e=!0),'url content component pageName el componentUrl'.split(' ').forEach((t=>{c.route[t]&&!e&&(e=!0,load(a,{[t]:c.route[t]},u,!1))})),e||(c.route.async&&(a.allowPageChange=!1,c.route.async.call(a,{router:a,to:u.route,from:a.currentRoute,resolve:asyncResolve,reject:asyncReject,direction:'forward',app:p})),c.route.asyncComponent&&asyncComponent(a,c.route.asyncComponent,asyncResolve,asyncReject))}function reject(){a.allowPageChange=!0}if(u.route=c,a.params.masterDetailBreakpoint>0&&c.route.masterRoute){let r=!0;let n=!1;if(a.currentRoute&&a.currentRoute.route&&(!(!0===a.currentRoute.route.master||'function'==typeof a.currentRoute.route.master&&a.currentRoute.route.master(p,a))||a.currentRoute.route!==c.route.masterRoute&&a.currentRoute.route.path!==c.route.masterRoute.path||(r=!1),!a.currentRoute.route.masterRoute||a.currentRoute.route.masterRoute!==c.route.masterRoute&&a.currentRoute.route.masterRoute.path!==c.route.masterRoute.path||(r=!1,n=!0)),r||n&&t.reloadAll)return a.navigate({path:c.route.masterRoute.path,params:c.params||{}},{animate:!1,reloadAll:t.reloadAll,reloadCurrent:t.reloadCurrent,reloadPrevious:t.reloadPrevious,browserHistory:!t.initial,history:!t.initial,once:{pageAfterIn(){a.navigate(e,extend({},t,{animate:!1,reloadAll:!1,reloadCurrent:!1,reloadPrevious:!1,history:!t.initial,browserHistory:!t.initial}))}}}),a}return processRouteQueue.call(a,c,a.currentRoute,(()=>{c.route.modules?p.loadModules(Array.isArray(c.route.modules)?c.route.modules:[c.route.modules]).then((()=>{resolve()})).catch((()=>{reject()})):resolve()}),(()=>{reject()}),'forward'),a}function tabLoad(e,t){void 0===t&&(t={});const a=this;const r=extend({animate:a.params.animate,browserHistory:!0,history:!0,parentPageEl:null,preload:!1,on:{}},t);let n;let s;r.route&&(r.preload||r.route===a.currentRoute||(s=a.previousRoute,a.currentRoute=r.route),r.preload?(n=r.route,s=a.currentRoute):(n=a.currentRoute,s||(s=a.previousRoute)),a.params.browserHistory&&r.browserHistory&&!r.reloadPrevious&&P[a.params.browserHistoryTabs](a.view.id,{url:r.route.url},(a.params.browserHistoryRoot||'')+a.params.browserHistorySeparator+r.route.url),r.history&&(a.history[Math.max(a.history.length-1,0)]=r.route.url,a.saveHistory()));const i=o(r.parentPageEl||a.currentPageEl);let l;l=i.length&&i.find(`#${e.id}`).length?i.find(`#${e.id}`).eq(0):a.view.selector?`${a.view.selector} #${e.id}`:`#${e.id}`;const c=a.app.tab.show({tabEl:l,animate:r.animate,tabRoute:r.route});const{$newTabEl:p,$oldTabEl:d,animated:u,onTabsChanged:m}=c;if(p&&p.parents('.page').length>0&&r.route){const e=p.parents('.page')[0].f7Page;e&&r.route&&(e.route=r.route)}function onTabLoaded(t){a.removeThemeElements(p);let r=p;'string'!=typeof t&&(r=o(t)),r.trigger('tab:init tab:mounted',e),a.emit('tabInit tabMounted',p[0],e),d&&d.length&&(u?m((()=>{a.emit('routeChanged',a.currentRoute,a.previousRoute,a),a.params.unloadTabContent&&a.tabRemove(d,p,e)})):(a.emit('routeChanged',a.currentRoute,a.previousRoute,a),a.params.unloadTabContent&&a.tabRemove(d,p,e)))}if(p[0].f7RouterTabLoaded)return d&&d.length?(u?m((()=>{a.emit('routeChanged',a.currentRoute,a.previousRoute,a)})):a.emit('routeChanged',a.currentRoute,a.previousRoute,a),a):a;function loadTab(e,t){const{url:r,content:n,el:o,component:s,componentUrl:i}=e;function resolve(e){a.allowPageChange=!0,e&&('string'==typeof e?p.html(e):(p.html(''),e.f7Component?e.f7Component.mount((e=>{p.append(e)})):p.append(e)),p[0].f7RouterTabLoaded=!0,onTabLoaded(e))}function reject(){return a.allowPageChange=!0,a}if(n)resolve(n);else if(o)resolve(o);else if(s||i)try{a.tabComponentLoader({tabEl:p[0],component:s,componentUrl:i,options:t,resolve:resolve,reject:reject})}catch(e){throw a.allowPageChange=!0,e}else r&&(a.xhrAbortController&&(a.xhrAbortController.abort(),a.xhrAbortController=!1),a.xhrRequest(r,t).then((e=>{resolve(e)})).catch((()=>{a.allowPageChange=!0})))}let v;function asyncResolve(e,t){loadTab(e,extend(r,t))}function asyncReject(){a.allowPageChange=!0}return'url content component el componentUrl'.split(' ').forEach((t=>{e[t]&&(v=!0,loadTab({[t]:e[t]},r))})),e.async?e.async.call(a,{router:a,to:n,from:s,resolve:asyncResolve,reject:asyncReject,app:a.app}):e.asyncComponent?asyncComponent(a,e.asyncComponent,asyncResolve,asyncReject):v||(a.allowPageChange=!0),a}function tabRemove(e,t,a){const r=this;let n;e[0]&&(e[0].f7RouterTabLoaded=!1,delete e[0].f7RouterTabLoaded),e.children().each((e=>{e.f7Component&&(n=!0,o(e).trigger('tab:beforeremove',a),e.f7Component.destroy())})),n||e.trigger('tab:beforeremove',a),r.emit('tabBeforeRemove',e[0],t[0],a),r.removeTabContent(e[0],a)}function modalLoad(e,t,a,r){void 0===a&&(a={});const n=this;const o=n.app;const s='panel'===e;const i=s?'panel':'modal';const l=extend({animate:n.params.animate,browserHistory:!0,history:!0,on:{},once:{}},a);const c=extend({},t.route[e]);const p=t.route;const routeCallback=(e,t)=>{const{on:a,once:r}=l;let n;'open'===t&&(n=a.modalOpen||r.modalOpen||a.panelOpen||r.panelOpen),'close'===t&&(n=a.modalClose||r.modalClose||a.panelClose||r.panelClose),'closed'===t&&(n=a.modalClosed||r.modalClosed||a.panelClosed||r.panelClosed),n&&n(e)};function onModalLoaded(){const a=o[e].create(c);p.modalInstance=a;const r=a.el;function closeOnSwipeBack(){a.close()}a.on(`${i}Open`,(()=>{r||(n.removeThemeElements(a.el),a.$el.trigger(`${e.toLowerCase()}:init ${e.toLowerCase()}:mounted`,t,a),n.emit(`${s?'':'modalInit'} ${e}Init ${e}Mounted`,a.el,t,a)),n.once('swipeBackMove',closeOnSwipeBack),routeCallback(a,'open')})),a.on(`${i}Close`,(()=>{n.off('swipeBackMove',closeOnSwipeBack),a.closeByRouter||n.back(),routeCallback(a,'close')})),a.on(`${i}Closed`,(()=>{a.$el.trigger(`${e.toLowerCase()}:beforeremove`,t,a),a.emit(`${s?'':'modalBeforeRemove '}${e}BeforeRemove`,a.el,t,a);const r=a.el.f7Component;routeCallback(a,'closed'),r&&r.destroy(),nextTick((()=>{(r||c.component||c.asyncComponent)&&n.removeModal(a.el),a.destroy(),delete a.route,delete p.modalInstance}))})),l.route&&(n.params.browserHistory&&l.browserHistory&&P.push(n.view.id,{url:l.route.url,modal:e},(n.params.browserHistoryRoot||'')+n.params.browserHistorySeparator+l.route.url),l.route!==n.currentRoute&&(a.route=extend(l.route,{modal:a}),n.currentRoute=a.route),l.history&&!l.reloadCurrent&&(n.history.push(l.route.url),n.saveHistory())),r&&(n.removeThemeElements(a.el),a.$el.trigger(`${e.toLowerCase()}:init ${e.toLowerCase()}:mounted`,t,a),n.emit(`${i}Init ${e}Init ${e}Mounted`,a.el,t,a)),a.open(!1===l.animate||!0===l.animate?l.animate:void 0)}function loadModal(e,t){const{url:a,content:r,component:s,componentUrl:i}=e;function resolve(e){e&&('string'==typeof e?c.content=e:e.f7Component?e.f7Component.mount((e=>{c.el=e,o.$el.append(e)})):c.el=e,onModalLoaded())}function reject(){return n.allowPageChange=!0,n}if(r)resolve(r);else if(s||i)try{n.modalComponentLoader({rootEl:o.el,component:s,componentUrl:i,options:t,resolve:resolve,reject:reject})}catch(e){throw n.allowPageChange=!0,e}else a?(n.xhrAbortController&&(n.xhrAbortController.abort(),n.xhrAbortController=!1),n.xhrRequest(a,t).then((e=>{c.content=e,onModalLoaded()})).catch((()=>{n.allowPageChange=!0}))):onModalLoaded()}let d;function asyncResolve(e,t){loadModal(e,extend(l,t))}function asyncReject(){n.allowPageChange=!0}return'url content component el componentUrl template'.split(' ').forEach((e=>{c[e]&&!d&&(d=!0,loadModal({[e]:c[e]},l))})),d||'actions'!==e||onModalLoaded(),c.async&&c.async.call(n,{router:n,to:l.route,from:n.currentRoute,resolve:asyncResolve,reject:asyncReject,direction:r,app:o}),c.asyncComponent&&asyncComponent(n,c.asyncComponent,asyncResolve,asyncReject),n}function modalRemove(e){extend(e,{closeByRouter:!0}),e.close()}function backward(e,t,a){const n=getDevice();const s=r();const i=o(t);const l=e.app;const c=e.view;const p=extend(!1,{animate:e.params.animate,browserHistory:!0,replaceState:!1},a);const d=e.params.masterDetailBreakpoint>0;const u=d&&p.route&&p.route.route&&(!0===p.route.route.master||'function'==typeof p.route.route.master&&p.route.route.master(l,e));let m;let v;const f=e.dynamicNavbar;const g=i;const b=e.$el.children('.page-current');const y=0===b.length&&p.preload;const C=d&&b.hasClass('page-master');let w;let k;let x;if(g.length&&e.removeThemeElements(g),f&&(k=g.children('.navbar'),w=e.$navbarsEl,0===k.length&&g[0]&&g[0].f7Page&&(k=g[0].f7Page.$navbarEl),x=w.find('.navbar-current')),e.allowPageChange=!1,0===g.length||0===b.length&&!p.preload)return e.allowPageChange=!0,e;let $;let E;if(e.removeThemeElements(g),p.route&&p.route.route&&p.route.route.keepAlive&&!p.route.route.keepAliveData&&(p.route.route.keepAliveData={pageEl:i[0]}),d){const t=e.$el.children('.page:not(.stacked)').filter((e=>e!==g[0]));for(let e=0;e<t.length;e+=1)m||!t[e].classList.contains('page-master')||(m=t[e]);$=!u&&m&&e.history.indexOf(p.route.url)>e.history.indexOf(m.f7Page.route.url),!$&&!u&&m&&m.f7Page&&p.route.route.masterRoute&&($=p.route.route.masterRoute.path===m.f7Page.route.route.path)}let T;if($&&m&&m.f7Page&&(E=e.history.indexOf(p.route.url)-e.history.indexOf(m.f7Page.route.url)==1),g.addClass(`page-${y?'current':'previous'}${u?' page-master':''}${$?' page-master-detail':''}${E?' page-master-detail-root':''}`).removeClass('stacked').removeAttr('aria-hidden').trigger('page:unstack').trigger('page:position',{position:y?'current':'previous'}),e.emit('pageUnstack',g[0]),e.emit('pagePosition',g[0],y?'current':'previous'),(u||$)&&(g.trigger('page:role',{role:u?'master':'detail',root:!!E}),e.emit('pageRole',g[0],{role:u?'master':'detail',detailRoot:!!E})),f&&k.length>0&&(k.addClass(`navbar-${y?'current':'previous'}${u?' navbar-master':''}${$?' navbar-master-detail':''}${E?' navbar-master-detail-root':''}`).removeClass('stacked').removeAttr('aria-hidden'),k.trigger('navbar:position',{position:y?'current':'previous'}),e.emit('navbarPosition',k[0],y?'current':'previous'),(u||E)&&e.emit('navbarRole',k[0],{role:u?'master':'detail',detailRoot:!!E})),p.force&&(b.prev('.page-previous:not(.stacked)').length>0||0===b.prev('.page-previous').length))if(e.history.indexOf(p.route.url)>=0?(T=e.history.length-e.history.indexOf(p.route.url)-1,e.history=e.history.slice(0,e.history.indexOf(p.route.url)+2),c.history=e.history):e.history[[e.history.length-2]]?e.history[e.history.length-2]=p.route.url:e.history.unshift(e.url),T&&e.params.stackPages)b.prevAll('.page-previous').each((t=>{const a=o(t);let r;f&&(r=o(l.navbar.getElByPage(a))),a[0]!==g[0]&&a.index()>g.index()&&(e.initialPages.indexOf(a[0])>=0?(a.addClass('stacked'),a.trigger('page:stack'),e.emit('pageStack',a[0]),f&&r.addClass('stacked')):(e.pageCallback('beforeRemove',a,r,'previous',void 0,p),a[0]===m&&(v=!0),e.removePage(a),f&&r.length>0&&e.removeNavbar(r)))}));else{const t=b.prev('.page-previous:not(.stacked)');let a;f&&(a=o(l.navbar.getElByPage(t))),e.params.stackPages&&e.initialPages.indexOf(t[0])>=0?(t.addClass('stacked'),t.trigger('page:stack'),e.emit('pageStack',t[0]),a.addClass('stacked')):t.length>0&&(e.pageCallback('beforeRemove',t,a,'previous',void 0,p),t[0]===m&&(v=!0),e.removePage(t),f&&a.length&&e.removeNavbar(a))}const S=g.parents(s).length>0;const R=g[0].f7Component;function insertPage(){y&&(!S&&R?R.mount((t=>{e.$el.append(t)})):e.$el.append(g)),0===g.next(b).length&&(!S&&R?R.mount((e=>{o(e).insertBefore(b)})):g.insertBefore(b)),f&&k.length&&(k.find('.title-large').length&&k.addClass('navbar-large'),k.insertBefore(x),x.length>0?k.insertBefore(x):(e.$navbarsEl.parents(s).length||e.$el.prepend(e.$navbarsEl),w.append(k))),S?p.route&&p.route.route&&p.route.route.keepAlive&&!g[0].f7PageMounted&&(g[0].f7PageMounted=!0,e.pageCallback('mounted',g,k,'previous','current',p,b)):e.pageCallback('mounted',g,k,'previous','current',p,b)}if(p.preload){insertPage(),p.route.route.tab&&e.tabLoad(p.route.route.tab,extend({},p,{history:!1,browserHistory:!1,preload:!0})),u&&(g.removeClass('page-master-stacked').trigger('page:masterunstack'),e.emit('pageMasterUnstack',g[0]),f&&(o(l.navbar.getElByPage(g)).removeClass('navbar-master-stacked'),e.emit('navbarMasterUnstack',l.navbar.getElByPage(g)))),e.pageCallback('init',g,k,'previous','current',p,b),y&&(e.pageCallback('beforeIn',g,k,'current',void 0,p),e.pageCallback('afterIn',g,k,'current',void 0,p));const t=g.prevAll('.page-previous:not(.stacked):not(.page-master)');return t.length>0&&t.each((t=>{const a=o(t);let r;f&&(r=o(l.navbar.getElByPage(a))),e.params.stackPages&&e.initialPages.indexOf(t)>=0?(a.addClass('stacked'),a.trigger('page:stack'),e.emit('pageStack',a[0]),f&&r.addClass('stacked')):(e.pageCallback('beforeRemove',a,r,'previous',void 0),e.removePage(a),f&&r.length&&e.removeNavbar(r))})),e.allowPageChange=!0,e}if(!(n.ie||n.edge||n.firefox&&!n.ios)&&e.params.browserHistory&&p.browserHistory)if(p.replaceState){const t=e.params.browserHistoryRoot||'';P.replace(c.id,{url:p.route.url},t+e.params.browserHistorySeparator+p.route.url)}else T?P.go(-T):P.back();if(p.replaceState?e.history[e.history.length-1]=p.route.url:(1===e.history.length&&e.history.unshift(e.url),e.history.pop()),e.saveHistory(),e.currentPageEl=g[0],f&&k.length?e.currentNavbarEl=k[0]:delete e.currentNavbarEl,e.currentRoute=p.route,(n.ie||n.edge||n.firefox&&!n.ios)&&e.params.browserHistory&&p.browserHistory)if(p.replaceState){const t=e.params.browserHistoryRoot||'';P.replace(c.id,{url:p.route.url},t+e.params.browserHistorySeparator+p.route.url)}else T?P.go(-T):P.back();function afterAnimation(){e.setPagePosition(g,'current',!1),e.setPagePosition(b,'next',!0),f&&(e.setNavbarPosition(k,'current',!1),e.setNavbarPosition(x,'next',!0)),e.pageCallback('afterOut',b,x,'current','next',p),e.pageCallback('afterIn',g,k,'previous','current',p),e.params.stackPages&&e.initialPages.indexOf(b[0])>=0?(b.addClass('stacked'),b.trigger('page:stack'),e.emit('pageStack',b[0]),f&&x.addClass('stacked')):(e.pageCallback('beforeRemove',b,x,'next',void 0,p),e.removePage(b),f&&x.length&&e.removeNavbar(x)),e.allowPageChange=!0,e.emit('routeChanged',e.currentRoute,e.previousRoute,e);const t=e.params.preloadPreviousPage||e.params[`${l.theme}SwipeBack`];t&&e.history[e.history.length-2]&&!u&&e.back(e.history[e.history.length-2],{preload:!0}),e.params.browserHistory&&P.clearRouterQueue()}function setPositionClasses(){e.setPagePosition(b,'current'),e.setPagePosition(g,'previous',!1),f&&(e.setNavbarPosition(x,'current'),e.setNavbarPosition(k,'previous',!1))}if(insertPage(),p.route.route.tab&&e.tabLoad(p.route.route.tab,extend({},p,{history:!1,browserHistory:!1})),d&&(C||v)&&c.checkMasterDetailBreakpoint(!1),e.pageCallback('init',g,k,'previous','current',p,b),e.pageCallback('beforeOut',b,x,'current','next',p),e.pageCallback('beforeIn',g,k,'previous','current',p),!p.animate||C&&l.width>=e.params.masterDetailBreakpoint)afterAnimation();else{let t=e.params.transition;b[0]&&b[0].f7PageTransition&&(t=b[0].f7PageTransition,delete b[0].f7PageTransition),p.transition&&(t=p.transition),!t&&e.previousRoute&&e.previousRoute.route&&(t=e.previousRoute.route.transition),!t&&e.previousRoute&&e.previousRoute.route&&e.previousRoute.route.options&&(t=e.previousRoute.route.options.transition),setPositionClasses(),e.animate(b,g,x,k,'backward',t,(()=>{afterAnimation()}))}return e}function loadBack(e,t,a,r){if(!e.allowPageChange&&!r)return e;const n=t;const o=a;const{url:s,content:i,el:l,pageName:c,component:p,componentUrl:d}=n;if(o.route.url&&e.url===o.route.url&&!o.reloadCurrent&&!o.reloadPrevious&&!e.params.allowDuplicateUrls)return!1;function resolve(t,a){return backward(e,t,extend(o,a))}function reject(){return e.allowPageChange=!0,e}if(!o.route&&s&&(o.route=e.parseRouteUrl(s)),(s||d||p)&&(e.allowPageChange=!1),i)backward(e,e.getPageEl(i),o);else if(l)backward(e,e.getPageEl(l),o);else if(c)backward(e,e.$el.children(`.page[data-name="${c}"]`).eq(0),o);else if(p||d)try{e.pageComponentLoader({routerEl:e.el,component:p,componentUrl:d,options:o,resolve:resolve,reject:reject})}catch(t){throw e.allowPageChange=!0,t}else s&&(e.xhrAbortController&&(e.xhrAbortController.abort(),e.xhrAbortController=!1),e.xhrRequest(s,o).then((t=>{backward(e,e.getPageEl(t),o)})).catch((()=>{e.allowPageChange=!0})));return e}function back(){const e=this;const t=getDevice();if(e.swipeBackActive)return e;let a;let r;let n;'object'==typeof(arguments.length<=0?void 0:arguments[0])?r=(arguments.length<=0?void 0:arguments[0])||{}:(a=arguments.length<=0?void 0:arguments[0],r=(arguments.length<=1?void 0:arguments[1])||{});const{name:o,params:s,query:i}=r;if(o)return a=e.generateUrl({name:o,params:s,query:i}),a?e.back(a,extend({},r,{name:null,params:null,query:null})):e;const l=e.app;appRouterCheck(e,'back');let c=e.currentRoute.modal;let p;if(c||'popup popover sheet loginScreen actions customModal panel'.split(' ').forEach((t=>{e.currentRoute.route[t]&&(c=!0,p=t)})),c&&!r.preload){const n=e.currentRoute.modal||e.currentRoute.route.modalInstance||l[p].get();const o=e.history[e.history.length-2];let s;if(n&&n.$el){const t=n.$el.prevAll('.modal-in');if(t.length&&t[0].f7Modal){const a=t[0];e.$el.parents(a).length||(s=a.f7Modal.route)}}if(s||(s=e.findMatchingRoute(o)),!s&&o&&(s={url:o,path:o.split('?')[0],query:parseUrlQuery(o),route:{path:o.split('?')[0],url:o}}),!(a&&0!==a.replace(/[# ]/g,'').trim().length||s&&n))return e;const i=r.force&&s&&a;if(s&&n){const o=t.ie||t.edge||t.firefox&&!t.ios;const l=e.params.browserHistory&&!1!==r.browserHistory;const c=e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&!1===e.currentRoute.route.options.browserHistory;!l||o||c||P.back(),e.currentRoute=s,e.history.pop(),e.saveHistory(),l&&o&&!c&&P.back(),e.modalRemove(n),i&&e.navigate(a,{reloadCurrent:!0})}else n&&(e.modalRemove(n),a&&e.navigate(a,{reloadCurrent:!0}));return e}let d=e.$el.children('.page-current').prevAll('.page-previous:not(.page-master)').eq(0);let u;if(e.params.masterDetailBreakpoint>0){const t=[];e.$el.children('.page').each((e=>{t.push(e.className)}));const a=e.$el.children('.page-current').prevAll('.page-master').eq(0);if(a.length){const t=e.history[e.history.length-2];const n=e.findMatchingRoute(t);n&&a[0].f7Page&&n.route===a[0].f7Page.route.route&&(d=a,r.preload||(u=l.width>=e.params.masterDetailBreakpoint))}}if(!r.force&&d.length&&!u){if(e.params.browserHistory&&d[0].f7Page&&e.history[e.history.length-2]!==d[0].f7Page.route.url)return e.back(e.history[e.history.length-2],extend(r,{force:!0})),e;const t=d[0].f7Page.route;return r.preload&&d.hasClass('stacked')?(loadBack(e,{el:d},extend(r,{route:t})),e):(processRouteQueue.call(e,t,e.currentRoute,(()=>{loadBack(e,{el:d},extend(r,{route:t}))}),(()=>{}),'backward'),e)}if('#'===a&&(a=void 0),a&&'/'!==a[0]&&0!==a.indexOf('#')&&(a=((e.path||'/')+a).replace('//','/')),!a&&e.history.length>1&&(a=e.history[e.history.length-2]),u&&!r.force&&e.history[e.history.length-3])return e.back(e.history[e.history.length-3],extend({},r||{},{force:!0,animate:!1}));if(u&&!r.force)return e;if(n=e.findMatchingRoute(a),n||a&&(n={url:a,path:a.split('?')[0],query:parseUrlQuery(a),route:{path:a.split('?')[0],url:a}}),!n)return e;if(n.route.redirect)return redirect.call(e,'backward',n,r);const m={};let v;if(n.route.options?extend(m,n.route.options,r):extend(m,r),m.route=n,m.force&&e.params.stackPages&&(e.$el.children('.page-previous.stacked').each((t=>{t.f7Page&&t.f7Page.route&&t.f7Page.route.url===n.url&&(v=!0,loadBack(e,{el:t},m))})),v))return e;function resolve(){let t=!1;function asyncResolve(t,a){e.allowPageChange=!1,loadBack(e,t,extend(m,a),!0)}function asyncReject(){e.allowPageChange=!0}n.route.keepAlive&&n.route.keepAliveData&&(loadBack(e,{el:n.route.keepAliveData.pageEl},m),t=!0),'url content component pageName el componentUrl'.split(' ').forEach((a=>{n.route[a]&&!t&&(t=!0,loadBack(e,{[a]:n.route[a]},m))})),t||(n.route.async&&(e.allowPageChange=!1,n.route.async.call(e,{router:e,to:n,from:e.currentRoute,resolve:asyncResolve,reject:asyncReject,direction:'backward',app:l})),n.route.asyncComponent&&asyncComponent(e,n.route.asyncComponent,asyncResolve,asyncReject))}function reject(){e.allowPageChange=!0}return m.preload?resolve():processRouteQueue.call(e,n,e.currentRoute,(()=>{n.route.modules?l.loadModules(Array.isArray(n.route.modules)?n.route.modules:[n.route.modules]).then((()=>{resolve()})).catch((()=>{reject()})):resolve()}),(()=>{reject()}),'backward'),e}function clearPreviousPages(e){appRouterCheck(e,'clearPreviousPages');const t=e.app;const a=e.dynamicNavbar;const r=e.$el.children('.page').filter((t=>!(!e.currentRoute||!e.currentRoute.modal&&!e.currentRoute.panel)||t!==e.currentPageEl));r.each((r=>{const n=o(r);const s=o(t.navbar.getElByPage(n));e.params.stackPages&&e.initialPages.indexOf(n[0])>=0?(n.addClass('stacked'),a&&s.addClass('stacked')):(e.pageCallback('beforeRemove',n,s,'previous',void 0,{}),e.removePage(n),a&&s.length&&e.removeNavbar(s))}))}function clearPreviousHistory(){const e=this;appRouterCheck(e,'clearPreviousHistory');const t=e.history[e.history.length-1];clearPreviousPages(e),e.history=[t],e.view.history=[t],e.saveHistory()}class Router extends v{constructor(e,t){super({},[void 0===t?e:t]);const a=this;a.isAppRouter=void 0===t,a.isAppRouter?extend(!1,a,{app:e,params:e.params.view,routes:e.routes||[],cache:e.cache}):extend(!1,a,{app:e,view:t,viewId:t.id,id:t.params.routerId,params:t.params,routes:t.routes,history:t.history,scrollHistory:t.scrollHistory,cache:e.cache,dynamicNavbar:'ios'===e.theme&&t.params.iosDynamicNavbar,initialPages:[],initialNavbars:[]}),a.useModules(),a.allowPageChange=!0;let r={};let n={};return Object.defineProperty(a,'currentRoute',{enumerable:!0,configurable:!0,set(e){void 0===e&&(e={}),n=extend({},r),r=e,r&&(a.url=r.url,a.emit('routeChange',e,n,a))},get:()=>r}),Object.defineProperty(a,'previousRoute',{enumerable:!0,configurable:!0,get:()=>n,set(e){n=e}}),a}mount(){const e=this;const t=e.view;const a=r();extend(!1,e,{tempDom:a.createElement('div'),$el:t.$el,el:t.el,$navbarsEl:t.$navbarsEl,navbarsEl:t.navbarsEl}),e.emit('local::mount routerMount',e)}animatableNavElements(e,t,a,r,n){const s=this;const i=s.dynamicNavbar;const l=s.params.iosAnimateNavbarBackIcon;let c;let p;function animatableNavEl(e,t){const a=e.hasClass('sliding')||t.hasClass('sliding');const r=e.hasClass('subnavbar');const n=!a||!r;const o=e.find('.back .icon');let s;return a&&l&&e.hasClass('left')&&o.length>0&&o.next('span').length&&(e=o.next('span'),s=!0),{$el:e,isIconLabel:s,leftOffset:e[0].f7NavbarLeftOffset,rightOffset:e[0].f7NavbarRightOffset,isSliding:a,isSubnavbar:r,needsOpacityTransition:n}}return i&&(c=[],p=[],e.children('.navbar-inner').children('.left, .right, .title, .subnavbar').each((t=>{const s=o(t);s.hasClass('left')&&r&&'forward'===n||s.hasClass('title')&&a||c.push(animatableNavEl(s,e.children('.navbar-inner')))})),t.hasClass('navbar-master')&&s.params.masterDetailBreakpoint>0&&s.app.width>=s.params.masterDetailBreakpoint||t.children('.navbar-inner').children('.left, .right, .title, .subnavbar').each((e=>{const s=o(e);s.hasClass('left')&&a&&!r&&'forward'===n||s.hasClass('left')&&a&&'backward'===n||s.hasClass('title')&&r||p.push(animatableNavEl(s,t.children('.navbar-inner')))})),[p,c].forEach((e=>{e.forEach((t=>{const a=t;const{isSliding:r,$el:n}=t;const o=e===p?c:p;r&&n.hasClass('title')&&o&&o.forEach((e=>{if(e.isIconLabel){const t=e.$el[0];a.leftOffset+=t&&t.offsetLeft||0}}))}))}))),{newNavEls:c,oldNavEls:p}}animate(e,t,a,r,n,o,s){const i=this;if(i.params.animateCustom)return void i.params.animateCustom.apply(i,[e,t,a,r,n,s]);const l=i.dynamicNavbar;const c='ios'===i.app.theme;if(o){const c=`router-transition-custom router-transition-${o}-${n}`;const onCustomTransitionDone=()=>{i.$el.removeClass(c),l&&i.$navbarsEl.length&&(r&&i.$navbarsEl.prepend(r),a&&i.$navbarsEl.prepend(a)),s&&s()};return('forward'===n?t:e).animationEnd(onCustomTransitionDone),l&&(r&&t&&(i.setNavbarPosition(r,''),r.removeClass('navbar-next navbar-previous navbar-current'),t.prepend(r)),a&&e&&(i.setNavbarPosition(a,''),a.removeClass('navbar-next navbar-previous navbar-current'),e.prepend(a))),void i.$el.addClass(c)}const p=`router-transition-${n} router-transition`;let d;let u;let m;let v;let f;let g;let b;if(c&&l){const e=i.params.masterDetailBreakpoint>0&&i.app.width>=i.params.masterDetailBreakpoint&&(a.hasClass('navbar-master')&&r.hasClass('navbar-master-detail')||a.hasClass('navbar-master-detail')&&r.hasClass('navbar-master'));e||(g=a&&a.hasClass('navbar-large'),b=r&&r.hasClass('navbar-large'),m=g&&!a.hasClass('navbar-large-collapsed'),v=b&&!r.hasClass('navbar-large-collapsed'),f=m&&!v||v&&!m);const t=i.animatableNavElements(r,a,v,m,n);d=t.newNavEls,u=t.oldNavEls}function animateNavbars(e){c&&l&&(1===e&&(v&&(r.addClass('router-navbar-transition-to-large'),a.addClass('router-navbar-transition-to-large')),m&&(r.addClass('router-navbar-transition-from-large'),a.addClass('router-navbar-transition-from-large'))),d.forEach((t=>{const a=t.$el;const r='forward'===n?t.rightOffset:t.leftOffset;t.isSliding&&(t.isSubnavbar&&b?a[0].style.setProperty('transform',`translate3d(${r*(1-e)}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`,'important'):a.transform(`translate3d(${r*(1-e)}px,0,0)`))})),u.forEach((t=>{const a=t.$el;const r='forward'===n?t.leftOffset:t.rightOffset;t.isSliding&&(t.isSubnavbar&&g?a.transform(`translate3d(${r*e}px, calc(-1 * var(--f7-navbar-large-collapse-progress) * var(--f7-navbar-large-title-height)), 0)`):a.transform(`translate3d(${r*e}px,0,0)`))})))}function onDone(){i.dynamicNavbar&&(r&&(r.removeClass('router-navbar-transition-to-large router-navbar-transition-from-large'),r.addClass('navbar-no-title-large-transition'),nextFrame$1((()=>{r.removeClass('navbar-no-title-large-transition')}))),a&&a.removeClass('router-navbar-transition-to-large router-navbar-transition-from-large'),r.hasClass('sliding')||r.children('.navbar-inner.sliding').length?r.find('.title, .left, .right, .left .icon, .subnavbar').transform(''):r.find('.sliding').transform(''),a.hasClass('sliding')||a.children('.navbar-inner.sliding').length?a.find('.title, .left, .right, .left .icon, .subnavbar').transform(''):a.find('.sliding').transform('')),i.$el.removeClass(p),s&&s()}('forward'===n?t:e).animationEnd((()=>{onDone()})),l?(animateNavbars(0),nextFrame$1((()=>{i.$el.addClass(p),f&&(i.el._clientLeft=i.el.clientLeft),animateNavbars(1)}))):i.$el.addClass(p)}removeModal(e){const t=this;t.removeEl(e)}removeTabContent(e){const t=o(e);t.html('')}removeNavbar(e){const t=this;t.removeEl(e)}removePage(e){const t=o(e);const a=t&&t[0]&&t[0].f7Page;const r=this;a&&a.route&&a.route.route&&a.route.route.keepAlive?t.remove():r.removeEl(e)}removeEl(e){if(!e)return;const t=this;const a=o(e);0!==a.length&&(a.find('.tab').each((e=>{o(e).children().each((e=>{e.f7Component&&(o(e).trigger('tab:beforeremove'),e.f7Component.destroy())}))})),a[0].f7Component&&a[0].f7Component.destroy&&a[0].f7Component.destroy(),t.params.removeElements&&(t.params.removeElementsWithTimeout?setTimeout((()=>{a.remove()}),t.params.removeElementsTimeout):a.remove()))}getPageEl(e){const t=this;if('string'==typeof e)t.tempDom.innerHTML=e;else{if(o(e).hasClass('page'))return e;t.tempDom.innerHTML='',o(t.tempDom).append(e)}return t.findElement('.page',t.tempDom)}findElement(e,t,a){const r=this;const n=r.view;const s=r.app;const i='.popup, .dialog, .popover, .actions-modal, .sheet-modal, .login-screen, .page';const l=o(t);let c=e;a&&(c+=':not(.stacked)');let p=l.find(c).filter((e=>0===o(e).parents(i).length));return p.length>1&&('string'==typeof n.selector&&(p=l.find(`${n.selector} ${c}`)),p.length>1&&(p=l.find(`.${s.params.viewMainClass} ${c}`))),1===p.length?p:(a||(p=r.findElement(c,l,!0)),p&&1===p.length?p:p&&p.length>1?o(p[0]):void 0)}flattenRoutes(e){void 0===e&&(e=this.routes);const t=this;let a=[];return e.forEach((e=>{let r=!1;if('tabs'in e&&e.tabs){const n=e.tabs.map((t=>{const a=extend({},e,{path:`${e.path}/${t.path}`.replace('///','/').replace('//','/'),parentPath:e.path,tab:t});return delete a.tabs,delete a.routes,a}));r=!0,a=a.concat(t.flattenRoutes(n))}if('detailRoutes'in e){const r=e.detailRoutes.map((t=>{const a=extend({},t);return a.masterRoute=e,a.masterRoutePath=e.path,a}));a=a.concat(e,t.flattenRoutes(r))}if('routes'in e){const n=e.routes.map((t=>{const a=extend({},t);return a.path=`${e.path}/${a.path}`.replace('///','/').replace('//','/'),a}));a=r?a.concat(t.flattenRoutes(n)):a.concat(e,t.flattenRoutes(n))}'routes'in e||'tabs'in e&&e.tabs||'detailRoutes'in e||a.push(e)})),a}parseRouteUrl(e){if(!e)return{};const t=parseUrlQuery(e);const a=e.split('#')[1];const r={};const n=e.split('#')[0].split('?')[0];return{query:t,hash:a,params:r,url:e,path:n}}generateUrl(e){if(void 0===e&&(e={}),'string'==typeof e)return e;const{name:t,path:a,params:r,query:n}=e;if(!t&&!a)throw new Error('Framework7: "name" or "path" parameter is required');const o=this;const s=t?o.findRouteByKey('name',t):o.findRouteByKey('path',a);if(!s)throw t?new Error(`Framework7: route with name "${t}" not found`):new Error(`Framework7: route with path "${a}" not found`);const i=o.constructRouteUrl(s,{params:r,query:n});if(!i)throw new Error(`Framework7: can't construct URL for route with name "${t}"`);return i}constructRouteUrl(e,t){let{params:a,query:r}=void 0===t?{}:t;const{path:n}=e;const o=compile(n);let s;try{s=o(a||{})}catch(e){throw new Error(`Framework7: error constructing route URL from passed params:\nRoute: ${n}\n${e.toString()}`)}return r&&('string'==typeof r?s+=`?${r}`:Object.keys(r).length&&(s+=`?${serializeObject(r)}`)),s}findTabRouteUrl(e){const t=this;const a=o(e);const r=t.currentRoute.route.parentPath;const n=a.attr('id');const s=t.flattenRoutes(t.routes);let i;return s.forEach((e=>{e.parentPath===r&&e.tab&&e.tab.id===n&&(i=t.currentRoute.params&&Object.keys(t.currentRoute.params).length>0?t.constructRouteUrl(e,{params:t.currentRoute.params,query:t.currentRoute.query}):e.path)})),i}findRouteByKey(e,t){const a=this;const r=a.routes;const n=a.flattenRoutes(r);let o;return n.forEach((a=>{o||a[e]===t&&(o=a)})),o}findMatchingRoute(e){if(!e)return;const t=this;const a=t.routes;const r=t.flattenRoutes(a);const{path:n,query:o,hash:s,params:i}=t.parseRouteUrl(e);let l;return r.forEach((t=>{if(l)return;const a=[];const r=[t.path];let c;if(t.alias&&('string'==typeof t.alias?r.push(t.alias):Array.isArray(t.alias)&&t.alias.forEach((e=>{r.push(e)}))),r.forEach((e=>{c||(c=pathToRegexp(e,a).exec(n))})),c){let r;a.forEach(((e,t)=>{if('number'==typeof e.name)return;const a=c[t+1];i[e.name]=null==a?a:decodeURIComponent(a)})),t.parentPath&&(r=n.split('/').slice(0,t.parentPath.split('/').length-1).join('/')),l={query:o,hash:s,params:i,url:e,path:n,parentPath:r,route:t,name:t.name}}})),l}replaceRequestUrlParams(e,t){void 0===e&&(e=''),void 0===t&&(t={});let a=e;return'string'==typeof a&&a.indexOf('{{')>=0&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&Object.keys(t.route.params).forEach((e=>{const r=new RegExp(`{{${e}}}`,'g');a=a.replace(r,t.route.params[e]||'')})),a}removeFromXhrCache(e){const t=this;const a=t.cache.xhr;let r=!1;for(let t=0;t<a.length;t+=1)a[t].url===e&&(r=t);!1!==r&&a.splice(r,1)}xhrRequest(e,t){const a=this;const r=a.params;const{ignoreCache:n}=t;let o=e;let s=o.indexOf('?')>=0;return r.passRouteQueryToRequest&&t&&t.route&&t.route.query&&Object.keys(t.route.query).length&&(o+=`${s?'&':'?'}${serializeObject(t.route.query)}`,s=!0),r.passRouteParamsToRequest&&t&&t.route&&t.route.params&&Object.keys(t.route.params).length&&(o+=`${s?'&':'?'}${serializeObject(t.route.params)}`,s=!0),o.indexOf('{{')>=0&&(o=a.replaceRequestUrlParams(o,t)),r.xhrCacheIgnoreGetParameters&&o.indexOf('?')>=0&&(o=o.split('?')[0]),new Promise(((e,s)=>{if(r.xhrCache&&!n&&o.indexOf('nocache')<0&&r.xhrCacheIgnore.indexOf(o)<0)for(let t=0;t<a.cache.xhr.length;t+=1){const n=a.cache.xhr[t];if(n.url===o&&now()-n.time<r.xhrCacheDuration)return void e(n.content)}a.xhrAbortController=a.app.request.abortController(),a.app.request({abortController:a.xhrAbortController,url:o,method:'GET',beforeSend(e){a.emit('routerAjaxStart',e,t)},complete(n,i){a.emit('routerAjaxComplete',n),'error'!==i&&'timeout'!==i&&n.status>=200&&n.status<300||0===n.status?(r.xhrCache&&''!==n.responseText&&(a.removeFromXhrCache(o),a.cache.xhr.push({url:o,time:now(),content:n.responseText})),a.emit('routerAjaxSuccess',n,t),e(n.responseText)):(a.emit('routerAjaxError',n,t),s(n))},error(e){a.emit('routerAjaxError',e,t),s(e)}})}))}setNavbarPosition(e,t,a){const r=this;e.removeClass('navbar-previous navbar-current navbar-next'),t&&e.addClass(`navbar-${t}`),!1===a?e.removeAttr('aria-hidden'):!0===a&&e.attr('aria-hidden','true'),e.trigger('navbar:position',{position:t}),r.emit('navbarPosition',e[0],t)}setPagePosition(e,t,a){const r=this;e.removeClass('page-previous page-current page-next'),e.addClass(`page-${t}`),!1===a?e.removeAttr('aria-hidden'):!0===a&&e.attr('aria-hidden','true'),e.trigger('page:position',{position:t}),r.emit('pagePosition',e[0],t)}removeThemeElements(e){const t=this;const a=t.app.theme;let r;'ios'===a?r='.md-only, .aurora-only, .if-md, .if-aurora, .if-not-ios, .not-ios':'md'===a?r='.ios-only, .aurora-only, .if-ios, .if-aurora, .if-not-md, .not-md':'aurora'===a&&(r='.ios-only, .md-only, .if-ios, .if-md, .if-not-aurora, .not-aurora'),o(e).find(r).remove()}getPageData(e,t,a,r,n,s){void 0===n&&(n={});const i=this;const l=o(e).eq(0);const c=o(t).eq(0);const p=l[0].f7Page||{};let d;let u;if(('next'===a&&'current'===r||'current'===a&&'previous'===r)&&(d='forward'),('current'===a&&'next'===r||'previous'===a&&'current'===r)&&(d='backward'),p&&!p.fromPage){const e=o(s);e.length&&(u=e[0].f7Page)}u=p.pageFrom||u,u&&u.pageFrom&&(u.pageFrom=null);const m={app:i.app,view:i.view,router:i,$el:l,el:l[0],$pageEl:l,pageEl:l[0],$navbarEl:c,navbarEl:c[0],name:l.attr('data-name'),position:a,from:a,to:r,direction:d,route:p.route?p.route:n,pageFrom:u};return l[0].f7Page=m,m}pageCallback(e,t,a,r,n,s,i){if(void 0===s&&(s={}),!t)return;const l=this;const c=o(t);if(!c.length)return;const p=o(a);const{route:d}=s;const u=l.params.restoreScrollTopOnBack&&!(l.params.masterDetailBreakpoint>0&&c.hasClass('page-master')&&l.app.width>=l.params.masterDetailBreakpoint);const m=c[0].f7Page&&c[0].f7Page.route&&c[0].f7Page.route.route&&c[0].f7Page.route.route.keepAlive;'beforeRemove'===e&&m&&(e='beforeUnmount');const v=`page${e[0].toUpperCase()+e.slice(1,e.length)}`;const f=`page:${e.toLowerCase()}`;let g={};g='beforeRemove'===e&&c[0].f7Page?extend(c[0].f7Page,{from:r,to:n,position:r}):l.getPageData(c[0],p[0],r,n,d,i),g.swipeBack=!!s.swipeBack;const{on:b={},once:y={}}=s.route?s.route.route:{};function attachEvents(){c[0].f7RouteEventsAttached||(c[0].f7RouteEventsAttached=!0,b&&Object.keys(b).length>0&&(c[0].f7RouteEventsOn=b,Object.keys(b).forEach((e=>{b[e]=b[e].bind(l),c.on(eventNameToColonCase(e),b[e])}))),y&&Object.keys(y).length>0&&(c[0].f7RouteEventsOnce=y,Object.keys(y).forEach((e=>{y[e]=y[e].bind(l),c.once(eventNameToColonCase(e),y[e])}))))}function detachEvents(){c[0].f7RouteEventsAttached&&(c[0].f7RouteEventsOn&&Object.keys(c[0].f7RouteEventsOn).forEach((e=>{c.off(eventNameToColonCase(e),c[0].f7RouteEventsOn[e])})),c[0].f7RouteEventsOnce&&Object.keys(c[0].f7RouteEventsOnce).forEach((e=>{c.off(eventNameToColonCase(e),c[0].f7RouteEventsOnce[e])})),c[0].f7RouteEventsAttached=null,c[0].f7RouteEventsOn=null,c[0].f7RouteEventsOnce=null,delete c[0].f7RouteEventsAttached,delete c[0].f7RouteEventsOn,delete c[0].f7RouteEventsOnce)}if(s.on&&extend(b,s.on),s.once&&extend(y,s.once),'mounted'===e&&attachEvents(),'init'===e){if(u&&('previous'===r||!r)&&'current'===n&&l.scrollHistory[g.route.url]&&!c.hasClass('no-restore-scroll')){let e=c.find('.page-content');e.length>0&&(e=e.filter((e=>0===o(e).parents('.tab:not(.tab-active)').length&&!o(e).is('.tab:not(.tab-active)')))),e.scrollTop(l.scrollHistory[g.route.url])}if(attachEvents(),c[0].f7PageInitialized)return c.trigger('page:reinit',g),void l.emit('pageReinit',g);c[0].f7PageInitialized=!0}if(u&&'beforeOut'===e&&'current'===r&&'previous'===n){let e=c.find('.page-content');e.length>0&&(e=e.filter((e=>0===o(e).parents('.tab:not(.tab-active)').length&&!o(e).is('.tab:not(.tab-active)')))),l.scrollHistory[g.route.url]=e.scrollTop()}u&&'beforeOut'===e&&'current'===r&&'next'===n&&delete l.scrollHistory[g.route.url],c.trigger(f,g),l.emit(v,g),'beforeRemove'!==e&&'beforeUnmount'!==e||(detachEvents(),m||(c[0].f7Page&&c[0].f7Page.navbarEl&&delete c[0].f7Page.navbarEl.f7Page,c[0].f7Page=null))}saveHistory(){const e=this;const t=a();e.view.history=e.history,e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&(t.localStorage[`f7router-${e.view.id}-history`]=JSON.stringify(e.history))}restoreHistory(){const e=this;const t=a();e.params.browserHistory&&e.params.browserHistoryStoreHistory&&t.localStorage&&t.localStorage[`f7router-${e.view.id}-history`]&&(e.history=JSON.parse(t.localStorage[`f7router-${e.view.id}-history`]),e.view.history=e.history)}clearHistory(){const e=this;e.history=[],e.view&&(e.view.history=[]),e.saveHistory()}updateCurrentUrl(e){const t=this;appRouterCheck(t,'updateCurrentUrl'),t.history.length?t.history[t.history.length-1]=e:t.history.push(e);const{query:a,hash:r,params:n,url:o,path:s}=t.parseRouteUrl(e);if(t.currentRoute&&extend(t.currentRoute,{query:a,hash:r,params:n,url:o,path:s}),t.params.browserHistory){const a=t.params.browserHistoryRoot||'';P.replace(t.view.id,{url:e},a+t.params.browserHistorySeparator+e)}t.saveHistory(),t.emit('routeUrlUpdate',t.currentRoute,t)}getInitialUrl(){const e=this;if(e.initialUrl)return{initialUrl:e.initialUrl,historyRestored:e.historyRestored};const{app:t,view:n}=e;const o=r();const s=a();const i=t.params.url&&'string'==typeof t.params.url&&'undefined'!=typeof URL?new URL(t.params.url):o.location;let l=e.params.url;let c=i.href.split(i.origin)[1];let p;const{browserHistory:d,browserHistoryOnLoad:u,browserHistorySeparator:m}=e.params;let{browserHistoryRoot:v}=e.params;return(s.cordova||s.Capacitor&&s.Capacitor.isNative)&&d&&!m&&!v&&i.pathname.indexOf('index.html')&&(v=i.pathname.split('index.html')[0]),d&&u?(v&&c.indexOf(v)>=0&&(c=c.split(v)[1],''===c&&(c='/')),l=m.length>0&&c.indexOf(m)>=0?c.split(m)[1]:c,e.restoreHistory(),e.history.indexOf(l)>=0?e.history=e.history.slice(0,e.history.indexOf(l)+1):e.params.url===l?e.history=[l]:P.state&&P.state[n.id]&&P.state[n.id].url===e.history[e.history.length-1]?l=e.history[e.history.length-1]:e.history=[c.split(m)[0]||'/',l],e.history.length>1?p=!0:e.history=[],e.saveHistory()):(l||(l=c),i.search&&l.indexOf('?')<0&&(l+=i.search),i.hash&&l.indexOf('#')<0&&(l+=i.hash)),e.initialUrl=l,e.historyRestored=p,{initialUrl:l,historyRestored:p}}init(){const e=this;const{app:t,view:a}=e;const n=r();e.mount();const{initialUrl:s,historyRestored:i}=e.getInitialUrl();(a&&e.params.iosSwipeBack&&'ios'===t.theme||a&&e.params.mdSwipeBack&&'md'===t.theme||a&&e.params.auroraSwipeBack&&'aurora'===t.theme)&&SwipeBack(e);const{browserHistory:l,browserHistoryOnLoad:c,browserHistoryAnimateOnLoad:p,browserHistoryInitialMatch:d}=e.params;let u;if(e.history.length>1){const t=d?s:e.history[0];u=e.findMatchingRoute(t),u||(u=extend(e.parseRouteUrl(t),{route:{url:t,path:t.split('?')[0]}}))}else u=e.findMatchingRoute(s),u||(u=extend(e.parseRouteUrl(s),{route:{url:s,path:s.split('?')[0]}}));if(e.params.stackPages&&e.$el.children('.page').each((t=>{const a=o(t);e.initialPages.push(a[0]),e.dynamicNavbar&&a.children('.navbar').length>0&&e.initialNavbars.push(a.children('.navbar')[0])})),0===e.$el.children('.page:not(.stacked)').length&&s&&e.params.loadInitialPage)e.navigate(s,{initial:!0,reloadCurrent:!0,browserHistory:!1,animate:!1,once:{modalOpen(){if(!i)return;const a=e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`];a&&e.history.length>1&&e.back({preload:!0})},pageAfterIn(){if(!i)return;const a=e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`];a&&e.history.length>1&&e.back({preload:!0})}}});else if(e.$el.children('.page:not(.stacked)').length){let r;if(e.currentRoute=u,e.$el.children('.page:not(.stacked)').each((s=>{const i=o(s);let l;e.setPagePosition(i,'current'),e.dynamicNavbar&&(l=i.children('.navbar'),l.length>0?(e.$navbarsEl.parents(n).length||e.$el.prepend(e.$navbarsEl),e.setNavbarPosition(l,'current'),e.$navbarsEl.append(l),l.children('.title-large').length&&l.addClass('navbar-large'),i.children('.navbar').remove()):(e.$navbarsEl.addClass('navbar-hidden'),l.children('.title-large').length&&e.$navbarsEl.addClass('navbar-hidden navbar-large-hidden'))),e.currentRoute&&e.currentRoute.route&&(!0===e.currentRoute.route.master||'function'==typeof e.currentRoute.route.master&&e.currentRoute.route.master(t,e))&&e.params.masterDetailBreakpoint>0&&(i.addClass('page-master'),i.trigger('page:role',{role:'master'}),l&&l.length&&l.addClass('navbar-master'),a.checkMasterDetailBreakpoint());const c={route:e.currentRoute};e.currentRoute&&e.currentRoute.route&&e.currentRoute.route.options&&extend(c,e.currentRoute.route.options),e.currentPageEl=i[0],e.dynamicNavbar&&l.length&&(e.currentNavbarEl=l[0]),e.removeThemeElements(i),e.dynamicNavbar&&l.length&&e.removeThemeElements(l),c.route.route.tab&&(r=!0,e.tabLoad(c.route.route.tab,extend({},c))),e.pageCallback('init',i,l,'current',void 0,c),e.pageCallback('beforeIn',i,l,'current',void 0,c),e.pageCallback('afterIn',i,l,'current',void 0,c)})),i)if(d){const a=e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`];a&&e.history.length>1&&e.back({preload:!0})}else e.navigate(s,{initial:!0,browserHistory:!1,history:!1,animate:p,once:{pageAfterIn(){const a=e.params.preloadPreviousPage||e.params[`${t.theme}SwipeBack`];a&&e.history.length>2&&e.back({preload:!0})}}});i||r||(e.history.push(s),e.saveHistory())}!(s&&l&&c)||P.state&&P.state[a.id]||P.initViewState(a.id,{url:s}),e.emit('local::init routerInit',e)}destroy(){let e=this;e.emit('local::destroy routerDestroy',e),Object.keys(e).forEach((t=>{e[t]=null,delete e[t]})),e=null}}Router.prototype.navigate=navigate,Router.prototype.refreshPage=refreshPage,Router.prototype.tabLoad=tabLoad,Router.prototype.tabRemove=tabRemove,Router.prototype.modalLoad=modalLoad,Router.prototype.modalRemove=modalRemove,Router.prototype.back=back,Router.prototype.clearPreviousHistory=clearPreviousHistory;var R=Router;var O={name:'router',static:{Router:R},instance:{cache:{xhr:[],templates:[],components:[]}},create(){const e=this;e.app?e.params.router&&(e.router=new R(e.app,e)):e.router=new R(e)}};function resizableView(e){const t=e.app;const a=getSupport();if(e.resizableInitialized)return;extend(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});const r=o('html');const{$el:n}=e;if(!n)return;let s;let i;let l;const c={};let p;let d;let u;let m;function transformCSSWidth(e){if(!e)return null;if(e.indexOf('%')>=0||e.indexOf('vw')>=0)return parseInt(e,10)/100*t.width;const a=parseInt(e,10);return Number.isNaN(a)?null:a}function isResizable(){return e.resizable&&n.hasClass('view-resizable')&&n.hasClass('view-master-detail')}function handleTouchStart(e){if(!isResizable())return;c.x='touchstart'===e.type?e.targetTouches[0].pageX:e.pageX,c.y='touchstart'===e.type?e.targetTouches[0].pageY:e.pageY,l=!1,i=!0;const t=n.children('.page-master');u=transformCSSWidth(t.css('min-width')),m=transformCSSWidth(t.css('max-width'))}function handleTouchMove(a){if(!i)return;a.f7PreventSwipePanel=!0;const o='touchmove'===a.type?a.targetTouches[0].pageX:a.pageX;l||(d=s[0].offsetLeft+s[0].offsetWidth,n.addClass('view-resizing'),r.css('cursor','col-resize')),l=!0,a.preventDefault(),p=o-c.x;let v=d+p;u&&!Number.isNaN(u)&&(v=Math.max(v,u)),m&&!Number.isNaN(m)&&(v=Math.min(v,m)),v=Math.min(Math.max(v,0),t.width),e.resizableWidth=v,r[0].style.setProperty('--f7-page-master-width',`${v}px`),n.trigger('view:resize',v),e.emit('local::resize viewResize',e,v)}function handleTouchEnd(){if(o('html').css('cursor',''),!i||!l)return i=!1,void(l=!1);i=!1,l=!1,r[0].style.setProperty('--f7-page-master-width',`${e.resizableWidth}px`),n.removeClass('view-resizing')}function handleResize(){e.resizableWidth&&(u=transformCSSWidth(s.css('min-width')),m=transformCSSWidth(s.css('max-width')),u&&!Number.isNaN(u)&&e.resizableWidth<u&&(e.resizableWidth=Math.max(e.resizableWidth,u)),m&&!Number.isNaN(m)&&e.resizableWidth>m&&(e.resizableWidth=Math.min(e.resizableWidth,m)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),r[0].style.setProperty('--f7-page-master-width',`${e.resizableWidth}px`))}s=e.$el.children('.view-resize-handler'),s.length||(e.$el.append('<div class="view-resize-handler"></div>'),s=e.$el.children('.view-resize-handler')),e.$resizeHandlerEl=s,n.addClass('view-resizable');const v=!!a.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,'.view-resize-handler',handleTouchStart,v),t.on('touchmove:active',handleTouchMove),t.on('touchend:passive',handleTouchEnd),t.on('resize',handleResize),e.on('beforeOpen',handleResize),e.once('viewDestroy',(()=>{n.removeClass('view-resizable'),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,'.view-resize-handler',handleTouchStart,v),t.off('touchmove:active',handleTouchMove),t.off('touchend:passive',handleTouchEnd),t.off('resize',handleResize),e.off('beforeOpen',handleResize)}))}let M=class View extends v{constructor(e,t,a){void 0===a&&(a={}),super(a,[e]);const r=this;const n=r.params.routerId;const s={routes:[],routesAdd:[]};if(!n){const e=o(t);if(!e.length){let e="Framework7: can't create a View instance because ";throw e+='string'==typeof t?`the selector "${t}" didn't match any element`:'el must be an HTMLElement or Dom7 object',new Error(e)}}let i;return r.params=extend({el:t},s,e.params.view,a),r.params.routes.length>0?r.routes=r.params.routes:r.routes=[].concat(e.routes,r.params.routesAdd),extend(!1,r,{app:e,name:r.params.name,main:r.params.main,history:[],scrollHistory:{}}),r.useModules(),e.views.push(r),r.main&&(e.views.main=r),r.name&&(e.views[r.name]=r),r.index=e.views.indexOf(r),i=r.name?`view_${r.name}`:r.main?'view_main':`view_${r.index}`,r.id=i,r.params.init?(e.initialized?r.init():e.on('init',(()=>{r.init()})),r):r}destroy(){let e=this;const t=e.app;e.$el.trigger('view:beforedestroy'),e.emit('local::beforeDestroy viewBeforeDestroy',e),t.off('resize',e.checkMasterDetailBreakpoint),e.main?(t.views.main=null,delete t.views.main):e.name&&(t.views[e.name]=null,delete t.views[e.name]),e.$el[0].f7View=null,delete e.$el[0].f7View,t.views.splice(t.views.indexOf(e),1),e.params.router&&e.router&&e.router.destroy(),e.emit('local::destroy viewDestroy',e),Object.keys(e).forEach((t=>{e[t]=null,delete e[t]})),e=null}checkMasterDetailBreakpoint(e){const t=this;const a=t.app;const r=t.$el.hasClass('view-master-detail');const n=a.width>=t.params.masterDetailBreakpoint&&t.$el.children('.page-master').length;void 0===e&&n||!0===e?(t.$el.addClass('view-master-detail'),r||(t.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint',t),t.$el.trigger('view:masterDetailBreakpoint'))):(t.$el.removeClass('view-master-detail'),r&&(t.emit('local::masterDetailBreakpoint viewMasterDetailBreakpoint',t),t.$el.trigger('view:masterDetailBreakpoint')))}initMasterDetail(){const e=this;const t=e.app;e.checkMasterDetailBreakpoint=e.checkMasterDetailBreakpoint.bind(e),e.checkMasterDetailBreakpoint(),e.params.masterDetailResizable&&resizableView(e),t.on('resize',e.checkMasterDetailBreakpoint)}mount(e){const t=this;const a=t.app;const r=t.params.el||e;const n=o(r);let s;let i;s='string'==typeof r?r:(n.attr('id')?`#${n.attr('id')}`:'')+(n.attr('class')?`.${n.attr('class').replace(/ /g,'.').replace('.active','')}`:''),'ios'===a.theme&&t.params.iosDynamicNavbar&&(i=n.children('.navbars').eq(0),0===i.length&&(i=o('<div class="navbars"></div>'))),extend(t,{$el:n,el:n[0],main:t.main||n.hasClass('view-main'),$navbarsEl:i,navbarsEl:i?i[0]:void 0,selector:s}),t.main&&(a.views.main=t),n&&n[0]&&(n[0].f7View=t),t.emit('local::mount viewMount',t)}init(e){const t=this;t.mount(e),t.params.router&&(t.params.masterDetailBreakpoint>0&&t.initMasterDetail(),t.params.initRouterOnTabShow&&t.$el.hasClass('tab')&&!t.$el.hasClass('tab-active')?t.$el.once('tab:show',(()=>{t.router.init()})):t.router.init(),t.$el.trigger('view:init'),t.emit('local::init viewInit',t))}};M.use(O);var A=M;function initClicks(e){function handleClicks(t){const r=a();const n=o(t.target);const s=n.closest('a');const i=s.length>0;const l=i&&s.attr('href');if(i&&(s.is(e.params.clicks.externalLinks)||l&&l.indexOf('javascript:')>=0)){const e=s.attr('target');return void(l&&r.cordova&&r.cordova.InAppBrowser&&('_system'===e||'_blank'===e)?(t.preventDefault(),r.cordova.InAppBrowser.open(l,e)):l&&r.Capacitor&&r.Capacitor.Plugins&&r.Capacitor.Plugins.Browser&&('_system'===e||'_blank'===e)&&(t.preventDefault(),r.Capacitor.Plugins.Browser.open({url:l})))}Object.keys(e.modules).forEach((a=>{const r=e.modules[a].clicks;r&&(t.preventF7Router||Object.keys(r).forEach((a=>{const o=n.closest(a).eq(0);o.length>0&&r[a].call(e,o,o.dataset(),t)})))}));let c={};if(i&&(t.preventDefault(),c=s.dataset()),c.clickedEl=s[0],t.preventF7Router)return;if(s.hasClass('prevent-router')||s.hasClass('router-prevent'))return;const p=l&&l.length>0&&'#'!==l[0];if(p||s.hasClass('back')){let t;if(c.view&&'current'===c.view?t=e.views.current:c.view?t=o(c.view)[0].f7View:(t=n.parents('.view')[0]&&n.parents('.view')[0].f7View,!s.hasClass('back')&&t&&t.params.linksView&&('string'==typeof t.params.linksView?t=o(t.params.linksView)[0].f7View:t.params.linksView instanceof A&&(t=t.params.linksView))),t||e.views.main&&(t=e.views.main),!t||!t.router)return;s[0].f7RouteProps&&(c.props=s[0].f7RouteProps),s.hasClass('back')?t.router.back(l,c):t.router.navigate(l,c)}}e.on('click',handleClicks)}var B={name:'clicks',params:{clicks:{externalLinks:'.external'}},on:{init(){const e=this;initClicks(e)}}};var N={name:'routerComponentLoader',proto:{openIn(e,t,a){const r={url:t,route:{path:t,options:{...a,openIn:void 0}}};const n={...a};if('popup'===a.openIn&&(n.content=`<div class="popup popup-router-open-in" data-url="${t}"><div class="view view-init" data-links-view="${e.view.selector}" data-url="${t}" data-ignore-open-in="true"></div></div>`,r.route.popup=n),'loginScreen'===a.openIn&&(n.content=`<div class="login-screen login-screen-router-open-in" data-url="${t}"><div class="view view-init" data-links-view="${e.view.selector}" data-url="${t}" data-ignore-open-in="true"></div></div>`,r.route.loginScreen=n),'sheet'===a.openIn&&(n.content=`<div class="sheet-modal sheet-modal-router-open-in" data-url="${t}"><div class="sheet-modal-inner"><div class="view view-init" data-links-view="${e.view.selector}" data-url="${t}" data-ignore-open-in="true"></div></div></div>`,r.route.sheet=n),'popover'===a.openIn&&(n.targetEl=a.clickedEl||a.targetEl,n.content=`<div class="popover popover-router-open-in" data-url="${t}"><div class="popover-inner"><div class="view view-init" data-links-view="${e.view.selector}" data-url="${t}" data-ignore-open-in="true"></div></div></div>`,r.route.popover=n),a.openIn.indexOf('panel')>=0){const o=a.openIn.split(':');const s=o[1]||'left';const i=o[2]||'cover';n.targetEl=a.clickedEl||a.targetEl,n.content=`<div class="panel panel-router-open-in panel-${s} panel-${i}" data-url="${t}"><div class="view view-init" data-links-view="${e.view.selector}" data-url="${t}" data-ignore-open-in="true"></div></div>`,r.route.panel=n}return e.navigate(r)},componentLoader(e,t,a,r,n){void 0===a&&(a={});const o=this;const{app:s}=o;const i='string'==typeof e?e:t;const l=o.replaceRequestUrlParams(i,a);function compile(e){let t=a.context||{};if('function'==typeof t)t=t.call(o);else if('string'==typeof t)try{t=JSON.parse(t)}catch(e){throw n(e),e}const i=merge({},t,{f7route:a.route,f7router:o});const l=merge(a.route&&a.route.params||{},a.props||{},a.routeProps||{});let c;let p;a.componentOptions&&a.componentOptions.el&&(c=a.componentOptions.el),a.componentOptions&&a.componentOptions.root&&(p=a.componentOptions.root),s.component.create(e,l,{context:i,el:c,root:p}).then((e=>{r(e.el)})).catch((e=>{throw n(e),new Error(e)}))}let c;l&&o.params.componentCache&&o.cache.components.forEach((e=>{e.url===l&&(c=e.component)})),l&&c?compile(c):l&&!c?(o.xhrAbortController&&(o.xhrAbortController.abort(),o.xhrAbortController=!1),o.xhrRequest(i,a).then((e=>{const t=s.component.parse(e);o.params.componentCache&&o.cache.components.push({url:l,component:t}),compile(t)})).catch((e=>{throw n(),e}))):compile(e)},modalComponentLoader(e){let{component:t,componentUrl:a,options:r,resolve:n,reject:o}=void 0===e?{}:e;const s=this;s.componentLoader(t,a,r,(e=>{n(e)}),o)},tabComponentLoader(e){let{component:t,componentUrl:a,options:r,resolve:n,reject:o}=void 0===e?{}:e;const s=this;s.componentLoader(t,a,r,(e=>{n(e)}),o)},pageComponentLoader(e){let{component:t,componentUrl:a,options:r,resolve:n,reject:o}=void 0===e?{}:e;const s=this;s.componentLoader(t,a,r,(function(e,t){void 0===t&&(t={}),n(e,t)}),o)}}};const L=[!1,null,'',void 0];const h$1=function(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n];return{type:e,props:t||{},children:flattenArray(r.filter((e=>L.indexOf(e)<0)))}};const H=n.bind(h$1);var D=H;function vnode(e,t,a,r,n){var o=void 0===t?void 0:t.key;return{sel:e,data:t,children:a,text:r,elm:n,key:o}}var j=Array.isArray;function primitive(e){return'string'==typeof e||'number'==typeof e}function addNS(e,t,a){if(e.ns='http://www.w3.org/2000/svg','foreignObject'!==a&&void 0!==t)for(var r=0;r<t.length;++r){var n=t[r].data;void 0!==n&&addNS(n,t[r].children,t[r].sel)}}function h(e,t,a){var r={},n,o,s;if(void 0!==a?(r=t,j(a)?n=a:primitive(a)?o=a:a&&a.sel&&(n=[a])):void 0!==t&&(j(t)?n=t:primitive(t)?o=t:t&&t.sel?n=[t]:r=t),j(n))for(s=0;s<n.length;++s)primitive(n[s])&&(n[s]=vnode(void 0,void 0,void 0,n[s],void 0));return's'!==e[0]||'v'!==e[1]||'g'!==e[2]||3!==e.length&&'.'!==e[3]&&'#'!==e[3]||addNS(r,n,e),vnode(e,r,n,o,void 0)}var I={};const z='area base br col command embed hr img input keygen link menuitem meta param source track wbr'.split(' ');const q='hidden checked disabled readonly selected autofocus autoplay required multiple value indeterminate routeProps innerHTML'.split(' ');const V='hidden checked disabled readonly selected autofocus autoplay required multiple readOnly indeterminate'.split(' ');const getTagName=e=>'function'==typeof e.type?e.type.name||'CustomComponent':e.type;const toCamelCase=e=>e.split('-').map(((e,t)=>0===t?e.toLowerCase():e[0].toUpperCase()+e.substr(1))).join('');const propsFromAttrs=function(){const e={};for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return a.forEach((function(t){void 0===t&&(t={}),Object.keys(t).forEach((a=>{e[toCamelCase(a)]=t[a]}))})),e};const createCustomComponent=e=>{let{f7:t,treeNode:a,vnode:r,data:n}=e;const o='function'==typeof a.type?a.type:I[a.type];t.component.create(o,propsFromAttrs(n.attrs||{},n.props||{}),{el:r.elm,children:a.children}).then((e=>{r.data&&r.data.on&&e&&e.$el&&Object.keys(r.data.on).forEach((t=>{e.$el.on(t,r.data.on[t])})),r.elm.__component__=e}))};const updateCustomComponent=e=>{const t=e&&e.elm&&e.elm.__component__;if(!t)return;const a=propsFromAttrs(e.data.attrs||{},e.data.props||{});t.children=e.data.treeNode.children,Object.assign(t.props,a),t.update()};const destroyCustomComponent=e=>{const t=e&&e.elm&&e.elm.__component__;if(t){const{el:a,$el:r}=t;e.data&&e.data.on&&r&&Object.keys(e.data.on).forEach((t=>{r.off(t,e.data.on[t])})),t.destroy&&t.destroy(),a&&a.parentNode&&a.parentNode.removeChild(a),delete e.elm.__component__}};const isCustomComponent=e=>'function'==typeof e||e&&e.indexOf('-')>0&&I[e];function getHooks(e,t,a,r,n){const o={};const s=[];const i=[];const l=[];const c=[];let p=!1;let d=getTagName(e);t&&t.attrs&&t.attrs.component&&(d=t.attrs.component,delete t.attrs.component,p=!0);const u=isCustomComponent(e.type);if(u&&(s.push((r=>{(r.sel===d||p)&&createCustomComponent({f7:a,treeNode:e,vnode:r,data:t})})),i.push((e=>{destroyCustomComponent(e)})),l.push(((e,t)=>{updateCustomComponent(t)}))),!u){if(!t||!t.attrs||!t.attrs.class)return o;const e=t.attrs.class;e.split(' ').forEach((e=>{r||s.push(...a.getVnodeHooks('insert',e)),i.push(...a.getVnodeHooks('destroy',e)),l.push(...a.getVnodeHooks('update',e)),c.push(...a.getVnodeHooks('postpatch',e))}))}return n&&!r&&c.push(((e,t)=>{const a=t||e;a&&a.data&&a.data.component&&a.data.component.hook('onUpdated')})),0===s.length&&0===i.length&&0===l.length&&0===c.length||(s.length&&(o.insert=e=>{s.forEach((t=>t(e)))}),i.length&&(o.destroy=e=>{i.forEach((t=>t(e)))}),l.length&&(o.update=(e,t)=>{l.forEach((a=>a(e,t)))}),c.length&&(o.postpatch=(e,t)=>{c.forEach((a=>a(e,t)))})),o}const getEventHandler=function(e,t){let{stop:a,prevent:r,once:n}=void 0===t?{}:t;let o=!1;function handler(){const t=arguments.length<=0?void 0:arguments[0];n&&o||(a&&t.stopPropagation(),r&&t.preventDefault(),o=!0,e(...arguments))}return handler};const getData=(e,t,a,r,n)=>{const o={component:t,treeNode:e};const s=getTagName(e);Object.keys(e.props).forEach((t=>{const a=e.props[t];if(void 0!==a)if(q.indexOf(t)>=0)o.props||(o.props={}),'readonly'===t&&(t='readOnly'),'routeProps'===t&&(t='f7RouteProps'),'option'===s&&'value'===t&&(o.attrs||(o.attrs={}),o.attrs.value=a),V.indexOf(t)>=0?o.props[t]=!1!==a:o.props[t]=a;else if('key'===t)o.key=a;else if(0===t.indexOf('@')||0===t.indexOf('on')&&t.length>2){o.on||(o.on={});let e=0===t.indexOf('@')?t.substr(1):eventNameToColonCase(t.substr(2));let r=!1;let n=!1;let s=!1;e.indexOf('.')>=0&&e.split('.').forEach(((t,a)=>{0===a?e=t:('stop'===t&&(r=!0),'prevent'===t&&(n=!0),'once'===t&&(s=!0))})),o.on[e]=getEventHandler(a,{stop:r,prevent:n,once:s})}else'style'===t?'string'!=typeof a?o.style=a:(o.attrs||(o.attrs={}),o.attrs.style=a):(o.attrs||(o.attrs={}),o.attrs[t]=a,'id'!==t||o.key||n||(o.key=a))}));const i=getHooks(e,o,a,r,n);return i.prepatch=(e,t)=>{e&&t&&e&&e.data&&e.data.props&&Object.keys(e.data.props).forEach((a=>{V.indexOf(a)<0||(t.data||(t.data={}),t.data.props||(t.data.props={}),!0!==e.data.props[a]||a in t.data.props||(t.data.props[a]=!1))}))},o.hook=i,o};const getChildren=(e,t,a,r)=>{if(e&&e.type&&z.indexOf(e.type)>=0)return[];const n=[];const o=e.children;for(let e=0;e<o.length;e+=1){const s=o[e];const i=treeNodeToVNode(s,t,a,r,!1);Array.isArray(i)?n.push(...i):i&&n.push(i)}return n};const getSlots=(e,t,a,r)=>{const n=e.props.name||'default';const o=(t.children||[]).filter((e=>{let t='default';return e.props&&(t=e.props.slot||'default'),t===n}));return 0===o.length?getChildren(e,t,a,r):o.map((e=>treeNodeToVNode(e,t,a,r)))};const isTreeNode=e=>isObject(e)&&'props'in e&&'type'in e&&'children'in e;const treeNodeToVNode=(e,t,a,r,n)=>{if(!isTreeNode(e))return String(e);if('slot'===e.type)return getSlots(e,t,a,r);const o=getData(e,t,a,r,n);const s=isCustomComponent(e.type)?[]:getChildren(e,t,a,r);return h(getTagName(e),o,s)};function vdom(e,t,a){return void 0===e&&(e={}),treeNodeToVNode(e,t,t.f7,a,!0)}function createElement(e){return document.createElement(e)}function createElementNS(e,t){return document.createElementNS(e,t)}function createTextNode(e){return document.createTextNode(e)}function createComment(e){return document.createComment(e)}function insertBefore(e,t,a){a&&a.parentNode!==e&&a.__component__&&(a=a.__component__.el),e.insertBefore(t,a)}function removeChild(e,t){e&&e.removeChild(t)}function appendChild(e,t){e.appendChild(t)}function parentNode(e){return e.parentNode}function nextSibling(e){return e.nextSibling}function tagName(e){return e.tagName}function setTextContent(e,t){e.textContent=t}function getTextContent(e){return e.textContent}function isElement(e){return 1===e.nodeType}function isText(e){return 3===e.nodeType}function isComment(e){return 8===e.nodeType}var _={createElement:createElement,createElementNS:createElementNS,createTextNode:createTextNode,createComment:createComment,insertBefore:insertBefore,removeChild:removeChild,appendChild:appendChild,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent,getTextContent:getTextContent,isElement:isElement,isText:isText,isComment:isComment};var U=_;function isUndef(e){return void 0===e}function isDef(e){return void 0!==e}var F=vnode('',{},[],void 0,void 0);function sameVnode(e,t){return e.key===t.key&&e.sel===t.sel}function isVnode(e){return void 0!==e.sel}function createKeyToOldIdx(e,t,a){var r,n={},o,s;for(r=t;r<=a;++r)s=e[r],null!=s&&(o=s.key,void 0!==o&&(n[o]=r));return n}var W=['create','update','remove','destroy','pre','post'];function init(e,t){var a,r,n={};var o=void 0!==t?t:U;for(a=0;a<W.length;++a)for(n[W[a]]=[],r=0;r<e.length;++r){var s=e[r][W[a]];void 0!==s&&n[W[a]].push(s)}function emptyNodeAt(e){var t=e.id?'#'+e.id:'';var a=e.className?'.'+e.className.split(' ').join('.'):'';return vnode(o.tagName(e).toLowerCase()+t+a,{},[],void 0,e)}function createRmCb(e,t){return function rmCb(){if(0==--t){var a=o.parentNode(e);o.removeChild(a,e)}}}function createElm(e,t){var a,r=e.data;void 0!==r&&isDef(a=r.hook)&&isDef(a=a.init)&&(a(e),r=e.data);var s=e.children,i=e.sel;if('!'===i)isUndef(e.text)&&(e.text=''),e.elm=o.createComment(e.text);else if(void 0!==i){var l=i.indexOf('#');var c=i.indexOf('.',l);var p=l>0?l:i.length;var d=c>0?c:i.length;var u=-1!==l||-1!==c?i.slice(0,Math.min(p,d)):i;var m=e.elm=isDef(r)&&isDef(a=r.ns)?o.createElementNS(a,u):o.createElement(u);for(p<d&&m.setAttribute('id',i.slice(p+1,d)),c>0&&m.setAttribute('class',i.slice(d+1).replace(/\./g,' ')),a=0;a<n.create.length;++a)n.create[a](F,e);if(j(s))for(a=0;a<s.length;++a){var v=s[a];null!=v&&o.appendChild(m,createElm(v,t))}else primitive(e.text)&&o.appendChild(m,o.createTextNode(e.text));a=e.data.hook,isDef(a)&&(a.create&&a.create(F,e),a.insert&&t.push(e))}else e.elm=o.createTextNode(e.text);return e.elm}function addVnodes(e,t,a,r,n,s){for(;r<=n;++r){var i=a[r];null!=i&&o.insertBefore(e,createElm(i,s),t)}}function invokeDestroyHook(e){var t,a,r=e.data;if(void 0!==r){for(isDef(t=r.hook)&&isDef(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(void 0!==e.children)for(a=0;a<e.children.length;++a)t=e.children[a],null!=t&&"string"!=typeof t&&invokeDestroyHook(t)}}function removeVnodes(e,t,a,r){for(;a<=r;++a){var s=void 0,i=void 0,l=void 0,c=t[a];if(null!=c)if(isDef(c.sel)){for(invokeDestroyHook(c),i=n.remove.length+1,l=createRmCb(c.elm,i),s=0;s<n.remove.length;++s)n.remove[s](c,l);isDef(s=c.data)&&isDef(s=s.hook)&&isDef(s=s.remove)?s(c,l):l()}else o.removeChild(e,c.elm)}}function updateChildren(e,t,a,r){var n=0,s=0;var i=t.length-1;var l=t[0];var c=t[i];var p=a.length-1;var d=a[0];var u=a[p];var m;var v;var f;var g;for(;n<=i&&s<=p;)null==l?l=t[++n]:null==c?c=t[--i]:null==d?d=a[++s]:null==u?u=a[--p]:sameVnode(l,d)?(patchVnode(l,d,r),l=t[++n],d=a[++s]):sameVnode(c,u)?(patchVnode(c,u,r),c=t[--i],u=a[--p]):sameVnode(l,u)?(patchVnode(l,u,r),o.insertBefore(e,l.elm,o.nextSibling(c.elm)),l=t[++n],u=a[--p]):sameVnode(c,d)?(patchVnode(c,d,r),o.insertBefore(e,c.elm,l.elm),c=t[--i],d=a[++s]):(void 0===m&&(m=createKeyToOldIdx(t,n,i)),v=m[d.key],isUndef(v)?(o.insertBefore(e,createElm(d,r),l.elm),d=a[++s]):(f=t[v],f.sel!==d.sel?o.insertBefore(e,createElm(d,r),l.elm):(patchVnode(f,d,r),t[v]=void 0,o.insertBefore(e,f.elm,l.elm)),d=a[++s]));(n<=i||s<=p)&&(n>i?(g=null==a[p+1]?null:a[p+1].elm,addVnodes(e,g,a,s,p,r)):removeVnodes(e,t,n,i))}function patchVnode(e,t,a){var r,s;isDef(r=t.data)&&isDef(s=r.hook)&&isDef(r=s.prepatch)&&r(e,t);var i=t.elm=e.elm;var l=e.children;var c=t.children;if(e!==t){if(void 0!==t.data){for(r=0;r<n.update.length;++r)n.update[r](e,t);r=t.data.hook,isDef(r)&&isDef(r=r.update)&&r(e,t)}isUndef(t.text)?isDef(l)&&isDef(c)?l!==c&&updateChildren(i,l,c,a):isDef(c)?(isDef(e.text)&&o.setTextContent(i,''),addVnodes(i,null,c,0,c.length-1,a)):isDef(l)?removeVnodes(i,l,0,l.length-1):isDef(e.text)&&o.setTextContent(i,''):e.text!==t.text&&o.setTextContent(i,t.text),isDef(s)&&isDef(r=s.postpatch)&&r(e,t)}}return function patch(e,t){var a,r,s;var i=[];for(a=0;a<n.pre.length;++a)n.pre[a]();for(isVnode(e)||(e=emptyNodeAt(e)),sameVnode(e,t)?patchVnode(e,t,i):(r=e.elm,s=o.parentNode(r),createElm(t,i),null!==s&&(o.insertBefore(s,t.elm,o.nextSibling(r)),removeVnodes(s,[e],0,0))),a=0;a<i.length;++a)i[a].data.hook.insert(i[a]);for(a=0;a<n.post.length;++a)n.post[a]();return t}}var X='http://www.w3.org/1999/xlink';var Y='http://www.w3.org/XML/1998/namespace';var Q=58;var K=120;function updateAttrs(e,t){var a,r=t.elm,n=e.data.attrs,o=t.data.attrs;if((n||o)&&n!==o){for(a in n=n||{},o=o||{},o){var s=o[a];var i=n[a];i!==s&&(!0===s?r.setAttribute(a,""):!1===s?r.removeAttribute(a):120!==a.charCodeAt(0)?r.setAttribute(a,s):58===a.charCodeAt(3)?r.setAttributeNS(Y,a,s):58===a.charCodeAt(5)?r.setAttributeNS(X,a,s):r.setAttribute(a,s))}for(a in n)a in o||r.removeAttribute(a)}}var G={create:updateAttrs,update:updateAttrs};var J=G;function updateProps(e,t){var a,r,n,o=t.elm,s=e.data.props,i=t.data.props;if((s||i)&&s!==i){for(a in s=s||{},i=i||{},s)i[a]||delete o[a];for(a in i)r=i[a],n=s[a],n===r||'value'===a&&o[a]===r||(o[a]=r)}}var Z={create:updateProps,update:updateProps};var ee=Z;var te='undefined'!=typeof window&&window.requestAnimationFrame||setTimeout;var nextFrame=function(e){te((function(){te(e)}))};function setNextFrame(e,t,a){nextFrame((function(){e[t]=a}))}function updateStyle(e,t){var a,r,n=t.elm,o=e.data.style,s=t.data.style;if((o||s)&&o!==s){o=o||{},s=s||{};var i='delayed'in o;for(r in o)s[r]||('-'===r[0]&&'-'===r[1]?n.style.removeProperty(r):n.style[r]='');for(r in s)if(a=s[r],'delayed'===r&&s.delayed)for(var l in s.delayed)a=s.delayed[l],i&&a===o.delayed[l]||setNextFrame(n.style,l,a);else'remove'!==r&&a!==o[r]&&('-'===r[0]&&'-'===r[1]?n.style.setProperty(r,a):n.style[r]=a)}}function applyDestroyStyle(e){var t,a,r=e.elm,n=e.data.style;if(n&&(t=n.destroy))for(a in t)r.style[a]=t[a]}function applyRemoveStyle(e,t){var a=e.data.style;if(a&&a.remove){var r,n=e.elm,o=0,s,i=a.remove,l=0,c=[];for(r in i)c.push(r),n.style[r]=i[r];s=getComputedStyle(n);var p=s['transition-property'].split(', ');for(;o<p.length;++o)-1!==c.indexOf(p[o])&&l++;n.addEventListener('transitionend',(function(e){e.target===n&&--l,0===l&&t()}))}else t()}var ae={create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle};var re=ae;function invokeHandler(e,t,a){'function'==typeof e&&e(t,...a)}function handleEvent(e,t,a){const r=e.type;const n=a.data.on;n&&n[r]&&invokeHandler(n[r],e,t)}function createListener(){return function handler(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];handleEvent(e,a,handler.vnode)}}function updateEvents(e,t){const a=e.data.on;const r=e.listener;const n=e.elm;const s=t&&t.data.on;const i=t&&t.elm;if(a!==s&&(a&&r&&(s?Object.keys(a).forEach((e=>{s[e]||o(n).off(e,r)})):Object.keys(a).forEach((e=>{o(n).off(e,r)}))),s)){const r=e.listener||createListener();t.listener=r,r.vnode=t,a?Object.keys(s).forEach((e=>{a[e]||o(i).on(e,r)})):Object.keys(s).forEach((e=>{o(i).on(e,r)}))}}var ne={create:updateEvents,update:updateEvents,destroy:updateEvents};const oe=init([J,ee,re,ne]);var se=oe;const ie=[!1,null,'',void 0];const $jsx=function(e,t){for(var a=arguments.length,r=new Array(a>2?a-2:0),n=2;n<a;n++)r[n-2]=arguments[n];const o=flattenArray((r||[]).filter((e=>ie.indexOf(e)<0)));return'Fragment'===e?o:{type:e,props:t||{},children:o}};var le=$jsx;class Component{constructor(e,t,a,n){void 0===a&&(a={});let{el:s,context:i,children:l}=void 0===n?{}:n;const c=r();merge(this,{f7:e,props:a||{},context:i||{},id:t.id||id(),children:l||[],theme:{ios:'ios'===e.theme,md:'md'===e.theme,aurora:'aurora'===e.theme},style:t.style,__updateQueue:[],__eventHandlers:[],__onceEventHandlers:[],__onBeforeMount:[],__onMounted:[],__onBeforeUpdate:[],__onUpdated:[],__onBeforeUnmount:[],__onUnmounted:[]});const createComponent=()=>t(this.props,this.getComponentContext(!0));const getRenderFuncion=e=>new Promise(((t,a)=>{'function'==typeof e?t(e):e instanceof Promise?e.then((e=>{t(e)})).catch((e=>{a(e)})):a(new Error('Framework7: Component render function is not a "function" type. Didn\'t you forget to "return $render"?'))}));return new Promise(((e,t)=>{const a=createComponent();getRenderFuncion(a).then((t=>{this.renderFunction=t;const a=this.render();if(s)return this.vnode=vdom(a,this,!0),this.style&&(this.styleEl=c.createElement('style'),this.styleEl.innerHTML=this.style),this.el=s,se(this.el,this.vnode),this.el=this.vnode.elm,this.$el=o(this.el),this.attachEvents(),this.el.f7Component=this,this.mount(),void e(this);a&&(this.vnode=vdom(a,this,!0),this.el=c.createElement(this.vnode.sel||'div'),se(this.el,this.vnode),this.$el=o(this.el)),this.style&&(this.styleEl=c.createElement('style'),this.styleEl.innerHTML=this.style),this.attachEvents(),this.el&&(this.el.f7Component=this),e(this)})).catch((e=>{t(e)}))}))}on(e,t){this.__eventHandlers&&this.__eventHandlers.push({eventName:e,handler:t})}once(e,t){this.__eventHandlers&&this.__onceEventHandlers.push({eventName:e,handler:t})}getComponentRef(){const e=this;return t=>{let a=t;const r={};return Object.defineProperty(r,'value',{get:()=>a,set(t){a=t,e.update()}}),r}}getComponentStore(){const{state:e,_gettersPlain:t,dispatch:a}=this.f7.store;const r={state:e,dispatch:a};return r.getters=new Proxy(t,{get:(e,t)=>{const a=e[t];const callback=e=>{a.value=e,this.update()};return a.onUpdated(callback),a}}),r}getComponentContext(e){const t={$f7route:this.context.f7route,$f7router:this.context.f7router,$h:D,$:o,$id:this.id,$f7:this.f7,$f7ready:this.f7ready.bind(this),$theme:this.theme,$tick:this.tick.bind(this),$update:this.update.bind(this),$emit:this.emit.bind(this),$store:this.getComponentStore(),$ref:this.getComponentRef(),$el:{}};return Object.defineProperty(t.$el,'value',{get:()=>this.$el}),e&&Object.assign(t,{$on:this.on.bind(this),$once:this.once.bind(this),$onBeforeMount:e=>this.__onBeforeMount.push(e),$onMounted:e=>this.__onMounted.push(e),$onBeforeUpdate:e=>this.__onBeforeUpdate.push(e),$onUpdated:e=>this.__onUpdated.push(e),$onBeforeUnmount:e=>this.__onBeforeUnmount.push(e),$onUnmounted:e=>this.__onUnmounted.push(e)}),t}render(){return this.renderFunction(this.getComponentContext())}emit(e,t){this.el&&this.$el.trigger(e,t)}attachEvents(){const{$el:e}=this;this.__eventHandlers&&(this.__eventHandlers.forEach((t=>{let{eventName:a,handler:r}=t;e.on(eventNameToColonCase(a),r)})),this.__onceEventHandlers.forEach((t=>{let{eventName:a,handler:r}=t;e.once(eventNameToColonCase(a),r)})))}detachEvents(){const{$el:e}=this;this.__eventHandlers&&(this.__eventHandlers.forEach((t=>{let{eventName:a,handler:r}=t;e.on(eventNameToColonCase(a),r)})),this.__onceEventHandlers.forEach((t=>{let{eventName:a,handler:r}=t;e.once(eventNameToColonCase(a),r)})))}startUpdateQueue(){const e=a();if(this.__requestAnimationFrameId)return;const update=()=>{this.hook('onBeforeUpdate');const e=this.render();if(e){const t=vdom(e,this,!1);this.vnode=se(this.vnode,t)}};this.__requestAnimationFrameId=e.requestAnimationFrame((()=>{this.__updateIsPending&&update();let t=[...this.__updateQueue];this.__updateQueue=[],this.__updateIsPending=!1,e.cancelAnimationFrame(this.__requestAnimationFrameId),delete this.__requestAnimationFrameId,delete this.__updateIsPending,t.forEach((e=>e())),t=[]}))}tick(e){return new Promise((t=>{function resolver(){t(),e&&e()}this.__updateQueue.push(resolver),this.startUpdateQueue()}))}update(e){return this.__destroyed?new Promise((()=>{})):new Promise((t=>{const resolver=()=>{t(),e&&e()};this.__updateIsPending=!0,this.__updateQueue.push(resolver),this.startUpdateQueue()}))}setState(e){return this.update(e)}f7ready(e){this.f7.initialized?e(this.f7):this.f7.once('init',(()=>{e(this.f7)}))}mount(e){this.hook('onBeforeMount',this.$el),this.styleEl&&o('head').append(this.styleEl),e&&e(this.el),this.hook('onMounted',this.$el)}destroy(){if(this.__destroyed)return;const e=a();this.hook('onBeforeUnmount'),this.styleEl&&o(this.styleEl).remove(),this.detachEvents(),this.hook('onUnmounted'),this.el&&this.el.f7Component&&(this.el.f7Component=null,delete this.el.f7Component),this.vnode&&(this.vnode=se(this.vnode,{sel:this.vnode.sel,data:{}})),e.cancelAnimationFrame(this.__requestAnimationFrameId),this.__updateQueue=[],this.__eventHandlers=[],this.__onceEventHandlers=[],this.__onBeforeMount=[],this.__onMounted=[],this.__onBeforeUpdate=[],this.__onUpdated=[],this.__onBeforeUnmount=[],this.__onUnmounted=[],deleteProps(this),this.__destroyed=!0}hook(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];this.__destroyed||this[`__${e}`].forEach((e=>{e(...a)}))}}Component.$jsx=le;var ce=Component;function parseComponent(e){const t=a();const n=r();const s=id();const i=`f7_component_create_callback_${s}`;let l;const c=e.match(/<template([ ]?)([a-z0-9-]*)>/);c&&(l=e.split(/<template[ ]?[a-z0-9-]*>/).filter(((e,t)=>t>0)).join('<template>').split('</template>').filter(((e,t,a)=>t<a.length-1)).join('</template>').replace(/{{#raw}}([ \n]*)<template/g,'{{#raw}}<template').replace(/\/template>([ \n]*){{\/raw}}/g,'/template>{{/raw}}').replace(/([ \n])<template/g,'$1{{#raw}}<template').replace(/\/template>([ \n])/g,'/template>{{/raw}}$1'));let p=null;let d;if(e.indexOf('<style>')>=0&&(p=e.split('<style>')[1].split('</style>')[0]),e.indexOf('<style scoped>')>=0&&(p=e.split('<style scoped>')[1].split('</style>')[0]),e.indexOf('<script>')>=0){const t=e.split('<script>');d=t[t.length-1].split('<\/script>')[0].trim()}else d='return () => {return $render}';d&&d.trim()||(d='return () => {return $render}'),l&&(d=d.replace('$render',`function ($$ctx) {\n          var $ = $$ctx.$$;\n          var $h = $$ctx.$h;\n          var $root = $$ctx.$root;\n          var $f7 = $$ctx.$f7;\n          var $f7route = $$ctx.$f7route;\n          var $f7router = $$ctx.$f7router;\n          var $theme = $$ctx.$theme;\n          var $update = $$ctx.$update;\n          var $store = $$ctx.$store;\n          var $ref = $$ctx.$ref;\n\n          return $h\`${l}\`\n        }\n        `).replace(/export default/g,'return')),d=`window.${i} = function () {${d}}`;const u=n.createElement('script');u.innerHTML=d,o('head').append(u);const m=t[i]();return o(u).remove(),t[i]=null,delete t[i],p&&(m.style=p),m.id=s,m}function registerComponent(e,t){I[e]=t}function unregisterComponent(e){delete I[e]}var pe={name:'component',static:{Component:ce,parseComponent:parseComponent,registerComponent:registerComponent,unregisterComponent:unregisterComponent},create(){const e=this;e.component={registerComponent:registerComponent,unregisterComponent:unregisterComponent,parse:e=>parseComponent(e),create(t,a,r){let{root:n,el:o,context:s,children:i}=r;return new ce(e,t,a,{root:n,el:o,context:s,children:i})}}}};var de={name:'history',static:{history:P},on:{init(){P.init(this)}}};const ue={registrations:[],register(e,t){const r=this;const n=a();return'serviceWorker'in n.navigator&&r.serviceWorker.container?new Promise(((a,n)=>{r.serviceWorker.container.register(e,t?{scope:t}:{}).then((e=>{ue.registrations.push(e),r.emit('serviceWorkerRegisterSuccess',e),a(e)})).catch((e=>{r.emit('serviceWorkerRegisterError',e),n(e)}))})):new Promise(((e,t)=>{t(new Error('Service worker is not supported'))}))},unregister(e){const t=this;const r=a();if(!('serviceWorker'in r.navigator)||!t.serviceWorker.container)return new Promise(((e,t)=>{t(new Error('Service worker is not supported'))}));let n;return n=e?Array.isArray(e)?e:[e]:ue.registrations,Promise.all(n.map((e=>new Promise(((a,r)=>{e.unregister().then((()=>{ue.registrations.indexOf(e)>=0&&ue.registrations.splice(ue.registrations.indexOf(e),1),t.emit('serviceWorkerUnregisterSuccess',e),a()})).catch((a=>{t.emit('serviceWorkerUnregisterError',e,a),r(a)}))})))))}};var he={name:'sw',params:{serviceWorker:{path:void 0,scope:void 0}},create(){const e=this;const t=a();extend(e,{serviceWorker:{container:'serviceWorker'in t.navigator?t.navigator.serviceWorker:void 0,registrations:ue.registrations,register:ue.register.bind(e),unregister:ue.unregister.bind(e)}})},on:{init(){const e=a();if(!('serviceWorker'in e.navigator))return;const t=this;if(t.device.cordova||e.Capacitor&&e.Capacitor.isNative)return;if(!t.serviceWorker.container)return;const r=t.params.serviceWorker.path;const n=t.params.serviceWorker.scope;if(!r||Array.isArray(r)&&!r.length)return;const o=Array.isArray(r)?r:[r];o.forEach((e=>{t.serviceWorker.register(e,n)}))}}};function createStore(e){void 0===e&&(e={});const t={__store:!0};const a={...e.state||{}};const r={...e.actions||{}};const n={...e.getters||{}};const o=extend({},a);let s=[];const i={};const l={};Object.keys(n).forEach((e=>{i[e]=[],l[e]=[]}));const getGetterValue=e=>n[e]({state:t.state});const addGetterDependencies=(e,t)=>{i[e]||(i[e]=[]),t.forEach((t=>{i[e].indexOf(t)<0&&i[e].push(t)}))};const addGetterCallback=(e,t)=>{l[e]||(l[e]=[]),l[e].push(t)};const runGetterCallbacks=e=>{const t=Object.keys(i).filter((t=>i[t].indexOf(e)>=0));t.forEach((e=>{l[e]&&l[e].length&&l[e].forEach((t=>{t(getGetterValue(e))}))}))};const removeGetterCallback=e=>{Object.keys(l).forEach((t=>{const a=l[t];a.indexOf(e)>=0&&a.splice(a.indexOf(e),1)}))};t.__removeCallback=e=>{removeGetterCallback(e)};const getterValue=function(e,t){if(void 0===t&&(t=!0),'constructor'===e)return;s=[];const a=getGetterValue(e);addGetterDependencies(e,s);const onUpdated=t=>{addGetterCallback(e,t)};const r={value:a,onUpdated:onUpdated};if(!t)return r;const callback=e=>{r.value=e};return r.__callback=callback,addGetterCallback(e,callback),r};return t.state=new Proxy(o,{set:(e,t,a)=>(e[t]=a,runGetterCallbacks(t),!0),get:(e,t)=>(s.push(t),e[t])}),t.getters=new Proxy(n,{set:()=>!1,get:(e,t)=>{if(e[t])return getterValue(t,!0)}}),t._gettersPlain=new Proxy(n,{set:()=>!1,get:(e,t)=>{if(e[t])return getterValue(t,!1)}}),t.dispatch=(e,a)=>new Promise(((n,o)=>{if(!r[e])throw o(),new Error(`Framework7: Store action "${e}" is not found`);const s=r[e]({state:t.state,dispatch:t.dispatch},a);n(s)})),t}var me={name:'store',static:{createStore:createStore},proto:{createStore:createStore}};const isCapacitor=()=>{const e=a();return e.Capacitor&&e.Capacitor.isNative&&e.Capacitor.Plugins&&e.Capacitor.Plugins.StatusBar};const ve={hide(){const e=a();const t=getDevice();t.cordova&&e.StatusBar&&e.StatusBar.hide(),isCapacitor()&&e.Capacitor.Plugins.StatusBar.hide()},show(){const e=a();const t=getDevice();t.cordova&&e.StatusBar&&e.StatusBar.show(),isCapacitor()&&e.Capacitor.Plugins.StatusBar.show()},onClick(){const e=this;let t;t=o('.popup.modal-in').length>0?o('.popup.modal-in').find('.page:not(.page-previous):not(.page-next):not(.cached)').find('.page-content'):o('.panel.panel-in').length>0?o('.panel.panel-in').find('.page:not(.page-previous):not(.page-next):not(.cached)').find('.page-content'):o('.views > .view.tab-active').length>0?o('.views > .view.tab-active').find('.page:not(.page-previous):not(.page-next):not(.cached)').find('.page-content'):o('.views').length>0?o('.views').find('.page:not(.page-previous):not(.page-next):not(.cached)').find('.page-content'):e.$el.children('.view').find('.page:not(.page-previous):not(.page-next):not(.cached)').find('.page-content'),t&&t.length>0&&(t.hasClass('tab')&&(t=t.parent('.tabs').children('.page-content.tab-active')),t.length>0&&t.scrollTop(0,300))},setTextColor(e){const t=a();const r=getDevice();r.cordova&&t.StatusBar&&('white'===e?t.StatusBar.styleLightContent():t.StatusBar.styleDefault()),isCapacitor()&&('white'===e?t.Capacitor.Plugins.StatusBar.setStyle({style:'DARK'}):t.Capacitor.Plugins.StatusBar.setStyle({style:'LIGHT'}))},setBackgroundColor(e){const t=a();const r=getDevice();r.cordova&&t.StatusBar&&t.StatusBar.backgroundColorByHexString(e),isCapacitor()&&t.Capacitor.Plugins.StatusBar.setBackgroundColor({color:e})},isVisible(){const e=a();const t=getDevice();return new Promise((a=>{t.cordova&&e.StatusBar&&a(e.StatusBar.isVisible),isCapacitor()&&e.Capacitor.Plugins.StatusBar.getInfo().then((e=>{a(e.visible)})),a(!1)}))},overlaysWebView(e){void 0===e&&(e=!0);const t=a();const r=getDevice();r.cordova&&t.StatusBar&&t.StatusBar.overlaysWebView(e),isCapacitor()&&t.Capacitor.Plugins.StatusBar.setOverlaysWebView({overlay:e})},init(){const e=this;const t=a();const r=getDevice();const n=e.params.statusbar;if(!n.enabled)return;const s=r.cordova&&t.StatusBar;const i=isCapacitor();(s||i)&&(n.scrollTopOnClick&&o(t).on('statusTap',ve.onClick.bind(e)),r.ios&&(n.iosOverlaysWebView?ve.overlaysWebView(!0):ve.overlaysWebView(!1),'white'===n.iosTextColor?ve.setTextColor('white'):ve.setTextColor('black')),r.android&&(n.androidOverlaysWebView?ve.overlaysWebView(!0):ve.overlaysWebView(!1),'white'===n.androidTextColor?ve.setTextColor('white'):ve.setTextColor('black'))),n.iosBackgroundColor&&r.ios&&ve.setBackgroundColor(n.iosBackgroundColor),n.androidBackgroundColor&&r.android&&ve.setBackgroundColor(n.androidBackgroundColor)}};var fe={name:'statusbar',params:{statusbar:{enabled:!0,scrollTopOnClick:!0,iosOverlaysWebView:!0,iosTextColor:'black',iosBackgroundColor:null,androidOverlaysWebView:!1,androidTextColor:'black',androidBackgroundColor:null}},create(){const e=this;bindMethods(e,{statusbar:ve})},on:{init(){const e=this;ve.init.call(e)}}};function getCurrentView(e){const t=o('.popover.modal-in .view');const a=o('.popup.modal-in .view');const r=o('.panel.panel-in .view');let n=o('.views');0===n.length&&(n=e.$el);let s=n.children('.view');if(0===s.length&&(s=n.children('.tabs').children('.view')),s.length>1&&s.hasClass('tab')&&(s=n.children('.view.tab-active'),0===s.length&&(s=n.children('.tabs').children('.view.tab-active'))),t.length>0&&t[0].f7View)return t[0].f7View;if(a.length>0&&a[0].f7View)return a[0].f7View;if(r.length>0&&r[0].f7View)return r[0].f7View;if(s.length>0){if(1===s.length&&s[0].f7View)return s[0].f7View;if(s.length>1)return e.views.main}}var ge={name:'view',params:{view:{init:!0,initRouterOnTabShow:!1,name:void 0,main:!1,router:!0,linksView:null,stackPages:!1,xhrCache:!0,xhrCacheIgnore:[],xhrCacheIgnoreGetParameters:!1,xhrCacheDuration:6e5,componentCache:!0,preloadPreviousPage:!0,allowDuplicateUrls:!1,reloadPages:!1,reloadDetail:!1,masterDetailBreakpoint:0,masterDetailResizable:!1,removeElements:!0,removeElementsWithTimeout:!1,removeElementsTimeout:0,restoreScrollTopOnBack:!0,unloadTabContent:!0,passRouteQueryToRequest:!0,passRouteParamsToRequest:!1,loadInitialPage:!0,iosSwipeBack:!0,iosSwipeBackAnimateShadow:!0,iosSwipeBackAnimateOpacity:!0,iosSwipeBackActiveArea:30,iosSwipeBackThreshold:0,mdSwipeBack:!1,mdSwipeBackAnimateShadow:!0,mdSwipeBackAnimateOpacity:!1,mdSwipeBackActiveArea:30,mdSwipeBackThreshold:0,auroraSwipeBack:!1,auroraSwipeBackAnimateShadow:!1,auroraSwipeBackAnimateOpacity:!0,auroraSwipeBackActiveArea:30,auroraSwipeBackThreshold:0,browserHistory:!1,browserHistoryRoot:void 0,browserHistoryAnimate:!0,browserHistoryAnimateOnLoad:!1,browserHistorySeparator:'#!',browserHistoryOnLoad:!0,browserHistoryInitialMatch:!1,browserHistoryStoreHistory:!0,browserHistoryTabs:'replace',animate:!0,iosDynamicNavbar:!0,iosAnimateNavbarBackIcon:!0,iosPageLoadDelay:0,mdPageLoadDelay:0,auroraPageLoadDelay:0,routesBeforeEnter:null,routesBeforeLeave:null}},static:{View:A},create(){const e=this;extend(e,{views:extend([],{create:(t,a)=>new A(e,t,a),get(e){const t=o(e);if(t.length&&t[0].f7View)return t[0].f7View}})}),Object.defineProperty(e.views,'current',{enumerable:!0,configurable:!0,get:()=>getCurrentView(e)}),e.view=e.views},on:{init(){const e=this;o('.view-init').each((t=>{if(t.f7View)return;const a=o(t).dataset();e.views.create(t,a)}))},'modalOpen panelOpen':function onOpen(e){const t=this;e.$el.find('.view-init').each((e=>{if(e.f7View)return;const a=o(e).dataset();t.views.create(e,a)}))},'modalBeforeDestroy panelBeforeDestroy':function onClose(e){e&&e.$el&&e.$el.find('.view-init').each((e=>{const t=e.f7View;t&&t.destroy()}))}},vnode:{'view-init':{insert(e){const t=this;const a=e.elm;if(a.f7View)return;const r=o(a).dataset();t.views.create(a,r)},destroy(e){const t=e.elm;const a=t.f7View;a&&a.destroy()}}}};const be={size(e){const t=this;let a=o(e);if(a.hasClass('navbars'))return void(a=a.children('.navbar').each((e=>{t.navbar.size(e)})));const r=a.children('.navbar-inner');if(!r.length)return;const n=r.hasClass('navbar-inner-centered-title')||t.params.navbar[`${t.theme}CenterTitle`];const s='ios'===t.theme&&!t.params.navbar[`${t.theme}CenterTitle`];if(!n&&!s)return;if(a.hasClass('stacked')||a.parents('.stacked').length>0||a.parents('.tab:not(.tab-active)').length>0||a.parents('.popup:not(.modal-in)').length>0)return;'ios'!==t.theme&&t.params.navbar[`${t.theme}CenterTitle`]&&r.addClass('navbar-inner-centered-title'),'ios'!==t.theme||t.params.navbar.iosCenterTitle||r.addClass('navbar-inner-left-title');const i=a.parents('.view').eq(0);const l=t.rtl?r.children('.right'):r.children('.left');const c=t.rtl?r.children('.left'):r.children('.right');const p=r.children('.title');const d=r.children('.subnavbar');const u=0===l.length;const m=0===c.length;const v=u?0:l.outerWidth(!0);const f=m?0:c.outerWidth(!0);const g=p.outerWidth(!0);const b=r.styles();const y=r[0].offsetWidth;const C=y-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10);const w=a.hasClass('navbar-previous');const k=r.hasClass('sliding');let x;let $;let E;let T;i.length>0&&i[0].f7View&&(x=i[0].f7View.router,$=x&&x.dynamicNavbar),m&&(E=C-g),u&&(E=0),u||m||(E=(C-f-g+v)/2);let S=(C-g)/2;C-v-f>g?(S<v&&(S=v),S+g>C-f&&(S=C-f-g),T=S-E):T=0;const P=t.rtl?-1:1;if($&&'ios'===t.theme){if(p.hasClass('sliding')||p.length>0&&k){let e=-(E+T)*P;const t=(C-E-T-g)*P;if(w&&x&&x.params.iosAnimateNavbarBackIcon){const t=a.parent().find('.navbar-current').children('.left.sliding').find('.back .icon ~ span');t.length>0&&(e+=t[0].offsetLeft)}p[0].f7NavbarLeftOffset=e,p[0].f7NavbarRightOffset=t}if(!u&&(l.hasClass('sliding')||k))if(t.rtl)l[0].f7NavbarLeftOffset=-(C-l[0].offsetWidth)/2*P,l[0].f7NavbarRightOffset=v*P;else if(l[0].f7NavbarLeftOffset=-v,l[0].f7NavbarRightOffset=(C-l[0].offsetWidth)/2,x&&x.params.iosAnimateNavbarBackIcon&&l.find('.back .icon').length>0&&l.find('.back .icon ~ span').length){const e=l[0].f7NavbarLeftOffset;const t=l[0].f7NavbarRightOffset;l[0].f7NavbarLeftOffset=0,l[0].f7NavbarRightOffset=0,l.find('.back .icon ~ span')[0].f7NavbarLeftOffset=e,l.find('.back .icon ~ span')[0].f7NavbarRightOffset=t-l.find('.back .icon')[0].offsetWidth}m||!c.hasClass('sliding')&&!k||(t.rtl?(c[0].f7NavbarLeftOffset=-f*P,c[0].f7NavbarRightOffset=(C-c[0].offsetWidth)/2*P):(c[0].f7NavbarLeftOffset=-(C-c[0].offsetWidth)/2,c[0].f7NavbarRightOffset=f)),d.length&&(d.hasClass('sliding')||k)&&(d[0].f7NavbarLeftOffset=t.rtl?d[0].offsetWidth:-d[0].offsetWidth,d[0].f7NavbarRightOffset=-d[0].f7NavbarLeftOffset)}if(n){let e=T;t.rtl&&u&&m&&p.length>0&&(e=-e),p.css({left:`${e}px`})}},hide(e,t,a,r){void 0===t&&(t=!0),void 0===a&&(a=!1),void 0===r&&(r=!1);const n=this;let s=o(e);const i=s.hasClass('navbar')&&s.parent('.navbars').length&&!r;if(i&&(s=s.parents('.navbars')),!s.length)return;if(s.hasClass('navbar-hidden'))return;let l="navbar-hidden"+(t?' navbar-transitioning':'');const c=i?s.find('.navbar-current .title-large').length:s.find('.title-large').length;c&&(l+=' navbar-large-hidden'),a&&(l+=' navbar-hidden-statusbar'),s.transitionEnd((()=>{s.removeClass('navbar-transitioning')})),s.addClass(l),i?s.children('.navbar').each((e=>{o(e).trigger('navbar:hide'),n.emit('navbarHide',e)})):(s.trigger('navbar:hide'),n.emit('navbarHide',s[0]))},show(e,t,a){void 0===e&&(e='.navbar-hidden'),void 0===t&&(t=!0),void 0===a&&(a=!1);const r=this;let n=o(e);const s=n.hasClass('navbar')&&n.parent('.navbars').length&&!a;s&&(n=n.parents('.navbars')),n.length&&n.hasClass('navbar-hidden')&&(t&&(n.addClass('navbar-transitioning'),n.transitionEnd((()=>{n.removeClass('navbar-transitioning')}))),n.removeClass('navbar-hidden navbar-large-hidden navbar-hidden-statusbar'),s?n.children('.navbar').each((e=>{o(e).trigger('navbar:show'),r.emit('navbarShow',e)})):(n.trigger('navbar:show'),r.emit('navbarShow',n[0])))},getElByPage(e){let t;let a;let r;if(e.$navbarEl||e.$el?(r=e,t=e.$el):(t=o(e),t.length>0&&(r=t[0].f7Page)),r&&r.$navbarEl&&r.$navbarEl.length>0?a=r.$navbarEl:t&&(a=t.children('.navbar')),a&&(!a||0!==a.length))return a[0]},getPageByEl(e){const t=o(e);if(t.parents('.page').length)return t.parents('.page')[0];let a;return t.parents('.view').find('.page').each((e=>{e&&e.f7Page&&e.f7Page.navbarEl&&t[0]===e.f7Page.navbarEl&&(a=e)})),a},collapseLargeTitle(e){const t=this;let a=o(e);if(a.hasClass('navbars')&&(a=a.find('.navbar'),a.length>1&&(a=o(e).find('.navbar-large.navbar-current')),a.length>1||!a.length))return;const r=o(t.navbar.getPageByEl(a));a.addClass('navbar-large-collapsed'),r.eq(0).addClass('page-with-navbar-large-collapsed').trigger('page:navbarlargecollapsed'),t.emit('pageNavbarLargeCollapsed',r[0]),a.trigger('navbar:collapse'),t.emit('navbarCollapse',a[0])},expandLargeTitle(e){const t=this;let a=o(e);if(a.hasClass('navbars')&&(a=a.find('.navbar-large'),a.length>1&&(a=o(e).find('.navbar-large.navbar-current')),a.length>1||!a.length))return;const r=o(t.navbar.getPageByEl(a));a.removeClass('navbar-large-collapsed'),r.eq(0).removeClass('page-with-navbar-large-collapsed').trigger('page:navbarlargeexpanded'),t.emit('pageNavbarLargeExpanded',r[0]),a.trigger('navbar:expand'),t.emit('navbarExpand',a[0])},toggleLargeTitle(e){const t=this;let a=o(e);a.hasClass('navbars')&&(a=a.find('.navbar-large'),a.length>1&&(a=o(e).find('.navbar-large.navbar-current')),a.length>1||!a.length)||(a.hasClass('navbar-large-collapsed')?t.navbar.expandLargeTitle(a):t.navbar.collapseLargeTitle(a))},initNavbarOnScroll(e,t,a,r,n){const s=this;const i=getSupport();const l=o(e);const c=o(t);const p=c.find('.title-large');const d=p.length||c.hasClass('.navbar-large');let u=44;const m=s.params.navbar.snapPageScrollToLargeTitle;const v=s.params.navbar.snapPageScrollToTransparentNavbar;let f;let g;let b;let y;let C;let w;let k;let x;let $;let E;let T;let S;let P;let R;(r||a&&d)&&($=c.css('--f7-navbar-large-title-height'),$&&$.indexOf('px')>=0?($=parseInt($,10),Number.isNaN($)&&p.length?$=p[0].offsetHeight:Number.isNaN($)&&('ios'===s.theme?$=52:'md'===s.theme?$=48:'aurora'===s.theme&&($=38))):p.length?$=p[0].offsetHeight:'ios'===s.theme?$=52:'md'===s.theme?$=48:'aurora'===s.theme&&($=38)),a&&d&&(u+=$);const O=70;const M=300;function calcScrollableDistance(){l.find('.page-content').each((e=>{e.f7ScrollableDistance=e.scrollHeight-e.offsetHeight}))}function snapLargeNavbar(){const e=c.hasClass('with-searchbar-expandable-enabled');e||!S||g<0||(g>=$/2&&g<$?o(S).scrollTop($,100):g<$&&o(S).scrollTop(0,200))}function snapTransparentNavbar(){const e=c.hasClass('with-searchbar-expandable-enabled');e||!S||g<0||(g>=E/2&&g<E?o(S).scrollTop(E,100):g<E&&o(S).scrollTop(0,200))}function handleNavbarTransparent(){const e=c.hasClass('navbar-hidden')||c.parent('.navbars').hasClass('navbar-hidden');const a=c.hasClass('with-searchbar-expandable-enabled');if(a||e)return;E||(E=t.offsetHeight);let r=g/E;const n=c.hasClass('navbar-transparent-visible');if(r=Math.max(Math.min(r,1),0),n&&1===r||!n&&0===r)c.find('.navbar-bg, .title').css('opacity','');else{if(n&&0===r)return c.trigger('navbar:transparenthide'),s.emit('navbarTransparentHide',c[0]),c.removeClass('navbar-transparent-visible'),void c.find('.navbar-bg, .title').css('opacity','');if(!n&&1===r)return c.trigger('navbar:transparentshow'),s.emit('navbarTransparentShow',c[0]),c.addClass('navbar-transparent-visible'),void c.find('.navbar-bg, .title').css('opacity','');c.find('.navbar-bg, .title').css('opacity',r),v&&(i.touch?R&&(clearTimeout(R),R=null,R=setTimeout((()=>{snapTransparentNavbar(),clearTimeout(R),R=null}),O)):(clearTimeout(P),P=setTimeout((()=>{snapTransparentNavbar()}),M)))}}let A=null;let B=null;function handleLargeNavbarCollapse(e){const t=c.hasClass('navbar-hidden')||c.parent('.navbars').hasClass('navbar-hidden');if(t)return;const a=c.hasClass('navbar-large-transparent')||c.hasClass('navbar-large')&&c.hasClass('navbar-transparent');A=B;const r=Math.min($,e.f7ScrollableDistance||$);B=Math.min(Math.max(g/r,0),1);const n=A>0&&A<1;const o=c.hasClass('with-searchbar-expandable-enabled');o||(x=c.hasClass('navbar-large-collapsed'),0===B&&x?s.navbar.expandLargeTitle(c[0]):1!==B||x||s.navbar.collapseLargeTitle(c[0]),0===B&&x||0===B&&n||1===B&&!x||1===B&&n?('md'===s.theme&&c.find('.navbar-inner').css('overflow',''),c.find('.title').css('opacity',''),c.find('.title-large-text, .subnavbar').css('transform',''),a?c.find('.navbar-bg').css('opacity',''):c.find('.navbar-bg').css('transform','')):B>0&&B<1&&('md'===s.theme&&c.find('.navbar-inner').css('overflow','visible'),c.find('.title').css('opacity',B),c.find('.title-large-text, .subnavbar').css('transform',`translate3d(0px, ${-1*B*$}px, 0)`),a?c.find('.navbar-bg').css('opacity',B):c.find('.navbar-bg').css('transform',`translate3d(0px, ${-1*B*$}px, 0)`)),m&&(i.touch?R&&(clearTimeout(R),R=null,R=setTimeout((()=>{snapLargeNavbar(),clearTimeout(R),R=null}),O)):(clearTimeout(P),P=setTimeout((()=>{snapLargeNavbar()}),M))))}function handleTitleHideShow(){l.hasClass('page-with-card-opened')||(b=S.scrollHeight,y=S.offsetHeight,C=g+y>=b,k=c.hasClass('navbar-hidden')||c.parent('.navbars').hasClass('navbar-hidden'),C?s.params.navbar.showOnPageScrollEnd&&(w='show'):w=f>g?s.params.navbar.showOnPageScrollTop||g<=u?'show':'hide':g>u?'hide':'show','show'===w&&k?(s.navbar.show(c,!0,!0),k=!1):'hide'!==w||k||(s.navbar.hide(c,!0,!1,!0),k=!0),f=g)}function handleScroll(e){S=this,e&&e.target&&e.target!==S||(g=S.scrollTop,T=g,r?handleLargeNavbarCollapse(S):n&&handleNavbarTransparent(),l.hasClass('page-previous')||a&&handleTitleHideShow())}function handeTouchStart(){T=!1}function handleTouchEnd(){clearTimeout(R),R=null,R=setTimeout((()=>{!1!==T&&(n&&!r?snapTransparentNavbar():snapLargeNavbar(),clearTimeout(R),R=null)}),O)}l.on('scroll','.page-content',handleScroll,!0),i.touch&&(r&&m||n&&v)&&(s.on('touchstart:passive',handeTouchStart),s.on('touchend:passive',handleTouchEnd)),calcScrollableDistance(),(r||n)&&l.find('.page-content').each((e=>{e.scrollTop>0&&handleScroll.call(e)})),s.on('resize',calcScrollableDistance),l[0].f7DetachNavbarScrollHandlers=function f7DetachNavbarScrollHandlers(){s.off('resize',calcScrollableDistance),delete l[0].f7DetachNavbarScrollHandlers,l.off('scroll','.page-content',handleScroll,!0),i.touch&&(r&&m||n&&v)&&(s.off('touchstart:passive',handeTouchStart),s.off('touchend:passive',handleTouchEnd))}}};var ye={name:'navbar',create(){const e=this;bindMethods(e,{navbar:be})},params:{navbar:{scrollTopOnTitleClick:!0,iosCenterTitle:!0,mdCenterTitle:!1,auroraCenterTitle:!0,hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0,collapseLargeTitleOnScroll:!0,snapPageScrollToLargeTitle:!0,snapPageScrollToTransparentNavbar:!0}},on:{'panelBreakpoint panelCollapsedBreakpoint panelResize viewResize resize viewMasterDetailBreakpoint':function onPanelResize(){const e=this;o('.navbar').each((t=>{e.navbar.size(t)}))},pageBeforeRemove(e){e.$el[0].f7DetachNavbarScrollHandlers&&e.$el[0].f7DetachNavbarScrollHandlers()},pageBeforeIn(e){const t=this;if('ios'!==t.theme)return;let a;const r=e.$el.parents('.view')[0].f7View;const n=t.navbar.getElByPage(e);if(a=n?o(n).parents('.navbars'):e.$el.parents('.view').children('.navbars'),e.$el.hasClass('no-navbar')||r.router.dynamicNavbar&&!n){const r=!!(e.pageFrom&&e.router.history.length>0);t.navbar.hide(a,r)}else t.navbar.show(a)},pageReinit(e){const t=this;const a=o(t.navbar.getElByPage(e));a&&0!==a.length&&t.navbar.size(a)},pageInit(e){const t=this;const a=o(t.navbar.getElByPage(e));if(!a||0===a.length)return;let r;let n;let s;t.navbar.size(a),a.find('.title-large').length>0&&a.addClass('navbar-large'),a.hasClass('navbar-large')&&(t.params.navbar.collapseLargeTitleOnScroll&&(r=!0),e.$el.addClass('page-with-navbar-large')),!r&&a.hasClass('navbar-transparent')&&(n=!0),(t.params.navbar.hideOnPageScroll||e.$el.find('.hide-navbar-on-scroll').length||e.$el.hasClass('hide-navbar-on-scroll')||e.$el.find('.hide-bars-on-scroll').length||e.$el.hasClass('hide-bars-on-scroll'))&&(s=!(e.$el.find('.keep-navbar-on-scroll').length||e.$el.hasClass('keep-navbar-on-scroll')||e.$el.find('.keep-bars-on-scroll').length||e.$el.hasClass('keep-bars-on-scroll'))),(r||s||n)&&t.navbar.initNavbarOnScroll(e.el,a[0],s,r,n)},'panelOpen panelSwipeOpen modalOpen':function onPanelModalOpen(e){const t=this;e.$el.find('.navbar:not(.navbar-previous):not(.stacked)').each((e=>{t.navbar.size(e)}))},tabShow(e){const t=this;o(e).find('.navbar:not(.navbar-previous):not(.stacked)').each((e=>{t.navbar.size(e)}))}},clicks:{'.navbar .title':function onTitleClick(e,t,a){const r=this;if(!r.params.navbar.scrollTopOnTitleClick)return;if(o(a.target).closest('a, button').length>0)return;let n;const s=e.parents('.navbar');const i=s.parents('.navbars');n=s.parents('.page-content'),0===n.length&&(s.parents('.page').length>0&&(n=s.parents('.page').find('.page-content')),0===n.length&&i.length&&i.nextAll('.page-current:not(.stacked)').length>0&&(n=i.nextAll('.page-current:not(.stacked)').find('.page-content')),0===n.length&&s.nextAll('.page-current:not(.stacked)').length>0&&(n=s.nextAll('.page-current:not(.stacked)').find('.page-content'))),n&&n.length>0&&(n.hasClass('tab')&&(n=n.parent('.tabs').children('.page-content.tab-active')),n.length>0&&n.scrollTop(0,300))}},vnode:{navbar:{postpatch(e){const t=this;t.navbar.size(e.elm)}}}};const Ce={setHighlight(e){const t=this;const a=o(e);if('ios'===t.theme&&!a.hasClass('tabbar-highlight'))return;if(0===a.length||!a.hasClass('tabbar')&&!a.hasClass('tabbar-labels'))return;let r=a.find('.tab-link-highlight');const n=a.find('.tab-link').length;if(0===n)return void r.remove();0===r.length?(a.children('.toolbar-inner').append('<span class="tab-link-highlight"></span>'),r=a.find('.tab-link-highlight')):r.next().length&&a.children('.toolbar-inner').append(r);const s=a.find('.tab-link-active');let i;let l;if(a.hasClass('tabbar-scrollable')&&s&&s[0])i=`${s[0].offsetWidth}px`,l=`${s[0].offsetLeft}px`;else{const e=s.index();i=100/n+"%",l=100*(t.rtl?-e:e)+"%"}nextFrame$1((()=>{r.css('width',i).transform(`translate3d(${l},0,0)`)}))},init(e){const t=this;t.toolbar.setHighlight(e)},hide(e,t){void 0===t&&(t=!0);const a=this;const r=o(e);if(r.hasClass('toolbar-hidden'))return;const n="toolbar-hidden"+(t?' toolbar-transitioning':'');r.transitionEnd((()=>{r.removeClass('toolbar-transitioning')})),r.addClass(n),r.trigger('toolbar:hide'),a.emit('toolbarHide',r[0])},show(e,t){void 0===t&&(t=!0);const a=this;const r=o(e);r.hasClass('toolbar-hidden')&&(t&&(r.addClass('toolbar-transitioning'),r.transitionEnd((()=>{r.removeClass('toolbar-transitioning')}))),r.removeClass('toolbar-hidden'),r.trigger('toolbar:show'),a.emit('toolbarShow',r[0]))},initToolbarOnScroll(e){const t=this;const a=o(e);let r=a.parents('.view').children('.toolbar');if(0===r.length&&(r=a.find('.toolbar')),0===r.length&&(r=a.parents('.views').children('.tabbar, .tabbar-labels')),0===r.length)return;let n;let s;let i;let l;let c;let p;let d;function handleScroll(e){if(a.hasClass('page-with-card-opened'))return;if(a.hasClass('page-previous'))return;const o=this;e&&e.target&&e.target!==o||(s=o.scrollTop,i=o.scrollHeight,l=o.offsetHeight,c=s+l>=i,d=r.hasClass('toolbar-hidden'),c?t.params.toolbar.showOnPageScrollEnd&&(p='show'):p=n>s?t.params.toolbar.showOnPageScrollTop||s<=44?'show':'hide':s>44?'hide':'show','show'===p&&d?(t.toolbar.show(r),d=!1):'hide'!==p||d||(t.toolbar.hide(r),d=!0),n=s)}a.on('scroll','.page-content',handleScroll,!0),a[0].f7ScrollToolbarHandler=handleScroll}};var we={name:'toolbar',create(){const e=this;bindMethods(e,{toolbar:Ce})},params:{toolbar:{hideOnPageScroll:!1,showOnPageScrollEnd:!0,showOnPageScrollTop:!0}},on:{pageBeforeRemove(e){e.$el[0].f7ScrollToolbarHandler&&e.$el.off('scroll','.page-content',e.$el[0].f7ScrollToolbarHandler,!0)},pageBeforeIn(e){const t=this;let a=e.$el.parents('.view').children('.toolbar');0===a.length&&(a=e.$el.parents('.views').children('.tabbar, .tabbar-labels')),0===a.length&&(a=e.$el.find('.toolbar')),0!==a.length&&(e.$el.hasClass('no-toolbar')?t.toolbar.hide(a):t.toolbar.show(a))},pageInit(e){const t=this;if(e.$el.find('.tabbar, .tabbar-labels').each((e=>{t.toolbar.init(e)})),t.params.toolbar.hideOnPageScroll||e.$el.find('.hide-toolbar-on-scroll').length||e.$el.hasClass('hide-toolbar-on-scroll')||e.$el.find('.hide-bars-on-scroll').length||e.$el.hasClass('hide-bars-on-scroll')){if(e.$el.find('.keep-toolbar-on-scroll').length||e.$el.hasClass('keep-toolbar-on-scroll')||e.$el.find('.keep-bars-on-scroll').length||e.$el.hasClass('keep-bars-on-scroll'))return;t.toolbar.initToolbarOnScroll(e.el)}},init(){const e=this;e.$el.find('.tabbar, .tabbar-labels').each((t=>{e.toolbar.init(t)}))}},vnode:{tabbar:{insert(e){const t=this;t.toolbar.init(e.elm)}}}};var ke={name:'subnavbar',on:{pageInit(e){e.$navbarEl&&e.$navbarEl.length&&e.$navbarEl.find('.subnavbar').length&&e.$el.addClass('page-with-subnavbar');const t=e.$el.find('.subnavbar').filter((t=>o(t).parents('.page')[0]===e.$el[0]));t.length&&e.$el.addClass('page-with-subnavbar')}}};let xe=class TouchRipple{constructor(e,t,a,r){const n=this;if(!t)return;const{left:s,top:i,width:l,height:c}=t[0].getBoundingClientRect();const p=a-s,d=r-i;let u=Math.max((c**2+l**2)**.5,48);let m=!1;const v=e.params.touch.touchRippleInsetElements||'';if(v&&t.is(v)&&(m=!0),m&&(u=Math.max(Math.min(l,c),48)),m||'hidden'!==t.css('overflow'))n.rippleTransform=`translate3d(${l/2-p}px, ${c/2-d}px, 0) scale(1)`;else{const e=((p-l/2)**2+(d-c/2)**2)**.5;const t=(u/2+e)/(u/2);n.rippleTransform=`translate3d(0px, 0px, 0) scale(${t})`}return m&&t.addClass('ripple-inset'),n.$rippleWaveEl=o(`<div class="ripple-wave" style="width: ${u}px; height: ${u}px; margin-top:-${u/2}px; margin-left:-${u/2}px; left:${p}px; top:${d}px; --f7-ripple-transform: ${n.rippleTransform}"></div>`),t.prepend(n.$rippleWaveEl),n.$rippleWaveEl.animationEnd((()=>{n.$rippleWaveEl&&(n.$rippleWaveEl.hasClass('ripple-wave-out')||(n.$rippleWaveEl.addClass('ripple-wave-in'),n.shouldBeRemoved&&n.out()))})),n}destroy(){let e=this;e.$rippleWaveEl&&e.$rippleWaveEl.remove(),Object.keys(e).forEach((t=>{e[t]=null,delete e[t]})),e=null}out(){const e=this;const{$rippleWaveEl:t}=this;clearTimeout(e.removeTimeout),t.addClass('ripple-wave-out'),e.removeTimeout=setTimeout((()=>{e.destroy()}),300),t.animationEnd((()=>{clearTimeout(e.removeTimeout),e.destroy()}))}remove(){const e=this;e.shouldBeRemoved||(e.removeTimeout=setTimeout((()=>{e.destroy()}),400),e.shouldBeRemoved=!0,e.$rippleWaveEl.hasClass('ripple-wave-in')&&e.out())}};var $e={name:'touch-ripple',static:{TouchRipple:xe},create(){const e=this;e.touchRipple={create(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new xe(...t)}}}};const Ee=[];const Te=[];function clearDialogsQueue(){if(0===Te.length)return;const e=Te.shift();e.open()}let Se=class Modal extends v{constructor(e,t){super(t,[e]);const a=this;const r={};a.useModulesParams(r),a.params=extend(r,t),a.opened=!1;let n=a.params.containerEl?o(a.params.containerEl).eq(0):e.$el;return n.length||(n=e.$el),a.$containerEl=n,a.containerEl=n[0],a.useModules(),this}onOpen(){const e=this;e.opened=!0,Ee.push(e),o('html').addClass(`with-modal-${e.type.toLowerCase()}`),e.$el.trigger(`modal:open ${e.type.toLowerCase()}:open`),e.emit(`local::open modalOpen ${e.type}Open`,e)}onOpened(){const e=this;e.$el.trigger(`modal:opened ${e.type.toLowerCase()}:opened`),e.emit(`local::opened modalOpened ${e.type}Opened`,e)}onClose(){const e=this;e.opened=!1,e.type&&e.$el&&(Ee.splice(Ee.indexOf(e),1),o('html').removeClass(`with-modal-${e.type.toLowerCase()}`),e.$el.trigger(`modal:close ${e.type.toLowerCase()}:close`),e.emit(`local::close modalClose ${e.type}Close`,e))}onClosed(){const e=this;e.type&&e.$el&&(e.$el.removeClass('modal-out'),e.$el.hide(),e.params.backdrop&&(e.params.backdropUnique||e.forceBackdropUnique)&&e.$backdropEl&&e.$backdropEl.remove(),e.$el.trigger(`modal:closed ${e.type.toLowerCase()}:closed`),e.emit(`local::closed modalClosed ${e.type}Closed`,e))}open(e){const t=this;const a=r();const n=t.app;const s=t.$el;const i=t.$backdropEl;const l=t.type;let c=!0;if(void 0!==e?c=e:void 0!==t.params.animate&&(c=t.params.animate),!s||s.hasClass('modal-in'))return!1===e&&s[0]&&'dialog'!==l&&(s[0].style.display='block'),t;if('dialog'===l&&n.params.modal.queueDialogs){let e;if(o('.dialog.modal-in').length>0?e=!0:Ee.length>0&&Ee.forEach((t=>{'dialog'===t.type&&(e=!0)})),e)return Te.push(t),t}const p=s.parent();const d=s.parents(a).length>0;function transitionEnd(){s.hasClass('modal-out')?t.onClosed():s.hasClass('modal-in')&&t.onOpened()}return p.is(t.$containerEl)||(t.$containerEl.append(s),t.once(`${l}Closed`,(()=>{d?p.append(s):s.remove()}))),s.show(),t.params.backdrop&&(t.params.backdropUnique||t.forceBackdropUnique)&&t.$backdropEl&&t.$backdropEl.insertBefore(s),t._clientLeft=s[0].clientLeft,c?(i&&(i.removeClass('not-animated'),i.addClass('backdrop-in')),s.animationEnd((()=>{transitionEnd()})),s.transitionEnd((()=>{transitionEnd()})),s.removeClass('modal-out not-animated').addClass('modal-in'),t.onOpen()):(i&&i.addClass('backdrop-in not-animated'),s.removeClass('modal-out').addClass('modal-in not-animated'),t.onOpen(),t.onOpened()),t}close(e){const t=this;const a=t.$el;const r=t.$backdropEl;let n=!0;if(void 0!==e?n=e:void 0!==t.params.animate&&(n=t.params.animate),!a||!a.hasClass('modal-in'))return Te.indexOf(t)>=0&&Te.splice(Te.indexOf(t),1),t;if(r){let e=!0;'popup'===t.type&&t.$el.prevAll('.popup.modal-in').add(t.$el.nextAll('.popup.modal-in')).each((a=>{const r=a.f7Modal;r&&r.params.closeByBackdropClick&&r.params.backdrop&&r.backdropEl===t.backdropEl&&(e=!1)})),e&&(r[n?'removeClass':'addClass']('not-animated'),r.removeClass('backdrop-in'))}function transitionEnd(){a.hasClass('modal-out')?t.onClosed():a.hasClass('modal-in')&&t.onOpened()}return a[n?'removeClass':'addClass']('not-animated'),n?(a.animationEnd((()=>{transitionEnd()})),a.transitionEnd((()=>{transitionEnd()})),a.removeClass('modal-in').addClass('modal-out'),t.onClose()):(a.addClass('not-animated').removeClass('modal-in').addClass('modal-out'),t.onClose(),t.onClosed()),'dialog'===t.type&&clearDialogsQueue(),t}destroy(){const e=this;e.destroyed||(e.emit(`local::beforeDestroy modalBeforeDestroy ${e.type}BeforeDestroy`,e),e.$el&&(e.$el.trigger(`modal:beforedestroy ${e.type.toLowerCase()}:beforedestroy`),e.$el.length&&e.$el[0].f7Modal&&delete e.$el[0].f7Modal),deleteProps(e),e.destroyed=!0)}};var Pe=Se;class CustomModal extends Pe{constructor(e,t){const a=extend({backdrop:!0,closeByBackdropClick:!0,on:{}},t);super(e,a);const r=this;let n;if(r.params=a,n=r.params.el?o(r.params.el):o(r.params.content),n&&n.length>0&&n[0].f7Modal)return n[0].f7Modal;if(0===n.length)return r.destroy();let s;function handleClick(e){r&&!r.destroyed&&s&&e.target===s[0]&&r.close()}return r.params.backdrop&&(s=e.$el.children('.custom-modal-backdrop'),0===s.length&&(s=o('<div class="custom-modal-backdrop"></div>'),e.$el.append(s))),r.on('customModalOpened',(()=>{r.params.closeByBackdropClick&&r.params.backdrop&&e.on('click',handleClick)})),r.on('customModalClose',(()=>{r.params.closeByBackdropClick&&r.params.backdrop&&e.off('click',handleClick)})),extend(r,{app:e,$el:n,el:n[0],$backdropEl:s,backdropEl:s&&s[0],type:'customModal'}),n[0].f7Modal=r,r}}var Re=CustomModal;var Oe={name:'modal',static:{Modal:Pe,CustomModal:Re},create(){const e=this;e.customModal={create:t=>new Re(e,t)}},params:{modal:{queueDialogs:!0}}};function swipePanel(e){const t=e.app;if(e.swipeInitialized)return;extend(e,{swipeable:!0,swipeInitialized:!0});const a=e.params;const{$el:r,$backdropEl:n,side:s,effect:i}=e;let l;let c;let p;let d;let u;let m;const v={};let f;let g;let b;let y;let C;let w;let k;let x=0;function handleTouchStart(r){if(!e.swipeable||p)return;if(!t.panel.allowOpen||!a.swipe&&!a.swipeOnlyClose||c)return;if(o('.modal-in:not(.toast):not(.notification), .photo-browser-in').length>0)return;l=t.panel.get('left'===s?'right':'left')||{};const n=l.opened&&l.$el&&!l.$el.hasClass('panel-in-breakpoint');if((e.opened||!n)&&(a.swipeOnlyClose||!n)&&(!r.target||'input'!==r.target.nodeName.toLowerCase()||'range'!==r.target.type)&&!(o(r.target).closest('.range-slider, .tabs-swipeable-wrap, .calendar-months, .no-swipe-panel, .card-opened').length>0)&&(v.x='touchstart'===r.type?r.targetTouches[0].pageX:r.pageX,v.y='touchstart'===r.type?r.targetTouches[0].pageY:r.pageY,!a.swipeOnlyClose||e.opened)){if(a.swipeActiveArea&&!e.opened){if('left'===s&&v.x>a.swipeActiveArea)return;if('right'===s&&v.x<t.width-a.swipeActiveArea)return}x=0,k=o(e.getViewEl()),d=!1,c=!0,u=void 0,m=!1,f=now(),w=void 0}}function handleTouchMove(o){if(!c||p||m)return;if(x+=1,x<2)return;if(o.f7PreventSwipePanel||t.preventSwipePanelBySwipeBack||t.preventSwipePanel)return void(c=!1);const l='touchmove'===o.type?o.targetTouches[0].pageX:o.pageX;const f='touchmove'===o.type?o.targetTouches[0].pageY:o.pageY;if(void 0===u&&(u=!!(u||Math.abs(f-v.y)>Math.abs(l-v.x))),u)return void(c=!1);if(!w){if(w=l>v.x?'to-right':'to-left',a.swipeActiveArea>0&&!e.opened){if('left'===s&&v.x>a.swipeActiveArea)return void(c=!1);if('right'===s&&v.x<t.width-a.swipeActiveArea)return void(c=!1)}if(r.hasClass('panel-in-breakpoint'))return void(c=!1);if('left'===s&&'to-left'===w&&!r.hasClass('panel-in')||'right'===s&&'to-right'===w&&!r.hasClass('panel-in'))return void(c=!1)}let $=e.opened?0:-a.swipeThreshold;'right'===s&&($=-$),d||(e.opened||(e.insertToRoot(),r.addClass('panel-in-swipe'),n&&n.css('visibility','visible'),r.trigger('panel:swipeopen'),e.emit('local::swipeOpen panelSwipeOpen',e)),C=r[0].offsetWidth,'reveal'===i&&r.hasClass('panel-in-collapsed')&&(C-=parseFloat(k.css(`margin-${s}`))),r.transition(0)),d=!0,o.cancelable&&o.preventDefault(),g=l-v.x+$,'right'===s?'cover'===i||'push'===i?(b=g+(e.opened?0:C),b<0&&(b=0),b>C&&(b=C)):(b=g-(e.opened?C:0),b>0&&(b=0),b<-C&&(b=-C)):(b=g+(e.opened?C:0),b<0&&(b=0),b>C&&(b=C));const E=Math.abs(b/C);if('reveal'===i)a.swipeNoFollow||(k.transform(`translate3d(${b}px,0,0)`).transition(0),n&&n.transform(`translate3d(${b}px,0,0)`).transition(0)),r.trigger('panel:swipe',Math.abs(b/C)),e.emit('local::swipe panelSwipe',e,Math.abs(b/C));else{if('left'===s&&(b-=C),!a.swipeNoFollow&&(y=1-Math.abs(b/C),n&&(n.transition(0),n.css({opacity:y})),r.transform(`translate3d(${b}px,0,0)`).transition(0),'push'===i)){const e='left'===s?b+C:b-C;k.transform(`translate3d(${e}px,0,0)`).transition(0),n&&n.transform(`translate3d(${e}px,0,0)`).transition(0)}r.trigger('panel:swipe',Math.abs(b/C)),e.emit('local::swipe panelSwipe',e,Math.abs(b/C))}if(a.swipeNoFollow){const t=e.opened&&0===E||!e.opened&&1===E;t&&(m=!0,handleTouchEnd(o))}}function handleTouchEnd(t){if(!c||!d)return c=!1,void(d=!1);const o='gesturestart'===t.type||p;c=!1,d=!1;const l=(new Date).getTime()-f;let u;const m=(0===b||Math.abs(b)===C)&&!a.swipeNoFollow;const v=a.swipeThreshold||0;u=o?'reset':e.opened?'cover'===i||'push'===i?0===b?'reset':l<300&&Math.abs(b)>0?'swap':l>=300&&Math.abs(b)<C/2?'reset':'swap':b===-C?'reset':l<300&&Math.abs(b)>=0||l>=300&&Math.abs(b)<=C/2?'left'===s&&b===C?'reset':'swap':'reset':Math.abs(g)<v?'reset':'cover'===i||'push'===i?0===b||l<300&&Math.abs(b)>0||l>=300&&Math.abs(b)<C/2?'swap':'reset':0===b?'reset':l<300&&Math.abs(b)>0||l>=300&&Math.abs(b)>=C/2?'swap':'reset','swap'===u&&(e.opened?e.close(!m):e.open(!m));let y=!0;if('reset'===u&&!e.opened)if(m)r.removeClass('panel-in-swipe');else{y=!1;const t='reveal'===i?k:r;e.setStateClasses('before-closing'),t.transitionEnd((()=>{r.hasClass('panel-in')||(r.removeClass('panel-in-swipe'),e.setStateClasses('after-closing'))}))}'reveal'!==i&&'push'!==i||nextFrame$1((()=>{k.transition(''),k.transform('')})),y&&r.removeClass('panel-in-swipe'),r.transition('').transform(''),n&&n.transform('').transition('').css({opacity:'',visibility:''})}function handleGestureStart(e){p=!0,handleTouchEnd(e)}function handleGestureEnd(){p=!1}t.on('touchstart:passive',handleTouchStart),t.on('touchmove:active',handleTouchMove),t.on('touchend:passive',handleTouchEnd),t.on('gesturestart',handleGestureStart),t.on('gestureend',handleGestureEnd),e.on('panelDestroy',(()=>{t.off('touchstart:passive',handleTouchStart),t.off('touchmove:active',handleTouchMove),t.off('touchend:passive',handleTouchEnd),t.off('gesturestart',handleGestureStart),t.off('gestureend',handleGestureEnd)}))}function resizablePanel(e){const t=e.app;const a=getSupport();if(e.resizableInitialized)return;extend(e,{resizable:!0,resizableWidth:null,resizableInitialized:!0});const r=o('html');const{$el:n,$backdropEl:s,side:i,effect:l}=e;if(!n)return;let c;let p;const d={};let u;let m;let v;let f;let g;let b;function transformCSSWidth(e){if(!e)return null;if(e.indexOf('%')>=0||e.indexOf('vw')>=0)return parseInt(e,10)/100*t.width;const a=parseInt(e,10);return Number.isNaN(a)?null:a}function isResizable(){return e.resizable&&n.hasClass('panel-resizable')}function handleTouchStart(e){isResizable()&&(d.x='touchstart'===e.type?e.targetTouches[0].pageX:e.pageX,d.y='touchstart'===e.type?e.targetTouches[0].pageY:e.pageY,p=!1,c=!0,f=transformCSSWidth(n.css('min-width')),g=transformCSSWidth(n.css('max-width')),b=n.hasClass('panel-in-breakpoint'))}function handleTouchMove(a){if(!c)return;const y='touchmove'===a.type?a.targetTouches[0].pageX:a.pageX;p||(m=n[0].offsetWidth,n.transition(0),n.addClass('panel-resizing'),r.css('cursor','col-resize'),('cover'!==l||b)&&(v=o(e.getViewEl()),e.$containerEl&&e.$containerEl.hasClass('page')&&v.add(e.$containerEl.children('.page-content, .tabs, .fab'))),'cover'===l||b||(s.transition(0),v.transition(0))),p=!0,a.preventDefault(),u=y-d.x;let C='left'===i?m+u:m-u;f&&!Number.isNaN(f)&&(C=Math.max(C,f)),g&&!Number.isNaN(g)&&(C=Math.min(C,g)),C=Math.min(Math.max(C,0),t.width),e.resizableWidth=C,n[0].style.width=`${C}px`,'cover'===l||b?b&&v&&v.css(`margin-${i}`,`${C}px`):(v&&v.transform(`translate3d(${'left'===i?C:-C}px, 0, 0)`),s&&s.transform(`translate3d(${'left'===i?C:-C}px, 0, 0)`)),n.trigger('panel:resize',C),e.emit('local::resize panelResize',e,C)}function handleTouchEnd(){if(o('html').css('cursor',''),!c||!p)return c=!1,void(p=!1);c=!1,p=!1,r[0].style.setProperty(`--f7-panel-${i}-width`,`${e.resizableWidth}px`),n[0].style.width='','cover'===l||b||(v.transform(''),s.transform('')),n.removeClass('panel-resizing'),nextFrame$1((()=>{n.transition(''),'cover'!==l&&(s.transition(''),v&&v.transition(''))}))}function handleResize(){e.opened&&e.resizableWidth&&(f=transformCSSWidth(n.css('min-width')),g=transformCSSWidth(n.css('max-width')),f&&!Number.isNaN(f)&&e.resizableWidth<f&&(e.resizableWidth=Math.max(e.resizableWidth,f)),g&&!Number.isNaN(g)&&e.resizableWidth>g&&(e.resizableWidth=Math.min(e.resizableWidth,g)),e.resizableWidth=Math.min(Math.max(e.resizableWidth,0),t.width),r[0].style.setProperty(`--f7-panel-${i}-width`,`${e.resizableWidth}px`))}0===e.$el.find('.panel-resize-handler').length&&e.$el.append('<div class="panel-resize-handler"></div>'),e.$resizeHandlerEl=e.$el.children('.panel-resize-handler'),n.addClass('panel-resizable');const y=!!a.passiveListener&&{passive:!0};e.$el.on(t.touchEvents.start,'.panel-resize-handler',handleTouchStart,y),t.on('touchmove:active',handleTouchMove),t.on('touchend:passive',handleTouchEnd),t.on('resize',handleResize),e.on('beforeOpen',handleResize),e.once('panelDestroy',(()=>{n.removeClass('panel-resizable'),e.$resizeHandlerEl.remove(),e.$el.off(t.touchEvents.start,'.panel-resize-handler',handleTouchStart,y),t.off('touchmove:active',handleTouchMove),t.off('touchend:passive',handleTouchEnd),t.off('resize',handleResize),e.off('beforeOpen',handleResize)}))}R.use([N]),g.use([w,k,x,$,E,T,B,O,de,pe,he,me,fe,ge,ye,we,ke,$e,Oe]);let Me=class Panel extends v{constructor(e,t){void 0===t&&(t={});const a=extend({on:{}},e.params.panel,t);super(a,[e]);const r=this;let n;if(r.params=a,r.$containerEl=r.params.containerEl?o(r.params.containerEl).eq(0):e.$el,r.containerEl=r.$containerEl[0],r.containerEl||(r.$containerEl=e.$el,r.containerEl=e.$el[0]),r.params.el?n=o(r.params.el).eq(0):r.params.content&&(n=o(r.params.content).filter((e=>1===e.nodeType)).eq(0)),0===n.length)return r;if(n[0].f7Panel)return n[0].f7Panel;n[0].f7Panel=r;let{side:s,effect:i,resizable:l}=r.params;let c;return void 0===s&&(s=n.hasClass('panel-left')?'left':'right'),void 0===i&&(i=n.hasClass('panel-cover')?'cover':n.hasClass('panel-push')?'push':'reveal'),void 0===l&&(l=n.hasClass('panel-resizable')),r.params.backdrop&&r.params.backdropEl?c=o(r.params.backdropEl):r.params.backdrop&&(c=r.$containerEl.children('.panel-backdrop'),0===c.length&&(c=o('<div class="panel-backdrop"></div>'),r.$containerEl.prepend(c))),extend(r,{app:e,side:s,effect:i,resizable:l,$el:n,el:n[0],opened:!1,$backdropEl:c,backdropEl:c&&c[0]}),r.useModules(),r.init(),r}getViewEl(){const e=this;let t;return t=e.$containerEl.children('.views').length>0?e.$containerEl.children('.views')[0]:e.$containerEl.children('.view')[0],t}setStateClasses(e){const t=this;const{side:a,el:r}=t;const n=t.getViewEl();const s=n&&n.contains(r);const i=!n||s?t.$containerEl:o('html');'open'===e&&i.addClass(`with-panel with-panel-${t.side}-${t.effect}`),'before-closing'===e&&i.addClass('with-panel-closing'),'closing'===e&&(i.addClass('with-panel-closing'),i.removeClass(`with-panel with-panel-${t.side}-${t.effect}`)),'after-closing'===e&&i.removeClass('with-panel-closing'),'closed'===e&&i.removeClass(`with-panel-${a}-reveal with-panel-${a}-cover with-panel-${a}-push with-panel`)}enableVisibleBreakpoint(){const e=this;return e.visibleBreakpointDisabled=!1,e.setVisibleBreakpoint(),e}disableVisibleBreakpoint(){const e=this;return e.visibleBreakpointDisabled=!0,e.setVisibleBreakpoint(),e}toggleVisibleBreakpoint(){const e=this;return e.visibleBreakpointDisabled=!e.visibleBreakpointDisabled,e.setVisibleBreakpoint(),e}setVisibleBreakpoint(e){void 0===e&&(e=!0);const t=this;const a=t.app;t.visibleBreakpointResizeHandler||(t.visibleBreakpointResizeHandler=function visibleBreakpointResizeHandler(){t.setVisibleBreakpoint()},a.on('resize',t.visibleBreakpointResizeHandler));const{side:r,$el:n,$containerEl:s,params:i,visibleBreakpointDisabled:l}=t;const c=i.visibleBreakpoint;const p=o(t.getViewEl());const d=n.hasClass('panel-in-breakpoint');s&&s.hasClass('page')&&p.add(s.children('.page-content, .tabs, .fab')),a.width>=c&&null!=c&&!l?d?p.css({[`margin-${r}`]:`${n.width()}px`}):(t.setStateClasses('closed'),n.addClass('panel-in-breakpoint').removeClass('panel-in panel-in-collapsed'),t.onOpen(!1),t.onOpened(),p.css({[`margin-${r}`]:`${n.width()}px`}),a.allowPanelOpen=!0,e&&(t.emit('local::breakpoint panelBreakpoint',t),t.$el.trigger('panel:breakpoint'))):d&&(n.removeClass('panel-in-breakpoint panel-in'),t.onClose(),t.onClosed(),p.css({[`margin-${r}`]:''}),e&&(t.emit('local::breakpoint panelBreakpoint',t),t.$el.trigger('panel:breakpoint')))}enableCollapsedBreakpoint(){const e=this;return e.collapsedBreakpointDisabled=!1,e.setCollapsedBreakpoint(),e}disableCollapsedBreakpoint(){const e=this;return e.collapsedBreakpointDisabled=!0,e.setCollapsedBreakpoint(),e}toggleCollapsedBreakpoint(){const e=this;return e.collapsedBreakpointDisabled=!e.collapsedBreakpointDisabled,e.setCollapsedBreakpoint(),e}setCollapsedBreakpoint(e){void 0===e&&(e=!0);const t=this;const a=t.app;t.collapsedBreakpointResizeHandler||(t.collapsedBreakpointResizeHandler=function collapsedBreakpointResizeHandler(){t.setCollapsedBreakpoint()},a.on('resize',t.collapsedBreakpointResizeHandler));const{$el:r,params:n,collapsedBreakpointDisabled:o}=t;if(r.hasClass('panel-in-breakpoint'))return;const s=n.collapsedBreakpoint;const i=r.hasClass('panel-in-collapsed');a.width>=s&&null!=s&&!o?i||(t.setStateClasses('closed'),r.addClass('panel-in-collapsed').removeClass('panel-in'),t.collapsed=!0,a.allowPanelOpen=!0,e&&(t.emit('local::collapsedBreakpoint panelCollapsedBreakpoint',t),t.$el.trigger('panel:collapsedbreakpoint'))):i&&(r.removeClass('panel-in-collapsed panel-in'),t.collapsed=!1,e&&(t.emit('local::collapsedBreakpoint panelCollapsedBreakpoint',t),t.$el.trigger('panel:collapsedbreakpoint')))}enableResizable(){const e=this;return e.resizableInitialized?(e.resizable=!0,e.$el.addClass('panel-resizable')):resizablePanel(e),e}disableResizable(){const e=this;return e.resizable=!1,e.$el.removeClass('panel-resizable'),e}enableSwipe(){const e=this;return e.swipeInitialized?e.swipeable=!0:swipePanel(e),e}disableSwipe(){const e=this;return e.swipeable=!1,e}onOpen(e){void 0===e&&(e=!0);const t=this;const a=t.app;t.opened=!0,a.panel.allowOpen=!1,t.$el.trigger('panel:beforeopen'),t.emit('local::beforeOpen panelBeforeOpen',t),e&&t.setStateClasses('open'),t.$el.trigger('panel:open'),t.emit('local::open panelOpen',t)}onOpened(){const e=this;const t=e.app;t.panel.allowOpen=!0,e.$el.trigger('panel:opened'),e.emit('local::opened panelOpened',e)}onClose(){const e=this;const t=e.app;e.opened=!1,t.panel.allowOpen=!1,e.$el.trigger('panel:beforeclose'),e.emit('local::beforeClose panelBeforeClose',e),e.setStateClasses('closing'),e.$el.trigger('panel:close'),e.emit('local::close panelClose',e)}onClosed(){const e=this;const t=e.app;if(t.panel.allowOpen=!0,e.setStateClasses('after-closing'),e.$el.removeClass('panel-out'),e.$backdropEl){const a=t.panel.get('.panel-in');const r=!a||a&&!a.$backdropEl;r&&e.$backdropEl.removeClass('panel-backdrop-in')}e.$el.trigger('panel:closed'),e.emit('local::closed panelClosed',e)}toggle(e){void 0===e&&(e=!0);const t=this;const a=t.params.visibleBreakpoint;const r=t.app;return r.width>=a&&null!=a?t.toggleVisibleBreakpoint():(t.opened?t.close(e):t.open(e),t)}insertToRoot(){const e=this;const t=r();const{$el:a,$backdropEl:n,$containerEl:o}=e;const s=a.parent();const i=a.parents(t).length>0;if(!s.is(o)||a.prevAll('.views, .view').length){const t=o.children('.panel, .views, .view').eq(0);const r=o.children('.panel-backdrop').eq(0);t.length?a.insertBefore(t):r?a.insertBefore(r):o.prepend(a),n&&n.length&&(!n.parent().is(o)&&0===n.nextAll('.panel').length||n.parent().is(o)&&0===n.nextAll('.panel').length)&&n.insertBefore(a),e.once('panelClosed',(()=>{i?s.append(a):a.remove()}))}}open(e){void 0===e&&(e=!0);const t=this;const a=t.app;if(!a.panel.allowOpen)return!1;const{effect:r,$el:n,$backdropEl:s,opened:i,$containerEl:l}=t;if(!n||n.hasClass('panel-in'))return t;if(t.insertToRoot(),i||n.hasClass('panel-in-breakpoint')||n.hasClass('panel-in'))return!1;const c=a.panel.get('.panel-in');c&&c!==t&&c.close(e),n[e?'removeClass':'addClass']('not-animated'),n.addClass('panel-in'),s&&(s.addClass('panel-backdrop-in'),s[e?'removeClass':'addClass']('not-animated')),'cover'!==t.effect&&'push'!==t.effect||(t._clientLeft=n[0].clientLeft);const p=o(t.getViewEl());l&&l.hasClass('page')&&p.add(l.children('.page-content, .tabs'));const d='reveal'===r?p:n;function panelTransitionEnd(){d.transitionEnd((e=>{o(e.target).is(d)?n.hasClass('panel-out')?t.onClosed():t.onOpened():panelTransitionEnd()}))}return e?(s&&s.removeClass('not-animated'),panelTransitionEnd(),n.removeClass('panel-out not-animated').addClass('panel-in'),t.onOpen()):(s&&s.addClass('not-animated'),n.removeClass('panel-out').addClass('panel-in not-animated'),t.onOpen(),t.onOpened()),!0}close(e){void 0===e&&(e=!0);const t=this;const{effect:a,$el:r,$backdropEl:n,opened:s,$containerEl:i}=t;if(!s||r.hasClass('panel-in-breakpoint')||!r.hasClass('panel-in'))return t;r[e?'removeClass':'addClass']('not-animated'),n&&n[e?'removeClass':'addClass']('not-animated');const l=o(t.getViewEl());i&&i.hasClass('page')&&l.add(i.children('.page-content, .tabs'));const c='reveal'===a?l:r;function transitionEnd(){r.hasClass('panel-out')?t.onClosed():r.hasClass('panel-in')&&t.onOpened(),t.setStateClasses('after-closing')}return e?(c.transitionEnd((()=>{transitionEnd()})),r.removeClass('panel-in').addClass('panel-out'),t.onClose()):(r.addClass('not-animated').removeClass('panel-in').addClass('panel-out'),t.onClose(),t.onClosed()),t}init(){const e=this;void 0!==e.params.visibleBreakpoint&&e.setVisibleBreakpoint(),void 0!==e.params.collapsedBreakpoint&&e.setCollapsedBreakpoint(),e.params.swipe&&e.enableSwipe(),e.resizable&&e.enableResizable()}destroy(){let e=this;const t=e.app;const{$containerEl:a}=e;if(e.$el){if(e.emit('local::beforeDestroy panelBeforeDestroy',e),e.$el.trigger('panel:beforedestroy'),e.visibleBreakpointResizeHandler&&t.off('resize',e.visibleBreakpointResizeHandler),e.collapsedBreakpointResizeHandler&&t.off('resize',e.collapsedBreakpointResizeHandler),e.$el.hasClass('panel-in-breakpoint')||e.$el.hasClass('panel-in-collapsed')){const t=o(e.getViewEl());a&&a.hasClass('page')&&t.add(a.children('.page-content, .tabs')),e.$el.removeClass('panel-in-breakpoint panel-in-collapsed panel-in'),t.css({[`margin-${e.side}`]:''}),e.emit('local::breakpoint panelBreakpoint',e),e.$el.trigger('panel:breakpoint')}e.$el.trigger('panel:destroy'),e.emit('local::destroy panelDestroy',e),e.el&&(e.el.f7Panel=null,delete e.el.f7Panel),deleteProps(e),e=null}}};var Ae=Me;var Be={name:'panel',params:{panel:{opened:void 0,side:void 0,effect:void 0,resizable:void 0,backdrop:!0,backdropEl:void 0,visibleBreakpoint:void 0,collapsedBreakpoint:void 0,swipe:!1,swipeNoFollow:!1,swipeOnlyClose:!1,swipeActiveArea:0,swipeThreshold:0,closeByBackdropClick:!0,containerEl:void 0}},static:{Panel:Ae},create(){const e=this;extend(e,{panel:{allowOpen:!0,create:t=>new Ae(e,t),get(e){if(void 0===e&&(e='.panel'),e instanceof Ae)return e;'left'!==e&&'right'!==e||(e=`.panel-${e}`);const t=o(e);return 0===t.length||t.length>1?void 0:t[0].f7Panel},destroy(t){void 0===t&&(t='.panel');const a=e.panel.get(t);if(a&&a.destroy)return a.destroy()},open(t,a){void 0===t&&(t='.panel'),'left'!==t&&'right'!==t||(t=`.panel-${t}`);let r=e.panel.get(t);return r&&r.open?r.open(a):r?void 0:(r=e.panel.create({el:t}),r.open(a))},close(t,a){void 0===t&&(t='.panel-in'),'left'!==t&&'right'!==t||(t=`.panel-${t}`);let r=e.panel.get(t);return r&&r.open?r.close(a):r?void 0:(r=e.panel.create({el:t}),r.close(a))},toggle(t,a){void 0===t&&(t='.panel'),'left'!==t&&'right'!==t||(t=`.panel-${t}`);let r=e.panel.get(t);return r&&r.toggle?r.toggle(a):r?void 0:(r=e.panel.create({el:t}),r.toggle(a))}}})},on:{init(){const e=this;o('.panel-init').each((t=>{const a=Object.assign({el:t},o(t).dataset()||{});e.panel.create(a)}))},pageInit(e){const t=this;e.$el.find('.panel-init').each((e=>{const a=Object.assign({el:e},o(e).dataset()||{});t.panel.create(a)}))},pageBeforeRemove(e){const t=this;e.$el.find('.panel-init').each((e=>{const a=t.panel.get(e);a&&a.destroy&&a.destroy()}))}},vnode:{'panel-init':{insert(e){const t=this;const a=e.elm;const r=Object.assign({el:a},o(a).dataset()||{});t.panel.create(r)},destroy(e){const t=this;const a=e.elm;const r=t.panel.get(a);r&&r.destroy&&r.destroy()}}},clicks:{'.panel-open':function open(e,t){void 0===t&&(t={});const a=this;a.panel.open(t.panel,t.animate)},'.panel-close':function close(e,t){void 0===t&&(t={});const a=this;a.panel.close(t.panel,t.animate)},'.panel-toggle':function close(e,t){void 0===t&&(t={});const a=this;a.panel.toggle(t.panel,t.animate)},'.panel-backdrop':function close(){const e=this;const t=o('.panel-in:not(.panel-out)');if(!t.length)return;const a=t[0]&&t[0].f7Panel;t.trigger('panel:backdrop-click'),a&&a.emit('backdropClick',a),e.emit('panelBackdropClick',a||t[0]),a&&!1===a.params.closeByBackdropClick||e.params.panel.closeByBackdropClick&&e.panel.close()}}};let Ne=class Popup extends Pe{constructor(e,t){const n=extend({on:{}},e.params.popup,t);super(e,n);const s=this;const i=a();const l=r();const c=getSupport();const p=getDevice();let d;if(s.params=n,d=s.params.el?o(s.params.el).eq(0):o(s.params.content).filter((e=>1===e.nodeType)).eq(0),d&&d.length>0&&d[0].f7Modal)return d[0].f7Modal;if(0===d.length)return s.destroy();let u;function handleClick(e){const t=e.target;const a=o(t);const r=!p.desktop&&p.cordova&&(i.Keyboard&&i.Keyboard.isVisible||i.cordova.plugins&&i.cordova.plugins.Keyboard&&i.cordova.plugins.Keyboard.isVisible);if(!r&&0===a.closest(s.el).length&&s.params&&s.params.closeByBackdropClick&&s.params.backdrop&&s.backdropEl&&s.backdropEl===t){let e=!0;s.$el.nextAll('.popup.modal-in').each((t=>{const a=t.f7Modal;a&&a.params.closeByBackdropClick&&a.params.backdrop&&a.backdropEl===s.backdropEl&&(e=!1)})),e&&s.close()}}function onKeyDown(e){const t=e.keyCode;27===t&&s.params.closeOnEscape&&s.close()}let m;let v;function pushViewScale(t){return(e.height-2*t)/e.height}s.params.backdrop&&s.params.backdropEl?u=o(s.params.backdropEl):s.params.backdrop&&(s.params.backdropUnique?(u=o('<div class="popup-backdrop popup-backdrop-unique"></div>'),s.$containerEl.append(u)):u=s.$containerEl.children('.popup-backdrop'),0===u.length&&(u=o('<div class="popup-backdrop"></div>'),s.$containerEl.append(u))),extend(s,{app:e,push:d.hasClass('popup-push')||s.params.push,$el:d,el:d[0],$backdropEl:u,backdropEl:u&&u[0],type:'popup',$htmlEl:o('html')}),s.params.push&&d.addClass('popup-push');let f=!0;let g=!1;let b;let y;let C;let w;let k;let x=!1;let $;let E;let T;let S;let P;let R;function handleTouchStart(e){!g&&f&&s.params.swipeToClose&&(s.params.swipeHandler&&0===o(e.target).closest(s.params.swipeHandler).length||(g=!0,x=!1,b={x:'touchstart'===e.type?e.targetTouches[0].pageX:e.pageX,y:'touchstart'===e.type?e.targetTouches[0].pageY:e.pageY},w=now(),C=void 0,s.params.swipeHandler||'touchstart'!==e.type||($=o(e.target).closest('.page-content')[0])))}function handleTouchMove(t){if(!g)return;if(y={x:'touchmove'===t.type?t.targetTouches[0].pageX:t.pageX,y:'touchmove'===t.type?t.targetTouches[0].pageY:t.pageY},void 0===C&&(C=!!(C||Math.abs(y.x-b.x)>Math.abs(y.y-b.y))),C)return g=!1,void(x=!1);k=b.y-y.y,v&&m&&k>0&&(k=0);const a=k<0?'to-bottom':'to-top';if(d.transition(0),'string'==typeof s.params.swipeToClose&&a!==s.params.swipeToClose)return d.transform(''),void d.transition('');if(x)s.emit('local::swipeMove popupSwipeMove',s),s.$el.trigger('popup:swipemove');else{if(v&&m&&(P=d[0].offsetHeight,R=d.prevAll('.popup.modal-in').eq(0),0===R.length&&(R=e.$el.children('.view, .views'))),$&&(E=$.scrollTop,S=$.scrollHeight,T=$.offsetHeight,!(S===T||'to-bottom'===a&&0===E||'to-top'===a&&E===S-T)))return d.transform(''),d.transition(''),g=!1,void(x=!1);x=!0,s.emit('local::swipeStart popupSwipeStart',s),s.$el.trigger('popup:swipestart')}if(t.preventDefault(),v&&m){const e=1-Math.abs(k/P);const t=1-(1-pushViewScale(m))*e;R.hasClass('popup')?R.hasClass('popup-push')?R.transition(0).forEach((a=>{a.style.setProperty('transform',`translate3d(0, calc(-1 * ${e} * (var(--f7-popup-push-offset) + 10px)) , 0px) scale(${t})`,'important')})):R.transition(0).forEach((e=>{e.style.setProperty('transform',`translate3d(0, 0px , 0px) scale(${t})`,'important')})):R.transition(0).forEach((e=>{e.style.setProperty('transform',`translate3d(0,0,0) scale(${t})`,'important')}))}d.transition(0).transform(`translate3d(0,${-k}px,0)`)}function handleTouchEnd(){if(g=!1,!x)return;s.emit('local::swipeEnd popupSwipeEnd',s),s.$el.trigger('popup:swipeend'),x=!1,f=!1,d.transition(''),v&&m&&R.transition('').transform('');const e=k<=0?'to-bottom':'to-top';if('string'==typeof s.params.swipeToClose&&e!==s.params.swipeToClose)return d.transform(''),void(f=!0);const t=Math.abs(k);const a=(new Date).getTime()-w;a<300&&t>20||a>=300&&t>100?nextTick((()=>{'to-bottom'===e?d.addClass('swipe-close-to-bottom'):d.addClass('swipe-close-to-top'),d.transform(''),s.emit('local::swipeclose popupSwipeClose',s),s.$el.trigger('popup:swipeclose'),s.close(),f=!0})):(f=!0,d.transform(''))}const O=!!c.passiveListener&&{passive:!0};let M;s.params.swipeToClose&&(d.on(e.touchEvents.start,handleTouchStart,O),e.on('touchmove',handleTouchMove),e.on('touchend:passive',handleTouchEnd),s.once('popupDestroy',(()=>{d.off(e.touchEvents.start,handleTouchStart,O),e.off('touchmove',handleTouchMove),e.off('touchend:passive',handleTouchEnd)})));const updatePushOffset=()=>{const t=v;s.push&&(v=s.push&&(e.width<630||e.height<630||d.hasClass('popup-tablet-fullscreen'))),v&&!t?setPushOffset():v&&t?s.$htmlEl[0].style.setProperty('--f7-popup-push-scale',pushViewScale(m)):!v&&t&&(s.$htmlEl.removeClass('with-modal-popup-push'),s.$htmlEl[0].style.removeProperty('--f7-popup-push-scale'))};const setPushOffset=()=>{e.off('resize',updatePushOffset),s.push&&(v=s.push&&(e.width<630||e.height<630||d.hasClass('popup-tablet-fullscreen'))),v&&(m=parseInt(d.css('--f7-popup-push-offset'),10),Number.isNaN(m)&&(m=0),m&&(d.addClass('popup-push'),s.$htmlEl.addClass('with-modal-popup-push'),s.$htmlEl[0].style.setProperty('--f7-popup-push-scale',pushViewScale(m)))),e.on('resize',updatePushOffset)};return s.on('open',(()=>{M=!1,s.params.closeOnEscape&&o(l).on('keydown',onKeyDown),d.prevAll('.popup.modal-in').addClass('popup-behind'),setPushOffset()})),s.on('opened',(()=>{d.removeClass('swipe-close-to-bottom swipe-close-to-top'),s.params.closeByBackdropClick&&e.on('click',handleClick)})),s.on('close',(()=>{M=s.$el.prevAll('.popup-push.modal-in').length>0,s.params.closeOnEscape&&o(l).off('keydown',onKeyDown),s.params.closeByBackdropClick&&e.off('click',handleClick),d.prevAll('.popup.modal-in').eq(0).removeClass('popup-behind'),v&&m&&!M&&(s.$htmlEl.removeClass('with-modal-popup-push'),s.$htmlEl.addClass('with-modal-popup-push-closing')),e.off('resize',updatePushOffset)})),s.on('closed',(()=>{d.removeClass('popup-behind'),v&&m&&!M&&(s.$htmlEl.removeClass('with-modal-popup-push-closing'),s.$htmlEl[0].style.removeProperty('--f7-popup-push-scale'))})),d[0].f7Modal=s,s}};var Le=Ne;var He={name:'popup',params:{popup:{backdrop:!0,backdropEl:void 0,backdropUnique:!1,closeByBackdropClick:!0,closeOnEscape:!1,swipeToClose:!1,swipeHandler:null,push:!1,containerEl:null}},static:{Popup:Le},create(){const e=this;e.popup=ModalMethods({app:e,constructor:Le,defaultSelector:'.popup.modal-in',parentSelector:'.popup'})},clicks:{'.popup-open':function openPopup(e,t){void 0===t&&(t={});const a=this;a.popup.open(t.popup,t.animate,e)},'.popup-close':function closePopup(e,t){void 0===t&&(t={});const a=this;a.popup.close(t.popup,t.animate,e)}}};let De=class Stepper extends v{constructor(e,t){super(t,[e]);const a=this;const r={el:null,inputEl:null,valueEl:null,value:0,formatValue:null,step:1,min:0,max:100,watchInput:!0,autorepeat:!1,autorepeatDynamic:!1,wraps:!1,manualInputMode:!1,decimalPoint:4,buttonsEndInputMode:!0};a.useModulesParams(r),a.params=extend(r,t),a.params.value<a.params.min&&(a.params.value=a.params.min),a.params.value>a.params.max&&(a.params.value=a.params.max);const n=a.params.el;if(!n)return a;const s=o(n);if(0===s.length)return a;if(s[0].f7Stepper)return s[0].f7Stepper;let i;if(a.params.inputEl?i=o(a.params.inputEl):s.find('.stepper-input-wrap').find('input, textarea').length&&(i=s.find('.stepper-input-wrap').find('input, textarea').eq(0)),i&&i.length){'step min max'.split(' ').forEach((e=>{!t[e]&&i.attr(e)&&(a.params[e]=parseFloat(i.attr(e)))}));const e=parseInt(a.params.decimalPoint,10);Number.isNaN(e)?a.params.decimalPoint=0:a.params.decimalPoint=e;const r=parseFloat(i.val());void 0!==t.value||Number.isNaN(r)||!r&&0!==r||(a.params.value=r)}let l;a.params.valueEl?l=o(a.params.valueEl):s.find('.stepper-value').length&&(l=s.find('.stepper-value').eq(0));const c=s.find('.stepper-button-plus');const p=s.find('.stepper-button-minus');const{step:d,min:u,max:m,value:v,decimalPoint:f}=a.params;extend(a,{app:e,$el:s,el:s[0],$buttonPlusEl:c,buttonPlusEl:c[0],$buttonMinusEl:p,buttonMinusEl:p[0],$inputEl:i,inputEl:i?i[0]:void 0,$valueEl:l,valueEl:l?l[0]:void 0,step:d,min:u,max:m,value:v,decimalPoint:f,typeModeChanged:!1}),s[0].f7Stepper=a;const g={};let b;let y;let C;let w;let k;let x=null;let $=!1;let E=!1;function dynamicRepeat(e,t,a,r,n,o){clearTimeout(k),k=setTimeout((()=>{1===e&&(C=!0,$=!0),clearInterval(w),o(),w=setInterval((()=>{o()}),n),e<t&&dynamicRepeat(e+1,t,a,r,n/2,o)}),1===e?a:r)}function onTouchStart(e){if(b)return;if(E)return;if(o(e.target).closest(c).length?x='increment':o(e.target).closest(p).length&&(x='decrement'),!x)return;g.x='touchstart'===e.type?e.targetTouches[0].pageX:e.pageX,g.y='touchstart'===e.type?e.targetTouches[0].pageY:e.pageY,b=!0,y=void 0;const t=a.params.autorepeatDynamic?4:1;dynamicRepeat(1,t,500,1e3,300,(()=>{a[x]()}))}function onTouchMove(e){if(!b)return;if(E)return;const t='touchmove'===e.type?e.targetTouches[0].pageX:e.pageX;const a='touchmove'===e.type?e.targetTouches[0].pageY:e.pageY;void 0!==y||$||(y=!!(y||Math.abs(a-g.y)>Math.abs(t-g.x)));const r=((t-g.x)**2+(a-g.y)**2)**.5;(y||r>20)&&(b=!1,clearTimeout(k),clearInterval(w))}function onTouchEnd(){clearTimeout(k),clearInterval(w),x=null,$=!1,b=!1}function onMinusClick(){E?a.params.buttonsEndInputMode&&(E=!1,a.endTypeMode(!0)):C?C=!1:a.decrement(!0)}function onPlusClick(){E?a.params.buttonsEndInputMode&&(E=!1,a.endTypeMode(!0)):C?C=!1:a.increment(!0)}function onInputClick(e){!e.target.readOnly&&a.params.manualInputMode&&(E=!0,'number'==typeof e.target.selectionStart&&(e.target.selectionStart=e.target.value.length,e.target.selectionEnd=e.target.value.length))}function onInputKey(e){13!==e.keyCode&&13!==e.which||(e.preventDefault(),E=!1,a.endTypeMode())}function onInputBlur(){E=!1,a.endTypeMode(!0)}function onInput(e){E?a.typeValue(e.target.value):e.detail&&e.detail.sentByF7Stepper||a.setValue(e.target.value,!0)}return a.attachEvents=function attachEvents(){p.on('click',onMinusClick),c.on('click',onPlusClick),a.params.watchInput&&i&&i.length&&(i.on('input',onInput),i.on('click',onInputClick),i.on('blur',onInputBlur),i.on('keyup',onInputKey)),a.params.autorepeat&&(e.on('touchstart:passive',onTouchStart),e.on('touchmove:active',onTouchMove),e.on('touchend:passive',onTouchEnd))},a.detachEvents=function detachEvents(){p.off('click',onMinusClick),c.off('click',onPlusClick),a.params.watchInput&&i&&i.length&&(i.off('input',onInput),i.off('click',onInputClick),i.off('blur',onInputBlur),i.off('keyup',onInputKey))},a.useModules(),a.init(),a}minus(){return this.decrement()}plus(){return this.increment()}decrement(){const e=this;return e.setValue(e.value-e.step,!1,!0)}increment(){const e=this;return e.setValue(e.value+e.step,!1,!0)}setValue(e,t,a){const r=this;const{step:n,min:o,max:s}=r;const i=r.value;let l=Math.round(e/n)*n;r.params.wraps&&a?(l>s&&(l=o),l<o&&(l=s)):l=Math.max(Math.min(l,s),o),Number.isNaN(l)&&(l=i),r.value=l;const c=i!==l;if(!c&&!t)return r;r.$el.trigger('stepper:change',r.value);const p=r.formatValue(r.value);return r.$inputEl&&r.$inputEl.length&&(r.$inputEl.val(p),r.$inputEl.trigger('input change',{sentByF7Stepper:!0})),r.$valueEl&&r.$valueEl.length&&r.$valueEl.html(p),r.emit('local::change stepperChange',r,r.value),r}endTypeMode(e){const t=this;const{min:a,max:r}=t;let n=parseFloat(t.value);if(Number.isNaN(n)&&(n=0),n=Math.max(Math.min(n,r),a),t.value=n,!t.typeModeChanged)return t.$inputEl&&t.$inputEl.length&&!e&&t.$inputEl.blur(),t;t.typeModeChanged=!1,t.$el.trigger('stepper:change',t.value);const o=t.formatValue(t.value);return t.$inputEl&&t.$inputEl.length&&(t.$inputEl.val(o),t.$inputEl.trigger('input change',{sentByF7Stepper:!0}),e||t.$inputEl.blur()),t.$valueEl&&t.$valueEl.length&&t.$valueEl.html(o),t.emit('local::change stepperChange',t,t.value),t}typeValue(e){const t=this;t.typeModeChanged=!0;let a=String(e);if(1===a.length&&'-'===a)return t;if(a.lastIndexOf('.')+1!==a.length&&a.lastIndexOf(',')+1!==a.length){let e=parseFloat(a.replace(',','.'));if(0===e)return t.value=a.replace(',','.'),t.$inputEl.val(t.value),t;if(Number.isNaN(e))return t.value=0,t.$inputEl.val(t.value),t;const r=10**t.params.decimalPoint;return e=Math.round(e*r).toFixed(t.params.decimalPoint+1)/r,t.value=parseFloat(String(e).replace(',','.')),t.$inputEl.val(t.value),t}return a.lastIndexOf('.')!==a.indexOf('.')||a.lastIndexOf(',')!==a.indexOf(',')?(a=a.slice(0,-1),t.value=a,t.$inputEl.val(t.value),t):(t.value=a,t.$inputEl.val(a),t)}getValue(){return this.value}formatValue(e){const t=this;return t.params.formatValue?t.params.formatValue.call(t,e):e}init(){const e=this;if(e.attachEvents(),e.$valueEl&&e.$valueEl.length){const t=e.formatValue(e.value);e.$valueEl.html(t)}return e}destroy(){let e=this;e.$el.trigger('stepper:beforedestroy'),e.emit('local::beforeDestroy stepperBeforeDestroy',e),delete e.$el[0].f7Stepper,e.detachEvents(),deleteProps(e),e=null}};var je=De;var Ie={name:'stepper',create(){const e=this;e.stepper=extend(ConstructorMethods({defaultSelector:'.stepper',constructor:je,app:e,domProp:'f7Stepper'}),{getValue(t){void 0===t&&(t='.stepper');const a=e.stepper.get(t);if(a)return a.getValue()},setValue(t,a){void 0===t&&(t='.stepper');const r=e.stepper.get(t);if(r)return r.setValue(a)}})},static:{Stepper:je},on:{tabMounted(e){const t=this;o(e).find('.stepper-init').each((e=>{const a=o(e).dataset();t.stepper.create(extend({el:e},a||{}))}))},tabBeforeRemove(e){o(e).find('.stepper-init').each((e=>{e.f7Stepper&&e.f7Stepper.destroy()}))},pageInit(e){const t=this;e.$el.find('.stepper-init').each((e=>{const a=o(e).dataset();t.stepper.create(extend({el:e},a||{}))}))},pageBeforeRemove(e){e.$el.find('.stepper-init').each((e=>{e.f7Stepper&&e.f7Stepper.destroy()}))}},vnode:{'stepper-init':{insert(e){const t=this;const a=e.elm;const r=o(a).dataset();t.stepper.create(extend({el:a},r||{}))},destroy(e){const t=e.elm;t.f7Stepper&&t.f7Stepper.destroy()}}}};const ze={toggleClicked(e){const t=this;let a=e.closest('.accordion-item').eq(0);a.length||(a=e.parents('li').eq(0));const r=e.parents('.accordion-item-content').eq(0);r.length&&r.parents(a).length||e.parents('li').length>1&&e.parents('li')[0]!==a[0]||t.accordion.toggle(a)},open(e){const t=this;const a=o(e);let r=!1;function prevent(){r=!0}if(a.trigger('accordion:beforeopen',{prevent:prevent},prevent),t.emit('accordionBeforeOpen',a[0],prevent),r)return;const n=a.parents('.accordion-list').eq(0);let s=a.children('.accordion-item-content');if(s.removeAttr('aria-hidden'),0===s.length&&(s=a.find('.accordion-item-content')),0===s.length)return;const i=n.length>0&&a.parent().children('.accordion-item-opened');i.length>0&&t.accordion.close(i),s.transitionEnd((()=>{a.hasClass('accordion-item-opened')?(s.transition(0),s.css('height','auto'),nextFrame$1((()=>{s.transition(''),a.trigger('accordion:opened'),t.emit('accordionOpened',a[0])}))):(s.css('height',''),a.trigger('accordion:closed'),t.emit('accordionClosed',a[0]))})),s.css('height',`${s[0].scrollHeight}px`),a.trigger('accordion:open'),a.addClass('accordion-item-opened'),t.emit('accordionOpen',a[0])},close(e){const t=this;const a=o(e);let r=!1;function prevent(){r=!0}if(a.trigger('accordion:beforeclose',{prevent:prevent},prevent),t.emit('accordionBeforeClose',a[0],prevent),r)return;let n=a.children('.accordion-item-content');0===n.length&&(n=a.find('.accordion-item-content')),a.removeClass('accordion-item-opened'),n.attr('aria-hidden',!0),n.transition(0),n.css('height',`${n[0].scrollHeight}px`),n.transitionEnd((()=>{a.hasClass('accordion-item-opened')?(n.transition(0),n.css('height','auto'),nextFrame$1((()=>{n.transition(''),a.trigger('accordion:opened'),t.emit('accordionOpened',a[0])}))):(n.css('height',''),a.trigger('accordion:closed'),t.emit('accordionClosed',a[0]))})),nextFrame$1((()=>{n.transition(''),n.css('height',''),a.trigger('accordion:close'),t.emit('accordionClose',a[0])}))},toggle(e){const t=this;const a=o(e);0!==a.length&&(a.hasClass('accordion-item-opened')?t.accordion.close(e):t.accordion.open(e))}};var qe={name:'accordion',create(){const e=this;bindMethods(e,{accordion:ze})},clicks:{'.accordion-item .item-link, .accordion-item-toggle, .links-list.accordion-list > ul > li > a':function open(e){const t=this;ze.toggleClicked.call(t,e)}}};const Ve={open(e){void 0===e&&(e='.menu-item-dropdown');const t=this;if(!e)return;const a=o(e).closest('.menu-item-dropdown');if(!a.length)return;const r=a.closest('.menu').eq(0);if(r.length){const e=r.css('z-index');const t=r[0].style.zIndex;r.css('z-index',parseInt(e||0,10)+1),r[0].f7MenuZIndex=t}a.eq(0).addClass('menu-item-dropdown-opened').trigger('menu:opened'),t.emit('menuOpened',a.eq(0)[0])},close(e){void 0===e&&(e='.menu-item-dropdown-opened');const t=this;if(!e)return;const a=o(e).closest('.menu-item-dropdown-opened');if(!a.length)return;const r=a.closest('.menu').eq(0);if(r.length){const e=r[0].f7MenuZIndex;r.css('z-index',e),delete r[0].f7MenuZIndex}a.eq(0).removeClass('menu-item-dropdown-opened').trigger('menu:closed'),t.emit('menuClosed',a.eq(0)[0])}};var _e={name:'menu',create(){const e=this;bindMethods(e,{menu:Ve})},on:{click(e){const t=this;const a=o('.menu-item-dropdown-opened');a.length&&a.each((a=>{o(e.target).closest('.menu-item-dropdown-opened').length||t.menu.close(a)}))}},clicks:{'.menu-item-dropdown':function onClick(e,t,a){const r=this;if(e.hasClass('menu-item-dropdown-opened')){if(o(a.target).closest('.menu-dropdown').length)return;r.menu.close(e)}else r.menu.open(e)},'.menu-close':function onClick(){const e=this;e.menu.close()}}};const Ue=[{base:'A',letters:'A'},{base:'AA',letters:''},{base:'AE',letters:''},{base:'AO',letters:''},{base:'AU',letters:''},{base:'AV',letters:''},{base:'AY',letters:''},{base:'B',letters:'B'},{base:'C',letters:'C'},{base:'D',letters:'D'},{base:'DZ',letters:''},{base:'Dz',letters:''},{base:'E',letters:'E'},{base:'F',letters:'F'},{base:'G',letters:'G'},{base:'H',letters:'H'},{base:'I',letters:'I'},{base:'J',letters:'J'},{base:'K',letters:'K'},{base:'L',letters:'L'},{base:'LJ',letters:''},{base:'Lj',letters:''},{base:'M',letters:'M'},{base:'N',letters:'N'},{base:'NJ',letters:''},{base:'Nj',letters:''},{base:'O',letters:'O'},{base:'OI',letters:''},{base:'OO',letters:''},{base:'OU',letters:''},{base:'OE',letters:''},{base:'oe',letters:''},{base:'P',letters:'P'},{base:'Q',letters:'Q'},{base:'R',letters:'R'},{base:'S',letters:'S'},{base:'T',letters:'T'},{base:'TZ',letters:''},{base:'U',letters:'U'},{base:'V',letters:'V'},{base:'VY',letters:''},{base:'W',letters:'W'},{base:'X',letters:'X'},{base:'Y',letters:'Y'},{base:'Z',letters:'Z'},{base:'a',letters:'a'},{base:'aa',letters:''},{base:'ae',letters:''},{base:'ao',letters:''},{base:'au',letters:''},{base:'av',letters:''},{base:'ay',letters:''},{base:'b',letters:'b'},{base:'c',letters:'c'},{base:'d',letters:'d'},{base:'dz',letters:''},{base:'e',letters:'e'},{base:'f',letters:'f'},{base:'g',letters:'g'},{base:'h',letters:'h'},{base:'hv',letters:''},{base:'i',letters:'i'},{base:'j',letters:'j'},{base:'k',letters:'k'},{base:'l',letters:'l'},{base:'lj',letters:''},{base:'m',letters:'m'},{base:'n',letters:'n'},{base:'nj',letters:''},{base:'o',letters:'o'},{base:'oi',letters:''},{base:'ou',letters:''},{base:'oo',letters:''},{base:'p',letters:'p'},{base:'q',letters:'q'},{base:'r',letters:'r'},{base:'s',letters:'s'},{base:'t',letters:'t'},{base:'tz',letters:''},{base:'u',letters:'u'},{base:'v',letters:'v'},{base:'vy',letters:''},{base:'w',letters:'w'},{base:'x',letters:'x'},{base:'y',letters:'y'},{base:'z',letters:'z'}];const Fe={};for(let e=0;e<Ue.length;e+=1){const t=Ue[e].letters;for(let a=0;a<t.length;a+=1)Fe[t[a]]=Ue[e].base}function removeDiacritics(e){return e.replace(/[^\u0000-\u007E]/g,(e=>Fe[e]||e))}let We=class SmartSelect extends v{constructor(e,t){void 0===t&&(t={}),super(t,[e]);const a=this;const r=extend({on:{}},e.params.smartSelect);void 0===r.searchbarDisableButton&&(r.searchbarDisableButton='aurora'!==e.theme),a.useModulesParams(r),a.params=extend({},r,t),a.app=e;const n=o(a.params.el).eq(0);if(0===n.length)return a;if(n[0].f7SmartSelect)return n[0].f7SmartSelect;const s=n.find('select').eq(0);if(0===s.length)return a;let i;a.params.setValueText&&(i=o(a.params.valueEl),0===i.length&&(i=n.find('.item-after')),0===i.length&&(i=o('<div class="item-after"></div>'),i.insertAfter(n.find('.item-title'))));let l=t.url;l||(n.attr('href')&&'#'!==n.attr('href')?l=n.attr('href'):s.attr('name')&&(l=`${s.attr('name').toLowerCase()}-select/`)),l||(l=a.params.url);const c=s[0].multiple;const p=c?'checkbox':'radio';const d=id();function onClick(){a.open()}function onChange(){const e=a.$selectEl.val();a.$el.trigger('smartselect:change',e),a.emit('local::change smartSelectChange',a,e),a.vl&&a.vl.clearCache(),a.setValueText()}function handleInputChange(){let e;let t;const r=this;const n=r.value;let s=[];let i;if('checkbox'===r.type){for(let l=0;l<a.selectEl.options.length;l+=1)e=a.selectEl.options[l],e.value===n&&(e.selected=r.checked),e.selected&&(i=e.dataset?e.dataset.displayAs:o(e).data('display-value-as'),t=i&&void 0!==i?i:e.textContent,s.push(t.trim()));a.maxLength&&a.checkMaxLength()}else e=a.$selectEl.find(`option[value="${n}"]`)[0],e||(e=a.$selectEl.find('option').filter((e=>e.value===n))[0]),i=e.dataset?e.dataset.displayAs:o(e).data('display-as'),t=i&&void 0!==i?i:e.textContent,s=[t],a.selectEl.value=n;a.$selectEl.trigger('change'),a.params.setValueText&&a.$valueEl.text(a.formatValueText(s)),a.params.closeOnSelect&&'radio'===a.inputType&&a.close()}return extend(a,{$el:n,el:n[0],$selectEl:s,selectEl:s[0],$valueEl:i,valueEl:i&&i[0],url:l,multiple:c,inputType:p,id:d,inputName:`${p}-${d}`,selectName:s.attr('name'),maxLength:s.attr('maxlength')||t.maxLength}),n[0].f7SmartSelect=a,a.attachEvents=function attachEvents(){n.on('click',onClick),n.on('change','select',onChange)},a.detachEvents=function detachEvents(){n.off('click',onClick),n.off('change','select',onChange)},a.attachInputsEvents=function attachInputsEvents(){a.$containerEl.on('change','input[type="checkbox"], input[type="radio"]',handleInputChange)},a.detachInputsEvents=function detachInputsEvents(){a.$containerEl.off('change','input[type="checkbox"], input[type="radio"]',handleInputChange)},a.useModules(),a.init(),a}setValue(e){const t=this;let a=e;let r=[];let n;let s;let i;if(t.multiple){Array.isArray(a)||(a=[a]);for(let e=0;e<t.selectEl.options.length;e+=1)n=t.selectEl.options[e],a.indexOf(n.value)>=0?n.selected=!0:n.selected=!1,n.selected&&(s=n.dataset?n.dataset.displayAs:o(n).data('display-value-as'),i=s&&void 0!==s?s:n.textContent,r.push(i.trim()))}else n=t.$selectEl.find(`option[value="${a}"]`)[0],n&&(s=n.dataset?n.dataset.displayAs:o(n).data('display-as'),i=s&&void 0!==s?s:n.textContent,r=[i]),t.selectEl.value=a;return t.params.setValueText&&t.$valueEl.text(t.formatValueText(r)),t.$selectEl.trigger('change'),t}unsetValue(){const e=this;e.params.setValueText&&e.$valueEl.text(e.formatValueText([])),e.$selectEl.find('option').each((e=>{e.selected=!1,e.checked=!1})),e.$selectEl[0].value=null,e.$containerEl&&e.$containerEl.find(`input[name="${e.inputName}"][type="checkbox"], input[name="${e.inputName}"][type="radio"]`).prop('checked',!1),e.$selectEl.trigger('change')}getValue(){const e=this;return e.$selectEl.val()}get view(){const{params:e,$el:t}=this;let a;if(e.view&&(a=e.view),a||(a=t.parents('.view').length&&t.parents('.view')[0].f7View),!a&&'page'===e.openIn)throw Error('Smart Select requires initialized View');return a}checkMaxLength(){const e=this;const t=e.$containerEl;e.selectEl.selectedOptions.length>=e.maxLength?t.find('input[type="checkbox"]').each((e=>{e.checked?o(e).parents('li').removeClass('disabled'):o(e).parents('li').addClass('disabled')})):t.find('.disabled').removeClass('disabled')}formatValueText(e){const t=this;let a;return a=t.params.formatValueText?t.params.formatValueText.call(t,e,t):e.join(', '),a}setValueText(e){const t=this;let a=[];void 0!==e?a=Array.isArray(e)?e:[e]:t.$selectEl.find('option').each((e=>{const t=o(e);if(e.selected){const r=e.dataset?e.dataset.displayAs:t.data('display-value-as');r&&void 0!==r?a.push(r):a.push(e.textContent.trim())}})),t.params.setValueText&&t.$valueEl.text(t.formatValueText(a))}getItemsData(){const e=this;const t=e.app.theme;const a=[];let r;return e.$selectEl.find('option').each((n=>{const s=o(n);const i=s.dataset();const l=i.optionImage||e.params.optionImage;const c=i.optionIcon||e.params.optionIcon;const p='ios'===t&&(i.optionIconIos||e.params.optionIconIos);const d='md'===t&&(i.optionIconMd||e.params.optionIconMd);const u='aurora'===t&&(i.optionIconAurora||e.params.optionIconAurora);const m=l||c||p||d||u;const v=i.optionColor;let f=i.optionClass||'';s[0].disabled&&(f+=' disabled');const g=s.parent('optgroup')[0];const b=g&&g.label;let y=!1;g&&g!==r&&(y=!0,r=g,a.push({groupLabel:b,isLabel:y})),a.push({value:s[0].value,text:s[0].textContent.trim(),selected:s[0].selected,groupEl:g,groupLabel:b,image:l,icon:c,iconIos:p,iconMd:d,iconAurora:u,color:v,className:f,disabled:s[0].disabled,id:e.id,hasMedia:m,checkbox:'checkbox'===e.inputType,radio:'radio'===e.inputType,inputName:e.inputName,inputType:e.inputType})})),e.items=a,a}renderSearchbar(){const e=this;return e.params.renderSearchbar?e.params.renderSearchbar.call(e):jsx("form",{class:"searchbar"},jsx("div",{class:"searchbar-inner"},jsx("div",{class:"searchbar-input-wrap"},jsx("input",{type:"search",spellcheck:e.params.searchbarSpellcheck||'false',placeholder:e.params.searchbarPlaceholder}),jsx("i",{class:"searchbar-icon"}),jsx("span",{class:"input-clear-button"})),e.params.searchbarDisableButton&&jsx("span",{class:"searchbar-disable-button"},e.params.searchbarDisableText)))}renderItem(e,t){const a=this;if(a.params.renderItem)return a.params.renderItem.call(a,e,t);function getIconContent(e){return void 0===e&&(e=''),e.indexOf(':')>=0?e.split(':')[1]:''}function getIconClass(e){if(void 0===e&&(e=''),e.indexOf(':')>=0){let t=e.split(':')[0];return'f7'===t&&(t='f7-icons'),'material'===t&&(t='material-icons'),t}return e}let r;if(e.isLabel)r=`<li class="item-divider">${e.groupLabel}</li>`;else{let t=e.selected;let n;if(a.params.virtualList){const r=a.getValue();t=a.multiple?r.indexOf(e.value)>=0:r===e.value,a.multiple&&(n=a.multiple&&!t&&r.length===parseInt(a.maxLength,10))}const{icon:o,iconIos:s,iconMd:i,iconAurora:l}=e;const c=o||s||i||l;const p=getIconContent(o||s||i||l||'');const d=getIconClass(o||s||i||l||'');r=jsx("li",{class:`${e.className||''}${n?' disabled':''}`},jsx("label",{class:`item-${e.inputType} item-content`},jsx("input",{type:e.inputType,name:e.inputName,value:e.value,_checked:t}),jsx("i",{class:`icon icon-${e.inputType}`}),e.hasMedia&&jsx("div",{class:"item-media"},c&&jsx("i",{class:`icon ${d}`},p),e.image&&jsx("img",{src:e.image})),jsx("div",{class:"item-inner"},jsx("div",{class:"item-title"+(e.color?` text-color-${e.color}`:'')},e.text))))}return r}renderItems(){const e=this;if(e.params.renderItems)return e.params.renderItems.call(e,e.items);const t=`\n      ${e.items.map(((t,a)=>`${e.renderItem(t,a)}`)).join('')}\n    `;return t}renderPage(){const e=this;if(e.params.renderPage)return e.params.renderPage.call(e,e.items);let t=e.params.pageTitle;if(void 0===t){const a=e.$el.find('.item-title');t=a.length?a.text().trim():''}const a=e.params.cssClass;return jsx("div",{class:`page smart-select-page ${a}`,"data-name":"smart-select-page","data-select-name":e.selectName},jsx("div",{class:"navbar "+(e.params.navbarColorTheme?`color-${e.params.navbarColorTheme}`:'')},jsx("div",{class:"navbar-bg"}),jsx("div",{class:"navbar-inner sliding "+(e.params.navbarColorTheme?`color-${e.params.navbarColorTheme}`:'')},jsx("div",{class:"left"},jsx("a",{class:"link back"},jsx("i",{class:"icon icon-back"}),jsx("span",{class:"if-not-md"},e.params.pageBackLinkText))),t&&jsx("div",{class:"title"},t),e.params.searchbar&&jsx("div",{class:"subnavbar"},e.renderSearchbar()))),e.params.searchbar&&jsx("div",{class:"searchbar-backdrop"}),jsx("div",{class:"page-content"},jsx("div",{class:`list smart-select-list-${e.id} ${e.params.virtualList?' virtual-list':''} ${e.params.formColorTheme?`color-${e.params.formColorTheme}`:''}`},jsx("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))}renderPopup(){const e=this;if(e.params.renderPopup)return e.params.renderPopup.call(e,e.items);let t=e.params.pageTitle;if(void 0===t){const a=e.$el.find('.item-title');t=a.length?a.text().trim():''}const a=e.params.cssClass||'';return jsx("div",{class:`popup smart-select-popup ${a} ${e.params.popupTabletFullscreen?'popup-tablet-fullscreen':''}`,"data-select-name":e.selectName},jsx("div",{class:"view"},jsx("div",{class:"page smart-select-page "+(e.params.searchbar?'page-with-subnavbar':''),"data-name":"smart-select-page"},jsx("div",{class:"navbar "+(e.params.navbarColorTheme?`color-${e.params.navbarColorTheme}`:'')},jsx("div",{class:"navbar-bg"}),jsx("div",{class:"navbar-inner sliding"},t&&jsx("div",{class:"title"},t),jsx("div",{class:"right"},jsx("a",{class:"link popup-close","data-popup":`.smart-select-popup[data-select-name='${e.selectName}']`},e.params.popupCloseLinkText)),e.params.searchbar&&jsx("div",{class:"subnavbar"},e.renderSearchbar()))),e.params.searchbar&&jsx("div",{class:"searchbar-backdrop"}),jsx("div",{class:"page-content"},jsx("div",{class:`list smart-select-list-${e.id} ${e.params.virtualList?' virtual-list':''} ${e.params.formColorTheme?`color-${e.params.formColorTheme}`:''}`},jsx("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))))}renderSheet(){const e=this;if(e.params.renderSheet)return e.params.renderSheet.call(e,e.items);const t=e.params.cssClass;return jsx("div",{class:`sheet-modal smart-select-sheet ${t}`,"data-select-name":e.selectName},jsx("div",{class:"toolbar toolbar-top "+(e.params.toolbarColorTheme?`color-${e.params.toolbarColorTheme}`:'')},jsx("div",{class:"toolbar-inner"},jsx("div",{class:"left"}),jsx("div",{class:"right"},jsx("a",{class:"link sheet-close"},e.params.sheetCloseLinkText)))),jsx("div",{class:"sheet-modal-inner"},jsx("div",{class:"page-content"},jsx("div",{class:`list smart-select-list-${e.id} ${e.params.virtualList?' virtual-list':''} ${e.params.formColorTheme?`color-${e.params.formColorTheme}`:''}`},jsx("ul",null,!e.params.virtualList&&e.renderItems(e.items))))))}renderPopover(){const e=this;if(e.params.renderPopover)return e.params.renderPopover.call(e,e.items);const t=e.params.cssClass;return jsx("div",{class:`popover smart-select-popover ${t}`,"data-select-name":e.selectName},jsx("div",{class:"popover-inner"},jsx("div",{class:`list smart-select-list-${e.id} ${e.params.virtualList?' virtual-list':''} ${e.params.formColorTheme?`color-${e.params.formColorTheme}`:''}`},jsx("ul",null,!e.params.virtualList&&e.renderItems(e.items)))))}scrollToSelectedItem(){const e=this;const{params:t,$containerEl:a}=e;if(!e.opened)return e;if(t.virtualList){let t;e.vl.items.forEach(((e,a)=>{void 0===t&&e.selected&&(t=a)})),void 0!==t&&e.vl.scrollToItem(t)}else{const t=a.find('input:checked').parents('li');if(!t.length)return e;const r=a.find('.page-content, .popover-inner');if(!r.length)return e;r.scrollTop(t.offset().top-r.offset().top-parseInt(r.css('padding-top'),10))}return e}onOpen(e,t){const a=this;const r=a.app;const n=o(t);if(a.$containerEl=n,a.openedIn=e,a.opened=!0,a.params.virtualList&&(a.vl=r.virtualList.create({el:n.find('.virtual-list'),items:a.items,renderItem:a.renderItem.bind(a),height:a.params.virtualListHeight,searchByItem:(e,t)=>!!(t.text&&removeDiacritics(t.text).toLowerCase().indexOf(e.trim().toLowerCase())>=0)})),a.params.scrollToSelectedItem&&a.scrollToSelectedItem(),a.params.searchbar){let t=n.find('.searchbar');if('page'===e&&'ios'===r.theme&&(t=o(r.navbar.getElByPage(n)).find('.searchbar')),a.params.appendSearchbarNotFound&&('page'===e||'popup'===e)){let e=null;e='string'==typeof a.params.appendSearchbarNotFound?o(`<div class="block searchbar-not-found">${a.params.appendSearchbarNotFound}</div>`):'boolean'==typeof a.params.appendSearchbarNotFound?o('<div class="block searchbar-not-found">Nothing found</div>'):a.params.appendSearchbarNotFound,e&&n.find('.page-content').append(e[0])}const s=extend({el:t,backdropEl:n.find('.searchbar-backdrop'),searchContainer:`.smart-select-list-${a.id}`,searchIn:'.item-title'},'object'==typeof a.params.searchbar?a.params.searchbar:{});a.searchbar=r.searchbar.create(s)}a.maxLength&&a.checkMaxLength(),a.params.closeOnSelect&&a.$containerEl.find(`input[type="radio"][name="${a.inputName}"]:checked`).parents('label').once('click',(()=>{a.close()})),a.attachInputsEvents(),a.$el.trigger('smartselect:open'),a.emit('local::open smartSelectOpen',a)}onOpened(){const e=this;e.$el.trigger('smartselect:opened'),e.emit('local::opened smartSelectOpened',e)}onClose(){const e=this;e.destroyed||(e.vl&&e.vl.destroy&&(e.vl.destroy(),e.vl=null,delete e.vl),e.searchbar&&e.searchbar.destroy&&(e.searchbar.destroy(),e.searchbar=null,delete e.searchbar),e.detachInputsEvents(),e.$el.trigger('smartselect:close'),e.emit('local::close smartSelectClose',e))}onClosed(){const e=this;e.destroyed||(e.opened=!1,e.$containerEl=null,delete e.$containerEl,e.$el.trigger('smartselect:closed'),e.emit('local::closed smartSelectClosed',e))}openPage(){const e=this;if(e.opened)return e;e.getItemsData();const t=e.renderPage(e.items);return e.view.router.navigate({url:e.url,route:{content:t,path:e.url,on:{pageBeforeIn(t,a){e.onOpen('page',a.el)},pageAfterIn(t,a){e.onOpened('page',a.el)},pageBeforeOut(t,a){e.onClose('page',a.el)},pageAfterOut(t,a){e.onClosed('page',a.el)}}}}),e}openPopup(){const e=this;if(e.opened)return e;e.getItemsData();const t=e.renderPopup(e.items);const a={content:t,push:e.params.popupPush,swipeToClose:e.params.popupSwipeToClose,on:{popupOpen(t){e.onOpen('popup',t.el)},popupOpened(t){e.onOpened('popup',t.el)},popupClose(t){e.onClose('popup',t.el)},popupClosed(t){e.onClosed('popup',t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popup:a}}):e.modal=e.app.popup.create(a).open(),e}openSheet(){const e=this;if(e.opened)return e;e.getItemsData();const t=e.renderSheet(e.items);const a={content:t,backdrop:e.params.sheetBackdrop,scrollToEl:e.$el,closeByOutsideClick:!0,push:e.params.sheetPush,swipeToClose:e.params.sheetSwipeToClose,on:{sheetOpen(t){e.onOpen('sheet',t.el)},sheetOpened(t){e.onOpened('sheet',t.el)},sheetClose(t){e.onClose('sheet',t.el)},sheetClosed(t){e.onClosed('sheet',t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,sheet:a}}):e.modal=e.app.sheet.create(a).open(),e}openPopover(){const e=this;if(e.opened)return e;e.getItemsData();const t=e.renderPopover(e.items);const a={content:t,targetEl:e.$el,on:{popoverOpen(t){e.onOpen('popover',t.el)},popoverOpened(t){e.onOpened('popover',t.el)},popoverClose(t){e.onClose('popover',t.el)},popoverClosed(t){e.onClosed('popover',t.el)}}};return e.params.routableModals&&e.view?e.view.router.navigate({url:e.url,route:{path:e.url,popover:a}}):e.modal=e.app.popover.create(a).open(),e}open(e){const t=this;if(t.opened)return t;let a=!1;function prevent(){a=!0}if(t.$el&&t.$el.trigger('smartselect:beforeopen',{prevent:prevent}),t.emit('local::beforeOpen smartSelectBeforeOpen',t,prevent),a)return t;const r=e||t.params.openIn;return t[`open${r.split('').map(((e,t)=>0===t?e.toUpperCase():e)).join('')}`](),t}close(){const e=this;return e.opened?(e.params.routableModals&&e.view||'page'===e.openedIn?e.view.router.back():(e.modal.once('modalClosed',(()=>{nextTick((()=>{e.destroyed||(e.modal.destroy(),delete e.modal)}))})),e.modal.close()),e):e}init(){const e=this;e.attachEvents(),e.setValueText()}destroy(){const e=this;e.emit('local::beforeDestroy smartSelectBeforeDestroy',e),e.$el.trigger('smartselect:beforedestroy'),e.detachEvents(),delete e.$el[0].f7SmartSelect,deleteProps(e),e.destroyed=!0}};var Xe=We;var Ye={name:'smartSelect',params:{smartSelect:{el:void 0,valueEl:void 0,setValueText:!0,formatValueText:null,openIn:'page',popupPush:!1,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,sheetBackdrop:!1,pageTitle:void 0,pageBackLinkText:'Back',popupCloseLinkText:'Close',popupTabletFullscreen:!1,sheetCloseLinkText:'Done',searchbar:!1,searchbarPlaceholder:'Search',searchbarDisableText:'Cancel',searchbarDisableButton:void 0,searchbarSpellcheck:!1,closeOnSelect:!1,virtualList:!1,virtualListHeight:void 0,scrollToSelectedItem:!1,formColorTheme:void 0,navbarColorTheme:void 0,routableModals:!1,url:'select/',cssClass:'',renderPage:void 0,renderPopup:void 0,renderSheet:void 0,renderPopover:void 0,renderItems:void 0,renderItem:void 0,renderSearchbar:void 0}},static:{SmartSelect:Xe},create(){const e=this;e.smartSelect=extend(ConstructorMethods({defaultSelector:'.smart-select',constructor:Xe,app:e,domProp:'f7SmartSelect'}),{open(t){const a=e.smartSelect.get(t);if(a&&a.open)return a.open()},close(t){const a=e.smartSelect.get(t);if(a&&a.close)return a.close()}})},on:{tabMounted(e){const t=this;o(e).find('.smart-select-init').each((e=>{t.smartSelect.create(extend({el:e},o(e).dataset()))}))},tabBeforeRemove(e){o(e).find('.smart-select-init').each((e=>{e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()}))},pageInit(e){const t=this;e.$el.find('.smart-select-init').each((e=>{t.smartSelect.create(extend({el:e},o(e).dataset()))}))},pageBeforeRemove(e){e.$el.find('.smart-select-init').each((e=>{e.f7SmartSelect&&e.f7SmartSelect.destroy&&e.f7SmartSelect.destroy()}))}},clicks:{'.smart-select':function open(e,t){const a=this;if(!e[0].f7SmartSelect){const r=a.smartSelect.create(extend({el:e},t));r.open()}}},vnode:{'smart-select-init':{insert(e){const t=this;const a=e.elm;t.smartSelect.create(extend({el:a},o(a).dataset()))},destroy(e){const t=e.elm;t.f7SmartSelect&&t.f7SmartSelect.destroy&&t.f7SmartSelect.destroy()}}}};let Qe=class Range extends v{constructor(e,t){super(t,[e]);const a=this;const r=getSupport();const n={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0,vertical:!1,verticalReversed:!1,formatLabel:null,scale:!1,scaleSteps:5,scaleSubSteps:0,formatScaleLabel:null,limitKnobPosition:'ios'===e.theme};a.useModulesParams(n),a.params=extend(n,t);const s=a.params.el;if(!s)return a;const i=o(s);if(0===i.length)return a;if(i[0].f7Range)return i[0].f7Range;const l=i.dataset();let c;'step min max value scaleSteps scaleSubSteps'.split(' ').forEach((e=>{void 0===t[e]&&void 0!==l[e]&&(a.params[e]=parseFloat(l[e]))})),'dual label vertical verticalReversed scale'.split(' ').forEach((e=>{void 0===t[e]&&void 0!==l[e]&&(a.params[e]=l[e])})),a.params.value||(void 0!==l.value&&(a.params.value=l.value),void 0!==l.valueLeft&&void 0!==l.valueRight&&(a.params.value=[parseFloat(l.valueLeft),parseFloat(l.valueRight)])),a.params.dual||(a.params.inputEl?c=o(a.params.inputEl):i.find('input[type="range"]').length&&(c=i.find('input[type="range"]').eq(0)));const{dual:p,step:d,label:u,min:m,max:v,value:f,vertical:g,verticalReversed:b,scale:y,scaleSteps:C,scaleSubSteps:w,limitKnobPosition:k}=a.params;extend(a,{app:e,$el:i,el:i[0],$inputEl:c,inputEl:c?c[0]:void 0,dual:p,step:d,label:u,min:m,max:v,value:f,previousValue:f,vertical:g,verticalReversed:b,scale:y,scaleSteps:C,scaleSubSteps:w,limitKnobPosition:k}),c&&('step min max'.split(' ').forEach((e=>{!t[e]&&c.attr(e)&&(a.params[e]=parseFloat(c.attr(e)),a[e]=parseFloat(c.attr(e)))})),void 0!==c.val()&&(a.params.value=parseFloat(c.val()),a.value=parseFloat(c.val()))),a.dual&&i.addClass('range-slider-dual'),a.label&&i.addClass('range-slider-label'),a.vertical?(i.addClass('range-slider-vertical'),a.verticalReversed&&i.addClass('range-slider-vertical-reversed')):i.addClass('range-slider-horizontal');const x=o('<div class="range-bar"></div>');const $=o('<div class="range-bar-active"></div>');x.append($);const E=`\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        ${a.label?'<div class="range-knob-label"></div>':''}\n      </div>\n    `;const T=[o(E)];a.dual&&T.push(o(E)),i.append(x),T.forEach((e=>{i.append(e)}));const S=[];let P;let R;a.label&&(S.push(T[0].find('.range-knob-label')),a.dual&&S.push(T[1].find('.range-knob-label'))),a.scale&&a.scaleSteps>=1&&(P=o(`\n        <div class="range-scale">\n          ${a.renderScale()}\n        </div>\n      `),i.append(P)),extend(a,{knobs:T,labels:S,$barEl:x,$barActiveEl:$,$scaleEl:P}),i[0].f7Range=a;const O={};let M;let A;let B;let N;let L;let H;let D;let j;function onTouchChange(){D=!0}function handleTouchStart(e){if(R)return;if(!a.params.draggableBar&&0===o(e.target).closest('.range-knob').length)return;let t;D=!1,O.x='touchstart'===e.type?e.targetTouches[0].pageX:e.pageX,O.y='touchstart'===e.type?e.targetTouches[0].pageY:e.pageY,'touchstart'===e.type&&(j=e.targetTouches[0].identifier),R=!0,M=void 0,A=i.offset(),B=A.left,N=A.top,a.vertical?(t=(O.y-N)/a.rangeHeight,a.verticalReversed||(t=1-t)):t=a.app.rtl?(B+a.rangeWidth-O.x)/a.rangeWidth:(O.x-B)/a.rangeWidth;let r=t*(a.max-a.min)+a.min;a.dual?Math.abs(a.value[0]-r)<Math.abs(a.value[1]-r)?(H=0,L=a.knobs[0],r=[r,a.value[1]]):(H=1,L=a.knobs[1],r=[a.value[0],r]):(L=a.knobs[0],r=t*(a.max-a.min)+a.min),nextTick((()=>{R&&L.addClass('range-knob-active-state')}),70),a.on('change',onTouchChange),a.setValue(r,!0)}function handleTouchMove(e){if(!R)return;let t;let r;if('touchmove'===e.type)for(let a=0;a<e.targetTouches.length;a+=1)e.targetTouches[a].identifier===j&&(t=e.targetTouches[a].pageX,r=e.targetTouches[a].pageY);else t=e.pageX,r=e.pageY;if(void 0===t&&void 0===r)return;if(void 0!==M||a.vertical||(M=!!(M||Math.abs(r-O.y)>Math.abs(t-O.x))),M)return void(R=!1);let n;e.preventDefault(),a.vertical?(n=(r-N)/a.rangeHeight,a.verticalReversed||(n=1-n)):n=a.app.rtl?(B+a.rangeWidth-t)/a.rangeWidth:(t-B)/a.rangeWidth;let o=n*(a.max-a.min)+a.min;if(a.dual){let e;let t;0===H?(e=o,t=a.value[1],e>t&&(t=e)):(e=a.value[0],t=o,t<e&&(e=t)),o=[e,t]}a.setValue(o,!0)}function handleTouchEnd(e){if('touchend'===e.type){let t;for(let a=0;a<e.changedTouches.length;a+=1)e.changedTouches[a].identifier===j&&(t=!0);if(!t)return}if(!R)return M&&L.removeClass('range-knob-active-state'),void(R=!1);a.off('change',onTouchChange),R=!1,L.removeClass('range-knob-active-state'),D&&a.$inputEl&&!a.dual&&a.$inputEl.trigger('change'),D=!1,void 0!==a.previousValue&&(a.dual&&(a.previousValue[0]!==a.value[0]||a.previousValue[1]!==a.value[1])||!a.dual&&a.previousValue!==a.value)&&(a.$el.trigger('range:changed',a.value),a.emit('local::changed rangeChanged',a,a.value))}function handleResize(){a.calcSize(),a.layout()}let I;let z;let q;return a.attachEvents=function attachEvents(){const t=!!r.passiveListener&&{passive:!0};a.$el.on(e.touchEvents.start,handleTouchStart,t),e.on('touchmove',handleTouchMove),e.on('touchend:passive',handleTouchEnd),e.on('tabShow',handleResize),e.on('resize',handleResize),I=a.$el.parents('.sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast'),I.on('modal:open',handleResize),z=a.$el.parents('.panel'),z.on('panel:open panel:resize',handleResize),q=a.$el.parents('.page').eq(0),q.on('page:reinit',handleResize)},a.detachEvents=function detachEvents(){const t=!!r.passiveListener&&{passive:!0};a.$el.off(e.touchEvents.start,handleTouchStart,t),e.off('touchmove',handleTouchMove),e.off('touchend:passive',handleTouchEnd),e.off('tabShow',handleResize),e.off('resize',handleResize),I&&I.off('modal:open',handleResize),z&&z.off('panel:open panel:resize',handleResize),q&&q.off('page:reinit',handleResize),I=null,z=null,q=null},a.useModules(),a.init(),a}calcSize(){const e=this;if(e.vertical){const t=e.$el.outerHeight();if(0===t)return;e.rangeHeight=t,e.knobHeight=e.knobs[0].outerHeight()}else{const t=e.$el.outerWidth();if(0===t)return;e.rangeWidth=t,e.knobWidth=e.knobs[0].outerWidth()}}layout(){const e=this;const{app:t,knobWidth:a,knobHeight:r,rangeWidth:n,rangeHeight:o,min:s,max:i,knobs:l,$barActiveEl:c,value:p,label:d,labels:u,vertical:m,verticalReversed:v,limitKnobPosition:f}=e;const g=m?r:a;const b=m?o:n;const y=m?v?'top':'bottom':t.rtl?'right':'left';if(e.dual){const t=[(p[0]-s)/(i-s),(p[1]-s)/(i-s)];c.css({[y]:100*t[0]+"%",[m?'height':'width']:100*(t[1]-t[0])+"%"}),l.forEach(((a,r)=>{let n=b*t[r];if(f){const e=b*t[r]-g/2;e<0&&(n=g/2),e+g>b&&(n=b-g/2)}a.css(y,`${n}px`),d&&u[r].text(e.formatLabel(p[r],u[r][0]))}))}else{const t=(p-s)/(i-s);c.css(m?'height':'width',100*t+"%");let a=b*t;if(f){const e=b*t-g/2;e<0&&(a=g/2),e+g>b&&(a=b-g/2)}l[0].css(y,`${a}px`),d&&u[0].text(e.formatLabel(p,u[0][0]))}e.dual&&p.indexOf(s)>=0||!e.dual&&p===s?e.$el.addClass('range-slider-min'):e.$el.removeClass('range-slider-min'),e.dual&&p.indexOf(i)>=0||!e.dual&&p===i?e.$el.addClass('range-slider-max'):e.$el.removeClass('range-slider-max')}setValue(e,t){const a=this;const{step:r,min:n,max:o}=a;let s;let i;if(a.dual){i=[a.value[0],a.value[1]];let t=e;if(Array.isArray(t)||(t=[e,e]),e[0]>e[1]&&(t=[t[0],t[0]]),t=t.map((e=>Math.max(Math.min(Math.round(e/r)*r,o),n))),t[0]===a.value[0]&&t[1]===a.value[1])return a;t.forEach(((e,t)=>{a.value[t]=e})),s=i[0]!==t[0]||i[1]!==t[1],a.layout()}else{i=a.value;const t=Math.max(Math.min(Math.round(e/r)*r,o),n);a.value=t,a.layout(),s=i!==t}return s&&(a.previousValue=i),s?(a.$el.trigger('range:change',a.value),a.$inputEl&&!a.dual&&(a.$inputEl.val(a.value),t?a.$inputEl.trigger('input'):a.$inputEl.trigger('input change')),t||(a.$el.trigger('range:changed',a.value),a.emit('local::changed rangeChanged',a,a.value)),a.emit('local::change rangeChange',a,a.value),a):a}getValue(){return this.value}formatLabel(e,t){const a=this;return a.params.formatLabel?a.params.formatLabel.call(a,e,t):e}formatScaleLabel(e){const t=this;return t.params.formatScaleLabel?t.params.formatScaleLabel.call(t,e):e}renderScale(){const e=this;const{app:t,verticalReversed:a,vertical:r}=e;const n=r?a?'top':'bottom':t.rtl?'right':'left';let o='';return Array.from({length:e.scaleSteps+1}).forEach(((t,a)=>{const r=(e.max-e.min)/e.scaleSteps;const s=e.min+r*a;const i=(s-e.min)/(e.max-e.min);o+=`<div class="range-scale-step" style="${n}: ${100*i}%">${e.formatScaleLabel(s)}</div>`,e.scaleSubSteps&&e.scaleSubSteps>1&&a<e.scaleSteps&&Array.from({length:e.scaleSubSteps-1}).forEach(((t,a)=>{const i=r/e.scaleSubSteps;const l=s+i*(a+1);const c=(l-e.min)/(e.max-e.min);o+=`<div class="range-scale-step range-scale-substep" style="${n}: ${100*c}%"></div>`}))})),o}updateScale(){const e=this;if(!e.scale||e.scaleSteps<1)return e.$scaleEl&&e.$scaleEl.remove(),void delete e.$scaleEl;e.$scaleEl||(e.$scaleEl=o('<div class="range-scale"></div>'),e.$el.append(e.$scaleEl)),e.$scaleEl.html(e.renderScale())}init(){const e=this;return e.calcSize(),e.layout(),e.attachEvents(),e}destroy(){let e=this;e.$el.trigger('range:beforedestroy'),e.emit('local::beforeDestroy rangeBeforeDestroy',e),delete e.$el[0].f7Range,e.detachEvents(),deleteProps(e),e=null}};var Ke=Qe;var Ge={name:'range',create(){const e=this;e.range=extend(ConstructorMethods({defaultSelector:'.range-slider',constructor:Ke,app:e,domProp:'f7Range'}),{getValue(t){void 0===t&&(t='.range-slider');const a=e.range.get(t);if(a)return a.getValue()},setValue(t,a){void 0===t&&(t='.range-slider');const r=e.range.get(t);if(r)return r.setValue(a)}})},static:{Range:Ke},on:{tabMounted(e){const t=this;o(e).find('.range-slider-init').each((e=>new Ke(t,{el:e})))},tabBeforeRemove(e){o(e).find('.range-slider-init').each((e=>{e.f7Range&&e.f7Range.destroy()}))},pageInit(e){const t=this;e.$el.find('.range-slider-init').each((e=>new Ke(t,{el:e})))},pageBeforeRemove(e){e.$el.find('.range-slider-init').each((e=>{e.f7Range&&e.f7Range.destroy()}))}},vnode:{'range-slider-init':{insert(e){const t=e.elm;const a=this;a.range.create({el:t})},destroy(e){const t=e.elm;t.f7Range&&t.f7Range.destroy()}}}};export{qe as Accordion,g as Framework7,_e as Menu,Be as Panel,He as Popup,Ge as Range,Ye as SmartSelect,Ie as Stepper};
