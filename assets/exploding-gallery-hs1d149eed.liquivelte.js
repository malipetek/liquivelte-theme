import{SvelteComponent as e,init as t,safe_not_equal as l,element as i,space as s,text as n,claim_element as a,children as o,detach as c,claim_space as r,claim_text as g,attr as d,set_style as m,insert_hydration as h,append_hydration as u,noop as v,destroy_each as f,component_subscribe as p,onMount as b,src_url_equal as _,add_render_callback as x,add_resize_listener as $,tweened as k,binding_callbacks as y,identity as T}from'./liquivelte-svelte-hs5045a7fb.liquivelte.js';import{cachedLiquid as w}from'./liquivelte-liquid-hs1d149b67.liquivelte.js';function get_each_context(e,t,l){const i=e.slice();i[32]=t[l],i[35]=l;const s={first:0===i[35],index:i[35]+1,index0:i[35],last:i[35]===i[4].blocks.length-1,rindex:i[4].blocks.length-i[35],rindex0:i[4].blocks.length-i[35]-1,length:i[4].blocks.length};return i[33]=s,i}function create_each_block(e){let t;let l;let n;let g;let v;let f;let p;let b;let k;let y;let T;let w;let E;function div_elementresize_handler(){e[23].call(t,e[33])}return{c(){t=i("div"),l=i("picture"),n=i("source"),v=s(),f=i("source"),b=s(),k=i("img"),w=s(),this.h()},l(e){t=a(e,"DIV",{class:!0,style:!0});var i=o(t);l=a(i,"PICTURE",{class:!0});var s=o(l);n=a(s,"SOURCE",{media:!0,srcset:!0}),v=r(s),f=a(s,"SOURCE",{media:!0,srcset:!0}),b=r(s),k=a(s,"IMG",{class:!0,src:!0,alt:!0,style:!0}),s.forEach(c),w=r(i),i.forEach(c),this.h()},h(){d(n,"media","(min-width:650px)"),d(n,"srcset",g=e[9].img_url(e[32].settings.image,'x800')),d(f,"media","(min-width:1200px)"),d(f,"srcset",p=e[9].img_url(e[32].settings.image,'x800')),d(k,"class"," svelte-12dbek"),_(k.src,y=e[9].img_url(e[32].settings.image,'x800'))||d(k,"src",y),d(k,"alt",T=e[32].settings.image.alt),m(k,"width","auto"),d(l,"class"," svelte-12dbek"),d(t,"class","image-container a svelte-12dbek"),m(t,"--image-aspect-ratio",e[32].settings.image.aspect_ratio),x((()=>div_elementresize_handler.call(t)))},m(e,i){h(e,t,i),u(t,l),u(l,n),u(l,v),u(l,f),u(l,b),u(l,k),u(t,w),E=$(t,div_elementresize_handler.bind(t))},p(l,i){e=l,16&i[0]&&g!==(g=e[9].img_url(e[32].settings.image,'x800'))&&d(n,"srcset",g),16&i[0]&&p!==(p=e[9].img_url(e[32].settings.image,'x800'))&&d(f,"srcset",p),16&i[0]&&!_(k.src,y=e[9].img_url(e[32].settings.image,'x800'))&&d(k,"src",y),16&i[0]&&T!==(T=e[32].settings.image.alt)&&d(k,"alt",T),16&i[0]&&m(t,"--image-aspect-ratio",e[32].settings.image.aspect_ratio)},d(e){e&&c(t),E()}}}function create_fragment(e){let t;let l;let p;let b;let _;let x;let $;let k=e[4].blocks;let y=[];for(let t=0;t<k.length;t+=1)y[t]=create_each_block(get_each_context(e,k,t));return{c(){t=i("div"),l=i("div"),p=i("div");for(let e=0;e<y.length;e+=1)y[e].c();b=s(),_=i("div"),x=n(" "),this.h()},l(e){t=a(e,"DIV",{class:!0,style:!0});var i=o(t);l=a(i,"DIV",{class:!0});var s=o(l);p=a(s,"DIV",{class:!0});var n=o(p);for(let e=0;e<y.length;e+=1)y[e].l(n);n.forEach(c),s.forEach(c),b=r(i),_=a(i,"DIV",{class:!0,style:!0});var d=o(_);x=g(d," "),d.forEach(c),i.forEach(c),this.h()},h(){d(p,"class","exp-gallery-stage svelte-12dbek"),d(l,"class","stage-container svelte-12dbek"),d(_,"class","exp-gallery-placeholder"),m(_,"height",e[5]+E+"px"),d(t,"class","exp-gallery-container svelte-12dbek"),d(t,"style",$="--explode-gap: 1em; --explode-size-imbalance: 0%; --image-oversize: 1; "+e[6].join(';')+"; "+e[8].join(';')+"; "+e[7].join(';'))},m(i,s){h(i,t,s),u(t,l),u(l,p);for(let e=0;e<y.length;e+=1)y[e].m(p,null);e[24](p),u(t,b),u(t,_),u(_,x),e[25](t)},p(e,l){if(540&l[0]){let t;for(k=e[4].blocks,t=0;t<k.length;t+=1){const i=get_each_context(e,k,t);y[t]?y[t].p(i,l):(y[t]=create_each_block(i),y[t].c(),y[t].m(p,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=k.length}32&l[0]&&m(_,"height",e[5]+E+"px"),448&l[0]&&$!==($="--explode-gap: 1em; --explode-size-imbalance: 0%; --image-oversize: 1; "+e[6].join(';')+"; "+e[8].join(';')+"; "+e[7].join(';'))&&d(t,"style",$)},i:v,o:v,d(l){l&&c(t),f(y,l),e[24](null),e[25](null)}}}let E=900;function instance(e,t,l){let i;let s;let n;let{lec:a}=t;const o=w(a);let c,r;let g=0;const d={};let{"sectionƒƒsettings":m}=t;d.settings=m;let{"sectionƒƒblocks":h}=t;d.blocks=h;let{imbalance:u}=t;const v=[];const f=[];let _=0;let x=0;let $=0;let E=0;let z=0;let H=0;let j;let q=[{from:52,to:77,valueFrom:1,valueTo:10,variable:'--explode-gap',unit:'em'},{from:33,to:66,valueFrom:0,valueTo:20,variable:'--explode-size-imbalance',unit:'%'},{from:66,to:100,valueFrom:1,valueTo:2,variable:'--image-oversize'}];const F=k(0,{duration:100,easing:T});p(e,F,(e=>l(22,n=e)));let I=[1];function div_elementresize_handler(e){v[e.index]=this.clientWidth,f[e.index]=this.clientHeight,l(2,v),l(3,f)}function div0_binding(e){y[e?'unshift':'push']((()=>{r=e,l(1,r)}))}function div3_binding(e){y[e?'unshift':'push']((()=>{c=e,l(0,c)}))}return b((()=>{document.querySelector('.page-content').addEventListener('scroll',(e=>{l(15,g=e.target.scrollTop)}))})),e.$$set=e=>{'lec'in e&&l(11,a=e.lec),'sectionƒƒsettings'in e&&l(12,m=e.sectionƒƒsettings),'sectionƒƒblocks'in e&&l(13,h=e.sectionƒƒblocks),'imbalance'in e&&l(14,u=e.imbalance)},e.$$.update=()=>{2097152&e.$$.dirty[0]&&(j||l(21,j=[...document.querySelectorAll('.image-container')][4].children[0])),1998851&e.$$.dirty[0]&&c&&r&&(c.offsetTop,l(16,_=c.clientHeight),c.offsetTop,window.innerHeight,c.offsetTop,window.innerHeight,l(17,x=c.offsetTop-g<0),l(18,$=x?$:c.clientHeight),l(19,E=Math.abs(c.offsetTop-g)),c.offsetTop,l(20,z=(g+window.innerHeight-c.offsetTop)/(c.clientHeight+window.innerHeight)*100),l(20,z=z>0?z:0),F.set(z),l(5,H=r.clientHeight)),4194304&e.$$.dirty[0]&&l(6,I=q.map((e=>{let t=(n-e.from)/(e.to-e.from);let l=e.valueFrom+(e.valueTo-e.valueFrom)*t;return l=l<e.valueFrom?e.valueFrom:l>e.valueTo?e.valueTo:Math.round(1e6*l)/1e6,`${e.variable}:${l}${e.unit||''}`}))),4&e.$$.dirty[0]&&l(8,i=v.map(((e,t)=>`--item-${t}-width: ${e}px`))),8&e.$$.dirty[0]&&l(7,s=f.map(((e,t)=>`--item-${t}-height: ${e}px`)))},[c,r,v,f,d,H,I,s,i,o,F,a,m,h,u,g,_,x,$,E,z,j,n,div_elementresize_handler,div0_binding,div3_binding]}class Exploding_gallery extends e{constructor(e){super(),t(this,e,instance,create_fragment,l,{lec:11,"sectionƒƒsettings":12,"sectionƒƒblocks":13,imbalance:14},null,[-1,-1])}}export{Exploding_gallery as default};
